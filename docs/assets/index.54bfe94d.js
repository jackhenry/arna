var Ac=Object.defineProperty;var bc=(e,t,n)=>t in e?Ac(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var He=(e,t,n)=>(bc(e,typeof t!="symbol"?t+"":t,n),n);import{C as Jr,c as k}from"./codemirror.20a0d7ae.js";import{c as an}from"./chroma-js.e89a2244.js";import{K as Je}from"./konva.8a4f0da8.js";const Oc=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerpolicy&&(i.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?i.credentials="include":a.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}};Oc();function be(){}function Ze(e,t){for(const n in t)e[n]=t[n];return e}function iu(e){return e()}function Ro(){return Object.create(null)}function Ln(e){e.forEach(iu)}function Ni(e){return typeof e=="function"}function De(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Rc(e){return Object.keys(e).length===0}function ou(e,...t){if(e==null)return be;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function ye(e,t,n){e.$$.on_destroy.push(ou(t,n))}function ua(e,t,n,r){if(e){const a=su(e,t,n,r);return e[0](a)}}function su(e,t,n,r){return e[1]&&r?Ze(n.ctx.slice(),e[1](r(t))):n.ctx}function la(e,t,n,r){if(e[2]&&r){const a=e[2](r(n));if(t.dirty===void 0)return a;if(typeof a=="object"){const i=[],o=Math.max(t.dirty.length,a.length);for(let u=0;u<o;u+=1)i[u]=t.dirty[u]|a[u];return i}return t.dirty|a}return t.dirty}function ca(e,t,n,r,a,i){if(a){const o=su(t,n,r,i);e.p(o,a)}}function fa(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let r=0;r<n;r++)t[r]=-1;return t}return-1}function tt(e){const t={};for(const n in e)n[0]!=="$"&&(t[n]=e[n]);return t}function Ue(e,t,n){return e.set(n),t}function ni(e){return e&&Ni(e.destroy)?e.destroy:be}function D(e,t){e.appendChild(t)}function te(e,t,n){e.insertBefore(t,n||null)}function Q(e){e.parentNode.removeChild(e)}function Z(e){return document.createElement(e)}function lt(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function ie(e){return document.createTextNode(e)}function oe(){return ie(" ")}function Ic(){return ie("")}function Sc(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function G(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Nc(e){return Array.from(e.childNodes)}function Pi(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}let sr;function nr(e){sr=e}function Ci(){if(!sr)throw new Error("Function called outside component initialization");return sr}function kn(e){Ci().$$.on_mount.push(e)}function Pc(e){Ci().$$.after_update.push(e)}function Cc(e){Ci().$$.on_destroy.push(e)}const er=[],Tt=[],Yr=[],pi=[],$c=Promise.resolve();let vi=!1;function Lc(){vi||(vi=!0,$c.then(lu))}function _i(e){Yr.push(e)}function uu(e){pi.push(e)}const ri=new Set;let Br=0;function lu(){const e=sr;do{for(;Br<er.length;){const t=er[Br];Br++,nr(t),kc(t.$$)}for(nr(null),er.length=0,Br=0;Tt.length;)Tt.pop()();for(let t=0;t<Yr.length;t+=1){const n=Yr[t];ri.has(n)||(ri.add(n),n())}Yr.length=0}while(er.length);for(;pi.length;)pi.pop()();vi=!1,ri.clear(),nr(e)}function kc(e){if(e.fragment!==null){e.update(),Ln(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(_i)}}const Xr=new Set;let on;function ea(){on={r:0,c:[],p:on}}function ta(){on.r||Ln(on.c),on=on.p}function z(e,t){e&&e.i&&(Xr.delete(e),e.i(t))}function Y(e,t,n,r){if(e&&e.o){if(Xr.has(e))return;Xr.add(e),on.c.push(()=>{Xr.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}}function Mc(e,t){Y(e,1,1,()=>{t.delete(e.key)})}function wc(e,t,n,r,a,i,o,u,s,l,f,c){let v=e.length,p=i.length,_=v;const d={};for(;_--;)d[e[_].key]=_;const E=[],A=new Map,O=new Map;for(_=p;_--;){const m=c(a,i,_),g=n(m);let T=o.get(g);T?r&&T.p(m,t):(T=l(g,m),T.c()),A.set(g,E[_]=T),g in d&&O.set(g,Math.abs(_-d[g]))}const y=new Set,b=new Set;function C(m){z(m,1),m.m(u,f),o.set(m.key,m),f=m.first,p--}for(;v&&p;){const m=E[p-1],g=e[v-1],T=m.key,h=g.key;m===g?(f=m.first,v--,p--):A.has(h)?!o.has(T)||y.has(T)?C(m):b.has(h)?v--:O.get(T)>O.get(h)?(b.add(T),C(m)):(y.add(h),v--):(s(g,o),v--)}for(;v--;){const m=e[v];A.has(m.key)||s(m,o)}for(;p;)C(E[p-1]);return E}function cu(e,t,n){const r=e.$$.props[t];r!==void 0&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}function ne(e){e&&e.c()}function J(e,t,n,r){const{fragment:a,on_mount:i,on_destroy:o,after_update:u}=e.$$;a&&a.m(t,n),r||_i(()=>{const s=i.map(iu).filter(Ni);o?o.push(...s):Ln(s),e.$$.on_mount=[]}),u.forEach(_i)}function ee(e,t){const n=e.$$;n.fragment!==null&&(Ln(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function xc(e,t){e.$$.dirty[0]===-1&&(er.push(e),Lc(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Ge(e,t,n,r,a,i,o,u=[-1]){const s=sr;nr(e);const l=e.$$={fragment:null,ctx:null,props:i,update:be,not_equal:a,bound:Ro(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(s?s.$$.context:[])),callbacks:Ro(),dirty:u,skip_bound:!1,root:t.target||s.$$.root};o&&o(l.root);let f=!1;if(l.ctx=n?n(e,t.props||{},(c,v,...p)=>{const _=p.length?p[0]:v;return l.ctx&&a(l.ctx[c],l.ctx[c]=_)&&(!l.skip_bound&&l.bound[c]&&l.bound[c](_),f&&xc(e,c)),v}):[],l.update(),f=!0,Ln(l.before_update),l.fragment=r?r(l.ctx):!1,t.target){if(t.hydrate){const c=Nc(t.target);l.fragment&&l.fragment.l(c),c.forEach(Q)}else l.fragment&&l.fragment.c();t.intro&&z(e.$$.fragment),J(e,t.target,t.anchor,t.customElement),lu()}nr(s)}class je{$destroy(){ee(this,1),this.$destroy=be}$on(t,n){const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const a=r.indexOf(n);a!==-1&&r.splice(a,1)}}$set(t){this.$$set&&!Rc(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function Dc(e){let t,n,r,a,i;return{c(){t=lt("svg"),n=lt("path"),r=lt("circle"),a=lt("path"),G(n,"d","M0 0h24v24H0z"),G(n,"fill","none"),G(r,"cx","12"),G(r,"cy","12"),G(r,"r","3.2"),G(a,"d","M9 2L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"),G(t,"xmlns","http://www.w3.org/2000/svg"),G(t,"height","24px"),G(t,"viewBox","0 0 24 24"),G(t,"width","24px"),G(t,"fill","#000000"),G(t,"class",i=e[0].class)},m(o,u){te(o,t,u),D(t,n),D(t,r),D(t,a)},p(o,[u]){u&1&&i!==(i=o[0].class)&&G(t,"class",i)},i:be,o:be,d(o){o&&Q(t)}}}function Fc(e,t,n){return e.$$set=r=>{n(0,t=Ze(Ze({},t),tt(r)))},t=tt(t),[t]}class Uc extends je{constructor(t){super();Ge(this,t,Fc,Dc,De,{})}}const Gc=/[a-zA-Z0-9#]\w*/;function jc(){return{startState:()=>({inAttributes:!1,inString:!1}),token:(e,t)=>{if(e.match(/GRAPH/i,!0))return"def";if(e.match(/{/)||e.match(/}/))return"bracket";if(!t.inAttributes&&e.match(Gc,!0))return"variable";if(t.inAttributes){if(e.match(/,/))return null;if(e.match(/".*?"/))return"property";if(e.match(/[0-9]/))return"def";if(e.match(/=/,!0))return"atom";if(e.match(/BUNDLE/i)||e.match(/COLOR/i)||e.match(/LABEL/i)||e.match(/LINE-WIDTH/i))return"keyword"}return e.match(/\[/)?(t.inAttributes=!0,null):e.match(/\]/)?(t.inAttributes=!1,null):(e.next(),null)}}}function fu(){"arna"in Jr.modes||Jr.defineMode("arna",jc)}function Bc(e){let t,n,r,a,i;const o=e[3].default,u=ua(o,e,e[2],null);return{c(){t=Z("button"),u&&u.c(),G(t,"class",n=`rounded px-2 py-1 mx-1 text-override-fg text-sm font-semibold ${e[1].class}`)},m(s,l){te(s,t,l),u&&u.m(t,null),r=!0,a||(i=Sc(t,"click",function(){Ni(e[0])&&e[0].apply(this,arguments)}),a=!0)},p(s,[l]){e=s,u&&u.p&&(!r||l&4)&&ca(u,o,e,e[2],r?la(o,e[2],l,null):fa(e[2]),null),(!r||l&2&&n!==(n=`rounded px-2 py-1 mx-1 text-override-fg text-sm font-semibold ${e[1].class}`))&&G(t,"class",n)},i(s){r||(z(u,s),r=!0)},o(s){Y(u,s),r=!1},d(s){s&&Q(t),u&&u.d(s),a=!1,i()}}}function Wc(e,t,n){let{$$slots:r={},$$scope:a}=t,{onClick:i}=t;return e.$$set=o=>{n(1,t=Ze(Ze({},t),tt(o))),"onClick"in o&&n(0,i=o.onClick),"$$scope"in o&&n(2,a=o.$$scope)},t=tt(t),[i,t,a,r]}class Wr extends je{constructor(t){super();Ge(this,t,Wc,Bc,De,{onClick:0})}}function Vc(e){let t,n,r,a;return{c(){t=lt("svg"),n=lt("path"),r=lt("path"),G(n,"d","M0 0h24v24H0z"),G(n,"fill","none"),G(r,"d","M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"),G(t,"xmlns","http://www.w3.org/2000/svg"),G(t,"height","24px"),G(t,"viewBox","0 0 24 24"),G(t,"width","24px"),G(t,"class",a=e[1].class)},m(i,o){te(i,t,o),D(t,n),D(t,r),e[2](t)},p(i,[o]){o&2&&a!==(a=i[1].class)&&G(t,"class",a)},i:be,o:be,d(i){i&&Q(t),e[2](null)}}}function Kc(e,t,n){let{svgElement:r=null}=t;function a(i){Tt[i?"unshift":"push"](()=>{r=i,n(0,r)})}return e.$$set=i=>{n(1,t=Ze(Ze({},t),tt(i))),"svgElement"in i&&n(0,r=i.svgElement)},t=tt(t),[r,t,a]}class du extends je{constructor(t){super();Ge(this,t,Kc,Vc,De,{svgElement:0})}}function zc(e){let t,n,r,a,i,o,u,s;function l(c){e[5](c)}let f={class:"!fill-override-yellow transition"};return e[3]!==void 0&&(f.svgElement=e[3]),i=new du({props:f}),Tt.push(()=>cu(i,"svgElement",l)),{c(){t=Z("div"),n=Z("span"),r=ie(e[0]),a=oe(),ne(i.$$.fragment),G(n,"class","underline hover:text-override-fg focus:text-override-neutral-200"),G(t,"class",u=`flex items-center ${e[4].class}`)},m(c,v){te(c,t,v),D(t,n),D(n,r),D(t,a),J(i,t,null),e[6](t),s=!0},p(c,[v]){(!s||v&1)&&Pi(r,c[0]);const p={};!o&&v&8&&(o=!0,p.svgElement=c[3],uu(()=>o=!1)),i.$set(p),(!s||v&16&&u!==(u=`flex items-center ${c[4].class}`))&&G(t,"class",u)},i(c){s||(z(i.$$.fragment,c),s=!0)},o(c){Y(i.$$.fragment,c),s=!1},d(c){c&&Q(t),ee(i),e[6](null)}}}function Hc(e,t,n){let r,a=be,i=()=>(a(),a=ou(u,p=>n(7,r=p)),u);e.$$.on_destroy.push(()=>a());let{text:o}=t,{show:u}=t;i();let s,l;const f=()=>{r?l.classList.add("-rotate-90"):l.classList.remove("-rotate-90")};kn(()=>{f(),s.addEventListener("click",()=>{Ue(u,r=!r,r),f()})});function c(p){l=p,n(3,l)}function v(p){Tt[p?"unshift":"push"](()=>{s=p,n(2,s)})}return e.$$set=p=>{n(4,t=Ze(Ze({},t),tt(p))),"text"in p&&n(0,o=p.text),"show"in p&&i(n(1,u=p.show))},t=tt(t),[o,u,s,l,t,c,v]}class Io extends je{constructor(t){super();Ge(this,t,Hc,zc,De,{text:0,show:1})}}const Yc={purple:"#A21CAF",green:"#22cb5b",blue:"#00AFCA",yellow:"#FEC604",red:"#BE123C",fg:"#F7F7F7",bg:"#121212",neutral:{50:"#F7F7F7",100:"#E1E1E1",200:"#CFCFCF",300:"#B1B1B1",400:"#9E9E9E",500:"#7E7E7E",600:"#626262",700:"#515151",800:"#3B3B3B",900:"#222222"}},Xc={extend:{animation:{"spin-slow":"spin 4s linear infinite"},gridTemplateColumns:{custom:"repeat(auto-fit, minmax(70px, 1fr))"},colors:{override:Yc}},fontFamily:{sans:["Inter","sans-serif"],mono:"'Source Code Pro', monospace",serif:"'Roboto Slab', serif"}},sn={content:["./index.html","./src/**/*.{svelte,ts}"],theme:Xc,plugins:[]};class hu{static randomRGBA(t){const n=t||.2,r=[an(sn.theme.extend.colors.override.blue).alpha(n).hex("rgba"),an(sn.theme.extend.colors.override.yellow).alpha(n).hex("rgba"),an(sn.theme.extend.colors.override.red).alpha(n).hex("rgba"),an(sn.theme.extend.colors.override.purple).alpha(n).hex("rgba")],a=Math.floor(Math.random()*r.length);return r[a]}static generate(t){let n="";const r=new Set,a=new Set;return[...Array(t)].forEach(()=>{let i=!1;for(;!i;){const o=Math.floor(Math.random()*(t-2)),u=Math.floor(Math.random()*(t-1)),s=`N${o}--N${u}`;o!==u&&!a.has(s)&&(r.add(o),r.add(u),a.add(s),n+=`${s}  [line-width=3,color="${this.randomRGBA()}"]
`,i=!0)}}),r.forEach((i,o)=>{const u=`label="Node with identifier: N${o}"`,s=`color="${this.randomRGBA(.6)}"`;n=`N${o} [${s},${u}]
${n}`}),n=`graph RandomGraph [bundle] {
${n}`,n+="}",{edgeCount:t,nodeCount:r.size,code:n}}}const En=[];function yr(e,t=be){let n;const r=new Set;function a(u){if(De(e,u)&&(e=u,n)){const s=!En.length;for(const l of r)l[1](),En.push(l,e);if(s){for(let l=0;l<En.length;l+=2)En[l][0](En[l+1]);En.length=0}}}function i(u){a(u(e))}function o(u,s=be){const l=[u,s];return r.add(l),r.size===1&&(n=t(a)||be),u(e),()=>{r.delete(l),r.size===0&&(n(),n=null)}}return{set:a,update:i,subscribe:o}}const qc=50,pu=hu.generate(qc);function At(e,t){const{subscribe:n,update:r}=yr(t>e.length?0:t);return{subscribe:n,choices:e,set:a=>r(i=>a>e.length?i:a)}}const rn=yr(pu.code),So=yr(pu),vu=yr(!1),_u=yr(!0),ur=At([10,20,30,50,75,100,200],3),lr=At([300,500,700,900,1100,1500],3),On=At([2,4,6,8,10,12,16,20,30],4),cr=At(On.choices,3),fr=At([.001,.005,.01,.05,.1,.2],3),dr=At([.1,.2,.4,.6,.8,.99],0),hr=At([.01,.1,.2,.4,.6,.8,.99],1),pr=At([.1,.2,.3,.5,.8,.99],0),vr=At([2,3,4,5,6],0),_r=At([40,50,70,90,110,130],3),gr=At([.3,.4,.667,.7,.8],3);function Zc(e){let t;return{c(){t=ie("Random")},m(n,r){te(n,t,r)},d(n){n&&Q(t)}}}function Qc(e){let t;return{c(){t=ie("Refresh")},m(n,r){te(n,t,r)},d(n){n&&Q(t)}}}function Jc(e){let t;return{c(){t=ie("Submit")},m(n,r){te(n,t,r)},d(n){n&&Q(t)}}}function ef(e){let t,n;return t=new Uc({props:{class:"!fill-override-neutral-900 mx-3"}}),{c(){ne(t.$$.fragment)},m(r,a){J(t,r,a),n=!0},p:be,i(r){n||(z(t.$$.fragment,r),n=!0)},o(r){Y(t.$$.fragment,r),n=!1},d(r){ee(t,r)}}}function tf(e){let t,n,r,a,i,o,u,s,l,f,c,v,p,_,d,E,A,O;return o=new Wr({props:{onClick:e[1],type:"primary",class:"bg-override-blue hover:bg-override-blue/75 text-override-bg w-full",$$slots:{default:[Zc]},$$scope:{ctx:e}}}),s=new Wr({props:{onClick:e[2],label:"Refresh",class:"bg-override-yellow hover:bg-override-yellow/75 text-override-bg w-full",$$slots:{default:[Qc]},$$scope:{ctx:e}}}),f=new Wr({props:{onClick:e[3],label:"Submit",class:"bg-override-green hover:bg-override-green/75 text-override-bg w-full",$$slots:{default:[Jc]},$$scope:{ctx:e}}}),v=new Wr({props:{onClick:e[4],label:"Download",class:"bg-override-purple hover:bg-override-purple/75 text-override-bg w-full max-h-[28px] flex items-center justify-center",$$slots:{default:[ef]},$$scope:{ctx:e}}}),d=new Io({props:{show:vu,text:"syntax help"}}),A=new Io({props:{show:_u,text:"adjust parameters",class:"ml-2"}}),{c(){t=Z("div"),n=Z("textarea"),r=oe(),a=Z("div"),i=Z("div"),ne(o.$$.fragment),u=oe(),ne(s.$$.fragment),l=oe(),ne(f.$$.fragment),c=oe(),ne(v.$$.fragment),p=oe(),_=Z("div"),ne(d.$$.fragment),E=oe(),ne(A.$$.fragment),G(n,"id","editor"),G(i,"class","grid grid-cols-custom gap-y-2 gap-x-2 min-w-full justify-items-center"),G(_,"class","flex flex-grow mt-2 cursor-pointer text-override-blue text-xs font-semibold"),G(a,"class","flex flex-col items-center pt-2"),G(t,"id","code-wrapper"),G(t,"class","w-full h-22 mb-2")},m(y,b){te(y,t,b),D(t,n),e[5](n),D(t,r),D(t,a),D(a,i),J(o,i,null),D(i,u),J(s,i,null),D(i,l),J(f,i,null),D(i,c),J(v,i,null),D(a,p),D(a,_),J(d,_,null),D(_,E),J(A,_,null),O=!0},p(y,[b]){const C={};b&1024&&(C.$$scope={dirty:b,ctx:y}),o.$set(C);const m={};b&1024&&(m.$$scope={dirty:b,ctx:y}),s.$set(m);const g={};b&1024&&(g.$$scope={dirty:b,ctx:y}),f.$set(g);const T={};b&1024&&(T.$$scope={dirty:b,ctx:y}),v.$set(T)},i(y){O||(z(o.$$.fragment,y),z(s.$$.fragment,y),z(f.$$.fragment,y),z(v.$$.fragment,y),z(d.$$.fragment,y),z(A.$$.fragment,y),O=!0)},o(y){Y(o.$$.fragment,y),Y(s.$$.fragment,y),Y(f.$$.fragment,y),Y(v.$$.fragment,y),Y(d.$$.fragment,y),Y(A.$$.fragment,y),O=!1},d(y){y&&Q(t),e[5](null),ee(o),ee(s),ee(f),ee(v),ee(d),ee(A)}}}function nf(e,t,n){let r,a,i;ye(e,rn,p=>n(7,r=p)),ye(e,So,p=>n(8,a=p)),ye(e,ur,p=>n(9,i=p));let o,u;const s=()=>{const p=ur.choices[i],_=hu.generate(p);Ue(rn,r=_.code,r),Ue(So,a=_,a)},l=()=>{const p=r;Ue(rn,r=void 0,r),Ue(rn,r=p,r)},f=()=>{Ue(rn,r=u.getValue(),r)},c=()=>{try{const p=document.getElementsByTagName("canvas");if(p.length<0)throw new Error("Konva canvas is not loaded. Cannot create image.");const d=p.item(0).toDataURL("image/png"),E=document.createElement("a");E.setAttribute("href",d),E.setAttribute("download",d),E.click(),E.remove()}catch(p){console.error(p)}};kn(()=>{fu(),u=Jr.fromTextArea(o,{theme:"midnight",mode:"arna",value:r,lineNumbers:!0,tabSize:2});try{const p=document.getElementsByClassName("CodeMirror").item(0);p.classList.add("!font-mono"),p.classList.add("!text-sm"),p.classList.add("!font-semibold")}catch{console.warn("Failed to changed editor font. Unable to retrieve CodeMirror editor element.")}}),Pc(()=>{u.getValue()!==r&&u.setValue(r)});function v(p){Tt[p?"unshift":"push"](()=>{o=p,n(0,o)})}return[o,s,l,f,c,v]}class rf extends je{constructor(t){super();Ge(this,t,nf,tf,De,{})}}var Qt={},$i={},Li={},Er={};Object.defineProperty(Er,"__esModule",{value:!0});Er.VERSION=void 0;Er.VERSION="10.1.2";var at={},af=Object.prototype;function of(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||af;return e===n}var Tr=of;function sf(e,t){return function(n){return e(t(n))}}var gu=sf,uf=gu,lf=uf(Object.keys,Object),cf=lf,ff=Tr,df=cf,hf=Object.prototype,pf=hf.hasOwnProperty;function vf(e){if(!ff(e))return df(e);var t=[];for(var n in Object(e))pf.call(e,n)&&n!="constructor"&&t.push(n);return t}var mu=vf,_f=typeof k=="object"&&k&&k.Object===Object&&k,yu=_f,gf=yu,mf=typeof self=="object"&&self&&self.Object===Object&&self,yf=gf||mf||Function("return this")(),Nt=yf,Ef=Nt,Tf=Ef.Symbol,Mn=Tf,No=Mn,Eu=Object.prototype,Af=Eu.hasOwnProperty,bf=Eu.toString,Xn=No?No.toStringTag:void 0;function Of(e){var t=Af.call(e,Xn),n=e[Xn];try{e[Xn]=void 0;var r=!0}catch{}var a=bf.call(e);return r&&(t?e[Xn]=n:delete e[Xn]),a}var Rf=Of,If=Object.prototype,Sf=If.toString;function Nf(e){return Sf.call(e)}var Pf=Nf,Po=Mn,Cf=Rf,$f=Pf,Lf="[object Null]",kf="[object Undefined]",Co=Po?Po.toStringTag:void 0;function Mf(e){return e==null?e===void 0?kf:Lf:Co&&Co in Object(e)?Cf(e):$f(e)}var dn=Mf;function wf(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Pt=wf,xf=dn,Df=Pt,Ff="[object AsyncFunction]",Uf="[object Function]",Gf="[object GeneratorFunction]",jf="[object Proxy]";function Bf(e){if(!Df(e))return!1;var t=xf(e);return t==Uf||t==Gf||t==Ff||t==jf}var Ar=Bf,Wf=Nt,Vf=Wf["__core-js_shared__"],Kf=Vf,ai=Kf,$o=function(){var e=/[^.]+$/.exec(ai&&ai.keys&&ai.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function zf(e){return!!$o&&$o in e}var Hf=zf,Yf=Function.prototype,Xf=Yf.toString;function qf(e){if(e!=null){try{return Xf.call(e)}catch{}try{return e+""}catch{}}return""}var Tu=qf,Zf=Ar,Qf=Hf,Jf=Pt,ed=Tu,td=/[\\^$.*+?()[\]{}|]/g,nd=/^\[object .+?Constructor\]$/,rd=Function.prototype,ad=Object.prototype,id=rd.toString,od=ad.hasOwnProperty,sd=RegExp("^"+id.call(od).replace(td,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ud(e){if(!Jf(e)||Qf(e))return!1;var t=Zf(e)?sd:nd;return t.test(ed(e))}var ld=ud;function cd(e,t){return e==null?void 0:e[t]}var fd=cd,dd=ld,hd=fd;function pd(e,t){var n=hd(e,t);return dd(n)?n:void 0}var hn=pd,vd=hn,_d=Nt,gd=vd(_d,"DataView"),md=gd,yd=hn,Ed=Nt,Td=yd(Ed,"Map"),ki=Td,Ad=hn,bd=Nt,Od=Ad(bd,"Promise"),Rd=Od,Id=hn,Sd=Nt,Nd=Id(Sd,"Set"),Au=Nd,Pd=hn,Cd=Nt,$d=Pd(Cd,"WeakMap"),Ld=$d,gi=md,mi=ki,yi=Rd,Ei=Au,Ti=Ld,bu=dn,wn=Tu,Lo="[object Map]",kd="[object Object]",ko="[object Promise]",Mo="[object Set]",wo="[object WeakMap]",xo="[object DataView]",Md=wn(gi),wd=wn(mi),xd=wn(yi),Dd=wn(Ei),Fd=wn(Ti),nn=bu;(gi&&nn(new gi(new ArrayBuffer(1)))!=xo||mi&&nn(new mi)!=Lo||yi&&nn(yi.resolve())!=ko||Ei&&nn(new Ei)!=Mo||Ti&&nn(new Ti)!=wo)&&(nn=function(e){var t=bu(e),n=t==kd?e.constructor:void 0,r=n?wn(n):"";if(r)switch(r){case Md:return xo;case wd:return Lo;case xd:return ko;case Dd:return Mo;case Fd:return wo}return t});var br=nn;function Ud(e){return e!=null&&typeof e=="object"}var Ct=Ud,Gd=dn,jd=Ct,Bd="[object Arguments]";function Wd(e){return jd(e)&&Gd(e)==Bd}var Vd=Wd,Do=Vd,Kd=Ct,Ou=Object.prototype,zd=Ou.hasOwnProperty,Hd=Ou.propertyIsEnumerable,Yd=Do(function(){return arguments}())?Do:function(e){return Kd(e)&&zd.call(e,"callee")&&!Hd.call(e,"callee")},da=Yd,Xd=Array.isArray,me=Xd,qd=9007199254740991;function Zd(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=qd}var Mi=Zd,Qd=Ar,Jd=Mi;function eh(e){return e!=null&&Jd(e.length)&&!Qd(e)}var $t=eh,Rn={exports:{}};function th(){return!1}var nh=th;(function(e,t){var n=Nt,r=nh,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,u=o?n.Buffer:void 0,s=u?u.isBuffer:void 0,l=s||r;e.exports=l})(Rn,Rn.exports);var rh=dn,ah=Mi,ih=Ct,oh="[object Arguments]",sh="[object Array]",uh="[object Boolean]",lh="[object Date]",ch="[object Error]",fh="[object Function]",dh="[object Map]",hh="[object Number]",ph="[object Object]",vh="[object RegExp]",_h="[object Set]",gh="[object String]",mh="[object WeakMap]",yh="[object ArrayBuffer]",Eh="[object DataView]",Th="[object Float32Array]",Ah="[object Float64Array]",bh="[object Int8Array]",Oh="[object Int16Array]",Rh="[object Int32Array]",Ih="[object Uint8Array]",Sh="[object Uint8ClampedArray]",Nh="[object Uint16Array]",Ph="[object Uint32Array]",Oe={};Oe[Th]=Oe[Ah]=Oe[bh]=Oe[Oh]=Oe[Rh]=Oe[Ih]=Oe[Sh]=Oe[Nh]=Oe[Ph]=!0;Oe[oh]=Oe[sh]=Oe[yh]=Oe[uh]=Oe[Eh]=Oe[lh]=Oe[ch]=Oe[fh]=Oe[dh]=Oe[hh]=Oe[ph]=Oe[vh]=Oe[_h]=Oe[gh]=Oe[mh]=!1;function Ch(e){return ih(e)&&ah(e.length)&&!!Oe[rh(e)]}var $h=Ch;function Lh(e){return function(t){return e(t)}}var Or=Lh,In={exports:{}};(function(e,t){var n=yu,r=t&&!t.nodeType&&t,a=r&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===r,o=i&&n.process,u=function(){try{var s=a&&a.require&&a.require("util").types;return s||o&&o.binding&&o.binding("util")}catch{}}();e.exports=u})(In,In.exports);var kh=$h,Mh=Or,Fo=In.exports,Uo=Fo&&Fo.isTypedArray,wh=Uo?Mh(Uo):kh,wi=wh,xh=mu,Dh=br,Fh=da,Uh=me,Gh=$t,jh=Rn.exports,Bh=Tr,Wh=wi,Vh="[object Map]",Kh="[object Set]",zh=Object.prototype,Hh=zh.hasOwnProperty;function Yh(e){if(e==null)return!0;if(Gh(e)&&(Uh(e)||typeof e=="string"||typeof e.splice=="function"||jh(e)||Wh(e)||Fh(e)))return!e.length;var t=Dh(e);if(t==Vh||t==Kh)return!e.size;if(Bh(e))return!xh(e).length;for(var n in e)if(Hh.call(e,n))return!1;return!0}var Lt=Yh;function Xh(e,t){for(var n=-1,r=e==null?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}var Rr=Xh;function qh(){this.__data__=[],this.size=0}var Zh=qh;function Qh(e,t){return e===t||e!==e&&t!==t}var Ir=Qh,Jh=Ir;function ep(e,t){for(var n=e.length;n--;)if(Jh(e[n][0],t))return n;return-1}var ha=ep,tp=ha,np=Array.prototype,rp=np.splice;function ap(e){var t=this.__data__,n=tp(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():rp.call(t,n,1),--this.size,!0}var ip=ap,op=ha;function sp(e){var t=this.__data__,n=op(t,e);return n<0?void 0:t[n][1]}var up=sp,lp=ha;function cp(e){return lp(this.__data__,e)>-1}var fp=cp,dp=ha;function hp(e,t){var n=this.__data__,r=dp(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var pp=hp,vp=Zh,_p=ip,gp=up,mp=fp,yp=pp;function xn(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}xn.prototype.clear=vp;xn.prototype.delete=_p;xn.prototype.get=gp;xn.prototype.has=mp;xn.prototype.set=yp;var pa=xn,Ep=pa;function Tp(){this.__data__=new Ep,this.size=0}var Ap=Tp;function bp(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var Op=bp;function Rp(e){return this.__data__.get(e)}var Ip=Rp;function Sp(e){return this.__data__.has(e)}var Np=Sp,Pp=hn,Cp=Pp(Object,"create"),va=Cp,Go=va;function $p(){this.__data__=Go?Go(null):{},this.size=0}var Lp=$p;function kp(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Mp=kp,wp=va,xp="__lodash_hash_undefined__",Dp=Object.prototype,Fp=Dp.hasOwnProperty;function Up(e){var t=this.__data__;if(wp){var n=t[e];return n===xp?void 0:n}return Fp.call(t,e)?t[e]:void 0}var Gp=Up,jp=va,Bp=Object.prototype,Wp=Bp.hasOwnProperty;function Vp(e){var t=this.__data__;return jp?t[e]!==void 0:Wp.call(t,e)}var Kp=Vp,zp=va,Hp="__lodash_hash_undefined__";function Yp(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=zp&&t===void 0?Hp:t,this}var Xp=Yp,qp=Lp,Zp=Mp,Qp=Gp,Jp=Kp,ev=Xp;function Dn(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Dn.prototype.clear=qp;Dn.prototype.delete=Zp;Dn.prototype.get=Qp;Dn.prototype.has=Jp;Dn.prototype.set=ev;var tv=Dn,jo=tv,nv=pa,rv=ki;function av(){this.size=0,this.__data__={hash:new jo,map:new(rv||nv),string:new jo}}var iv=av;function ov(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var sv=ov,uv=sv;function lv(e,t){var n=e.__data__;return uv(t)?n[typeof t=="string"?"string":"hash"]:n.map}var _a=lv,cv=_a;function fv(e){var t=cv(this,e).delete(e);return this.size-=t?1:0,t}var dv=fv,hv=_a;function pv(e){return hv(this,e).get(e)}var vv=pv,_v=_a;function gv(e){return _v(this,e).has(e)}var mv=gv,yv=_a;function Ev(e,t){var n=yv(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var Tv=Ev,Av=iv,bv=dv,Ov=vv,Rv=mv,Iv=Tv;function Fn(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Fn.prototype.clear=Av;Fn.prototype.delete=bv;Fn.prototype.get=Ov;Fn.prototype.has=Rv;Fn.prototype.set=Iv;var xi=Fn,Sv=pa,Nv=ki,Pv=xi,Cv=200;function $v(e,t){var n=this.__data__;if(n instanceof Sv){var r=n.__data__;if(!Nv||r.length<Cv-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Pv(r)}return n.set(e,t),this.size=n.size,this}var Lv=$v,kv=pa,Mv=Ap,wv=Op,xv=Ip,Dv=Np,Fv=Lv;function Un(e){var t=this.__data__=new kv(e);this.size=t.size}Un.prototype.clear=Mv;Un.prototype.delete=wv;Un.prototype.get=xv;Un.prototype.has=Dv;Un.prototype.set=Fv;var Di=Un,Uv="__lodash_hash_undefined__";function Gv(e){return this.__data__.set(e,Uv),this}var jv=Gv;function Bv(e){return this.__data__.has(e)}var Wv=Bv,Vv=xi,Kv=jv,zv=Wv;function na(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Vv;++t<n;)this.add(e[t])}na.prototype.add=na.prototype.push=Kv;na.prototype.has=zv;var Fi=na;function Hv(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Ru=Hv;function Yv(e,t){return e.has(t)}var Ui=Yv,Xv=Fi,qv=Ru,Zv=Ui,Qv=1,Jv=2;function e_(e,t,n,r,a,i){var o=n&Qv,u=e.length,s=t.length;if(u!=s&&!(o&&s>u))return!1;var l=i.get(e),f=i.get(t);if(l&&f)return l==t&&f==e;var c=-1,v=!0,p=n&Jv?new Xv:void 0;for(i.set(e,t),i.set(t,e);++c<u;){var _=e[c],d=t[c];if(r)var E=o?r(d,_,c,t,e,i):r(_,d,c,e,t,i);if(E!==void 0){if(E)continue;v=!1;break}if(p){if(!qv(t,function(A,O){if(!Zv(p,O)&&(_===A||a(_,A,n,r,i)))return p.push(O)})){v=!1;break}}else if(!(_===d||a(_,d,n,r,i))){v=!1;break}}return i.delete(e),i.delete(t),v}var Iu=e_,t_=Nt,n_=t_.Uint8Array,Su=n_;function r_(e){var t=-1,n=Array(e.size);return e.forEach(function(r,a){n[++t]=[a,r]}),n}var a_=r_;function i_(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var Gi=i_,Bo=Mn,Wo=Su,o_=Ir,s_=Iu,u_=a_,l_=Gi,c_=1,f_=2,d_="[object Boolean]",h_="[object Date]",p_="[object Error]",v_="[object Map]",__="[object Number]",g_="[object RegExp]",m_="[object Set]",y_="[object String]",E_="[object Symbol]",T_="[object ArrayBuffer]",A_="[object DataView]",Vo=Bo?Bo.prototype:void 0,ii=Vo?Vo.valueOf:void 0;function b_(e,t,n,r,a,i,o){switch(n){case A_:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case T_:return!(e.byteLength!=t.byteLength||!i(new Wo(e),new Wo(t)));case d_:case h_:case __:return o_(+e,+t);case p_:return e.name==t.name&&e.message==t.message;case g_:case y_:return e==t+"";case v_:var u=u_;case m_:var s=r&c_;if(u||(u=l_),e.size!=t.size&&!s)return!1;var l=o.get(e);if(l)return l==t;r|=f_,o.set(e,t);var f=s_(u(e),u(t),r,a,i,o);return o.delete(e),f;case E_:if(ii)return ii.call(e)==ii.call(t)}return!1}var O_=b_;function R_(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}var ji=R_,I_=ji,S_=me;function N_(e,t,n){var r=t(e);return S_(e)?r:I_(r,n(e))}var Nu=N_;function P_(e,t){for(var n=-1,r=e==null?0:e.length,a=0,i=[];++n<r;){var o=e[n];t(o,n,e)&&(i[a++]=o)}return i}var Bi=P_;function C_(){return[]}var Pu=C_,$_=Bi,L_=Pu,k_=Object.prototype,M_=k_.propertyIsEnumerable,Ko=Object.getOwnPropertySymbols,w_=Ko?function(e){return e==null?[]:(e=Object(e),$_(Ko(e),function(t){return M_.call(e,t)}))}:L_,Wi=w_;function x_(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var D_=x_,F_=9007199254740991,U_=/^(?:0|[1-9]\d*)$/;function G_(e,t){var n=typeof e;return t=t==null?F_:t,!!t&&(n=="number"||n!="symbol"&&U_.test(e))&&e>-1&&e%1==0&&e<t}var ga=G_,j_=D_,B_=da,W_=me,V_=Rn.exports,K_=ga,z_=wi,H_=Object.prototype,Y_=H_.hasOwnProperty;function X_(e,t){var n=W_(e),r=!n&&B_(e),a=!n&&!r&&V_(e),i=!n&&!r&&!a&&z_(e),o=n||r||a||i,u=o?j_(e.length,String):[],s=u.length;for(var l in e)(t||Y_.call(e,l))&&!(o&&(l=="length"||a&&(l=="offset"||l=="parent")||i&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||K_(l,s)))&&u.push(l);return u}var Cu=X_,q_=Cu,Z_=mu,Q_=$t;function J_(e){return Q_(e)?q_(e):Z_(e)}var ct=J_,eg=Nu,tg=Wi,ng=ct;function rg(e){return eg(e,ng,tg)}var $u=rg,zo=$u,ag=1,ig=Object.prototype,og=ig.hasOwnProperty;function sg(e,t,n,r,a,i){var o=n&ag,u=zo(e),s=u.length,l=zo(t),f=l.length;if(s!=f&&!o)return!1;for(var c=s;c--;){var v=u[c];if(!(o?v in t:og.call(t,v)))return!1}var p=i.get(e),_=i.get(t);if(p&&_)return p==t&&_==e;var d=!0;i.set(e,t),i.set(t,e);for(var E=o;++c<s;){v=u[c];var A=e[v],O=t[v];if(r)var y=o?r(O,A,v,t,e,i):r(A,O,v,e,t,i);if(!(y===void 0?A===O||a(A,O,n,r,i):y)){d=!1;break}E||(E=v=="constructor")}if(d&&!E){var b=e.constructor,C=t.constructor;b!=C&&"constructor"in e&&"constructor"in t&&!(typeof b=="function"&&b instanceof b&&typeof C=="function"&&C instanceof C)&&(d=!1)}return i.delete(e),i.delete(t),d}var ug=sg,oi=Di,lg=Iu,cg=O_,fg=ug,Ho=br,Yo=me,Xo=Rn.exports,dg=wi,hg=1,qo="[object Arguments]",Zo="[object Array]",Vr="[object Object]",pg=Object.prototype,Qo=pg.hasOwnProperty;function vg(e,t,n,r,a,i){var o=Yo(e),u=Yo(t),s=o?Zo:Ho(e),l=u?Zo:Ho(t);s=s==qo?Vr:s,l=l==qo?Vr:l;var f=s==Vr,c=l==Vr,v=s==l;if(v&&Xo(e)){if(!Xo(t))return!1;o=!0,f=!1}if(v&&!f)return i||(i=new oi),o||dg(e)?lg(e,t,n,r,a,i):cg(e,t,s,n,r,a,i);if(!(n&hg)){var p=f&&Qo.call(e,"__wrapped__"),_=c&&Qo.call(t,"__wrapped__");if(p||_){var d=p?e.value():e,E=_?t.value():t;return i||(i=new oi),a(d,E,n,r,i)}}return v?(i||(i=new oi),fg(e,t,n,r,a,i)):!1}var _g=vg,gg=_g,Jo=Ct;function Lu(e,t,n,r,a){return e===t?!0:e==null||t==null||!Jo(e)&&!Jo(t)?e!==e&&t!==t:gg(e,t,n,r,Lu,a)}var ku=Lu,mg=Di,yg=ku,Eg=1,Tg=2;function Ag(e,t,n,r){var a=n.length,i=a,o=!r;if(e==null)return!i;for(e=Object(e);a--;){var u=n[a];if(o&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++a<i;){u=n[a];var s=u[0],l=e[s],f=u[1];if(o&&u[2]){if(l===void 0&&!(s in e))return!1}else{var c=new mg;if(r)var v=r(l,f,s,e,t,c);if(!(v===void 0?yg(f,l,Eg|Tg,r,c):v))return!1}}return!0}var bg=Ag,Og=Pt;function Rg(e){return e===e&&!Og(e)}var Mu=Rg,Ig=Mu,Sg=ct;function Ng(e){for(var t=Sg(e),n=t.length;n--;){var r=t[n],a=e[r];t[n]=[r,a,Ig(a)]}return t}var Pg=Ng;function Cg(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var wu=Cg,$g=bg,Lg=Pg,kg=wu;function Mg(e){var t=Lg(e);return t.length==1&&t[0][2]?kg(t[0][0],t[0][1]):function(n){return n===e||$g(n,e,t)}}var wg=Mg,xg=dn,Dg=Ct,Fg="[object Symbol]";function Ug(e){return typeof e=="symbol"||Dg(e)&&xg(e)==Fg}var ma=Ug,Gg=me,jg=ma,Bg=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Wg=/^\w*$/;function Vg(e,t){if(Gg(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||jg(e)?!0:Wg.test(e)||!Bg.test(e)||t!=null&&e in Object(t)}var Vi=Vg,xu=xi,Kg="Expected a function";function Ki(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Kg);var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],i=n.cache;if(i.has(a))return i.get(a);var o=e.apply(this,r);return n.cache=i.set(a,o)||i,o};return n.cache=new(Ki.Cache||xu),n}Ki.Cache=xu;var zg=Ki,Hg=zg,Yg=500;function Xg(e){var t=Hg(e,function(r){return n.size===Yg&&n.clear(),r}),n=t.cache;return t}var qg=Xg,Zg=qg,Qg=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Jg=/\\(\\)?/g,em=Zg(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Qg,function(n,r,a,i){t.push(a?i.replace(Jg,"$1"):r||n)}),t}),tm=em,es=Mn,nm=Rr,rm=me,am=ma,im=1/0,ts=es?es.prototype:void 0,ns=ts?ts.toString:void 0;function Du(e){if(typeof e=="string")return e;if(rm(e))return nm(e,Du)+"";if(am(e))return ns?ns.call(e):"";var t=e+"";return t=="0"&&1/e==-im?"-0":t}var om=Du,sm=om;function um(e){return e==null?"":sm(e)}var Fu=um,lm=me,cm=Vi,fm=tm,dm=Fu;function hm(e,t){return lm(e)?e:cm(e,t)?[e]:fm(dm(e))}var ya=hm,pm=ma,vm=1/0;function _m(e){if(typeof e=="string"||pm(e))return e;var t=e+"";return t=="0"&&1/e==-vm?"-0":t}var Sr=_m,gm=ya,mm=Sr;function ym(e,t){t=gm(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[mm(t[n++])];return n&&n==r?e:void 0}var zi=ym,Em=zi;function Tm(e,t,n){var r=e==null?void 0:Em(e,t);return r===void 0?n:r}var Am=Tm;function bm(e,t){return e!=null&&t in Object(e)}var Om=bm,Rm=ya,Im=da,Sm=me,Nm=ga,Pm=Mi,Cm=Sr;function $m(e,t,n){t=Rm(t,e);for(var r=-1,a=t.length,i=!1;++r<a;){var o=Cm(t[r]);if(!(i=e!=null&&n(e,o)))break;e=e[o]}return i||++r!=a?i:(a=e==null?0:e.length,!!a&&Pm(a)&&Nm(o,a)&&(Sm(e)||Im(e)))}var Uu=$m,Lm=Om,km=Uu;function Mm(e,t){return e!=null&&km(e,t,Lm)}var wm=Mm,xm=ku,Dm=Am,Fm=wm,Um=Vi,Gm=Mu,jm=wu,Bm=Sr,Wm=1,Vm=2;function Km(e,t){return Um(e)&&Gm(t)?jm(Bm(e),t):function(n){var r=Dm(n,e);return r===void 0&&r===t?Fm(n,e):xm(t,r,Wm|Vm)}}var zm=Km;function Hm(e){return e}var Nr=Hm;function Ym(e){return function(t){return t==null?void 0:t[e]}}var Xm=Ym,qm=zi;function Zm(e){return function(t){return qm(t,e)}}var Qm=Zm,Jm=Xm,ey=Qm,ty=Vi,ny=Sr;function ry(e){return ty(e)?Jm(ny(e)):ey(e)}var ay=ry,iy=wg,oy=zm,sy=Nr,uy=me,ly=ay;function cy(e){return typeof e=="function"?e:e==null?sy:typeof e=="object"?uy(e)?oy(e[0],e[1]):iy(e):ly(e)}var kt=cy;function fy(e){return function(t,n,r){for(var a=-1,i=Object(t),o=r(t),u=o.length;u--;){var s=o[e?u:++a];if(n(i[s],s,i)===!1)break}return t}}var dy=fy,hy=dy,py=hy(),vy=py,_y=vy,gy=ct;function my(e,t){return e&&_y(e,t,gy)}var yy=my,Ey=$t;function Ty(e,t){return function(n,r){if(n==null)return n;if(!Ey(n))return e(n,r);for(var a=n.length,i=t?a:-1,o=Object(n);(t?i--:++i<a)&&r(o[i],i,o)!==!1;);return n}}var Ay=Ty,by=yy,Oy=Ay,Ry=Oy(by),pn=Ry,Iy=pn,Sy=$t;function Ny(e,t){var n=-1,r=Sy(e)?Array(e.length):[];return Iy(e,function(a,i,o){r[++n]=t(a,i,o)}),r}var Py=Ny,Cy=Rr,$y=kt,Ly=Py,ky=me;function My(e,t){var n=ky(e)?Cy:Ly;return n(e,$y(t))}var nt=My;function wy(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var Gu=wy,xy=Nr;function Dy(e){return typeof e=="function"?e:xy}var Fy=Dy,Uy=Gu,Gy=pn,jy=Fy,By=me;function Wy(e,t){var n=By(e)?Uy:Gy;return n(e,jy(t))}var Ve=Wy,Vy=Rr;function Ky(e,t){return Vy(t,function(n){return e[n]})}var zy=Ky,Hy=zy,Yy=ct;function Xy(e){return e==null?[]:Hy(e,Yy(e))}var Vt=Xy,qy=Object.prototype,Zy=qy.hasOwnProperty;function Qy(e,t){return e!=null&&Zy.call(e,t)}var Jy=Qy,eE=Jy,tE=Uu;function nE(e,t){return e!=null&&tE(e,t,eE)}var ft=nE,rE=hn,aE=function(){try{var e=rE(Object,"defineProperty");return e({},"",{}),e}catch{}}(),ju=aE,rs=ju;function iE(e,t,n){t=="__proto__"&&rs?rs(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var Hi=iE,oE=Hi,sE=Ir,uE=Object.prototype,lE=uE.hasOwnProperty;function cE(e,t,n){var r=e[t];(!(lE.call(e,t)&&sE(r,n))||n===void 0&&!(t in e))&&oE(e,t,n)}var Ea=cE,fE=Ea,dE=Hi;function hE(e,t,n,r){var a=!n;n||(n={});for(var i=-1,o=t.length;++i<o;){var u=t[i],s=r?r(n[u],e[u],u,n,e):void 0;s===void 0&&(s=e[u]),a?dE(n,u,s):fE(n,u,s)}return n}var Pr=hE,pE=Pr,vE=ct;function _E(e,t){return e&&pE(t,vE(t),e)}var gE=_E;function mE(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var yE=mE,EE=Pt,TE=Tr,AE=yE,bE=Object.prototype,OE=bE.hasOwnProperty;function RE(e){if(!EE(e))return AE(e);var t=TE(e),n=[];for(var r in e)r=="constructor"&&(t||!OE.call(e,r))||n.push(r);return n}var IE=RE,SE=Cu,NE=IE,PE=$t;function CE(e){return PE(e)?SE(e,!0):NE(e)}var Ta=CE,$E=Pr,LE=Ta;function kE(e,t){return e&&$E(t,LE(t),e)}var ME=kE,Ai={exports:{}};(function(e,t){var n=Nt,r=t&&!t.nodeType&&t,a=r&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===r,o=i?n.Buffer:void 0,u=o?o.allocUnsafe:void 0;function s(l,f){if(f)return l.slice();var c=l.length,v=u?u(c):new l.constructor(c);return l.copy(v),v}e.exports=s})(Ai,Ai.exports);function wE(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var xE=wE,DE=Pr,FE=Wi;function UE(e,t){return DE(e,FE(e),t)}var GE=UE,jE=gu,BE=jE(Object.getPrototypeOf,Object),Bu=BE,WE=ji,VE=Bu,KE=Wi,zE=Pu,HE=Object.getOwnPropertySymbols,YE=HE?function(e){for(var t=[];e;)WE(t,KE(e)),e=VE(e);return t}:zE,Wu=YE,XE=Pr,qE=Wu;function ZE(e,t){return XE(e,qE(e),t)}var QE=ZE,JE=Nu,eT=Wu,tT=Ta;function nT(e){return JE(e,tT,eT)}var Vu=nT,rT=Object.prototype,aT=rT.hasOwnProperty;function iT(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&aT.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var oT=iT,as=Su;function sT(e){var t=new e.constructor(e.byteLength);return new as(t).set(new as(e)),t}var Yi=sT,uT=Yi;function lT(e,t){var n=t?uT(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var cT=lT,fT=/\w*$/;function dT(e){var t=new e.constructor(e.source,fT.exec(e));return t.lastIndex=e.lastIndex,t}var hT=dT,is=Mn,os=is?is.prototype:void 0,ss=os?os.valueOf:void 0;function pT(e){return ss?Object(ss.call(e)):{}}var vT=pT,_T=Yi;function gT(e,t){var n=t?_T(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var mT=gT,yT=Yi,ET=cT,TT=hT,AT=vT,bT=mT,OT="[object Boolean]",RT="[object Date]",IT="[object Map]",ST="[object Number]",NT="[object RegExp]",PT="[object Set]",CT="[object String]",$T="[object Symbol]",LT="[object ArrayBuffer]",kT="[object DataView]",MT="[object Float32Array]",wT="[object Float64Array]",xT="[object Int8Array]",DT="[object Int16Array]",FT="[object Int32Array]",UT="[object Uint8Array]",GT="[object Uint8ClampedArray]",jT="[object Uint16Array]",BT="[object Uint32Array]";function WT(e,t,n){var r=e.constructor;switch(t){case LT:return yT(e);case OT:case RT:return new r(+e);case kT:return ET(e,n);case MT:case wT:case xT:case DT:case FT:case UT:case GT:case jT:case BT:return bT(e,n);case IT:return new r;case ST:case CT:return new r(e);case NT:return TT(e);case PT:return new r;case $T:return AT(e)}}var VT=WT,KT=Pt,us=Object.create,zT=function(){function e(){}return function(t){if(!KT(t))return{};if(us)return us(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),HT=zT,YT=HT,XT=Bu,qT=Tr;function ZT(e){return typeof e.constructor=="function"&&!qT(e)?YT(XT(e)):{}}var QT=ZT,JT=br,eA=Ct,tA="[object Map]";function nA(e){return eA(e)&&JT(e)==tA}var rA=nA,aA=rA,iA=Or,ls=In.exports,cs=ls&&ls.isMap,oA=cs?iA(cs):aA,sA=oA,uA=br,lA=Ct,cA="[object Set]";function fA(e){return lA(e)&&uA(e)==cA}var dA=fA,hA=dA,pA=Or,fs=In.exports,ds=fs&&fs.isSet,vA=ds?pA(ds):hA,_A=vA,gA=Di,mA=Gu,yA=Ea,EA=gE,TA=ME,AA=Ai.exports,bA=xE,OA=GE,RA=QE,IA=$u,SA=Vu,NA=br,PA=oT,CA=VT,$A=QT,LA=me,kA=Rn.exports,MA=sA,wA=Pt,xA=_A,DA=ct,FA=Ta,UA=1,GA=2,jA=4,Ku="[object Arguments]",BA="[object Array]",WA="[object Boolean]",VA="[object Date]",KA="[object Error]",zu="[object Function]",zA="[object GeneratorFunction]",HA="[object Map]",YA="[object Number]",Hu="[object Object]",XA="[object RegExp]",qA="[object Set]",ZA="[object String]",QA="[object Symbol]",JA="[object WeakMap]",e0="[object ArrayBuffer]",t0="[object DataView]",n0="[object Float32Array]",r0="[object Float64Array]",a0="[object Int8Array]",i0="[object Int16Array]",o0="[object Int32Array]",s0="[object Uint8Array]",u0="[object Uint8ClampedArray]",l0="[object Uint16Array]",c0="[object Uint32Array]",Ae={};Ae[Ku]=Ae[BA]=Ae[e0]=Ae[t0]=Ae[WA]=Ae[VA]=Ae[n0]=Ae[r0]=Ae[a0]=Ae[i0]=Ae[o0]=Ae[HA]=Ae[YA]=Ae[Hu]=Ae[XA]=Ae[qA]=Ae[ZA]=Ae[QA]=Ae[s0]=Ae[u0]=Ae[l0]=Ae[c0]=!0;Ae[KA]=Ae[zu]=Ae[JA]=!1;function qr(e,t,n,r,a,i){var o,u=t&UA,s=t&GA,l=t&jA;if(n&&(o=a?n(e,r,a,i):n(e)),o!==void 0)return o;if(!wA(e))return e;var f=LA(e);if(f){if(o=PA(e),!u)return bA(e,o)}else{var c=NA(e),v=c==zu||c==zA;if(kA(e))return AA(e,u);if(c==Hu||c==Ku||v&&!a){if(o=s||v?{}:$A(e),!u)return s?RA(e,TA(o,e)):OA(e,EA(o,e))}else{if(!Ae[c])return a?e:{};o=CA(e,c,u)}}i||(i=new gA);var p=i.get(e);if(p)return p;i.set(e,o),xA(e)?e.forEach(function(E){o.add(qr(E,t,n,E,e,i))}):MA(e)&&e.forEach(function(E,A){o.set(A,qr(E,t,n,A,e,i))});var _=l?s?SA:IA:s?FA:DA,d=f?void 0:_(e);return mA(d||e,function(E,A){d&&(A=E,E=e[A]),yA(o,A,qr(E,t,n,A,e,i))}),o}var f0=qr,d0=f0,h0=4;function p0(e){return d0(e,h0)}var en=p0,Gn={},Sn={};Object.defineProperty(Sn,"__esModule",{value:!0});Sn.PRINT_WARNING=Sn.PRINT_ERROR=void 0;function v0(e){console&&console.error&&console.error("Error: ".concat(e))}Sn.PRINT_ERROR=v0;function _0(e){console&&console.warn&&console.warn("Warning: ".concat(e))}Sn.PRINT_WARNING=_0;var Aa={};Object.defineProperty(Aa,"__esModule",{value:!0});Aa.timer=void 0;function g0(e){var t=new Date().getTime(),n=e(),r=new Date().getTime(),a=r-t;return{time:a,value:n}}Aa.timer=g0;var ba={};Object.defineProperty(ba,"__esModule",{value:!0});ba.toFastProperties=void 0;function m0(e){function t(){}t.prototype=e;var n=new t;function r(){return typeof n.bar}return r(),r(),e}ba.toFastProperties=m0;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.toFastProperties=e.timer=e.PRINT_ERROR=e.PRINT_WARNING=void 0;var t=Sn;Object.defineProperty(e,"PRINT_WARNING",{enumerable:!0,get:function(){return t.PRINT_WARNING}}),Object.defineProperty(e,"PRINT_ERROR",{enumerable:!0,get:function(){return t.PRINT_ERROR}});var n=Aa;Object.defineProperty(e,"timer",{enumerable:!0,get:function(){return n.timer}});var r=ba;Object.defineProperty(e,"toFastProperties",{enumerable:!0,get:function(){return r.toFastProperties}})})(Gn);var Rt={},jn={};function y0(e,t,n){var r=-1,a=e.length;t<0&&(t=-t>a?0:a+t),n=n>a?a:n,n<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(a);++r<a;)i[r]=e[r+t];return i}var Xi=y0,E0=/\s/;function T0(e){for(var t=e.length;t--&&E0.test(e.charAt(t)););return t}var A0=T0,b0=A0,O0=/^\s+/;function R0(e){return e&&e.slice(0,b0(e)+1).replace(O0,"")}var I0=R0,S0=I0,hs=Pt,N0=ma,ps=0/0,P0=/^[-+]0x[0-9a-f]+$/i,C0=/^0b[01]+$/i,$0=/^0o[0-7]+$/i,L0=parseInt;function k0(e){if(typeof e=="number")return e;if(N0(e))return ps;if(hs(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=hs(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=S0(e);var n=C0.test(e);return n||$0.test(e)?L0(e.slice(2),n?2:8):P0.test(e)?ps:+e}var M0=k0,w0=M0,vs=1/0,x0=17976931348623157e292;function D0(e){if(!e)return e===0?e:0;if(e=w0(e),e===vs||e===-vs){var t=e<0?-1:1;return t*x0}return e===e?e:0}var F0=D0,U0=F0;function G0(e){var t=U0(e),n=t%1;return t===t?n?t-n:t:0}var Cr=G0,j0=Xi,B0=Cr;function W0(e,t,n){var r=e==null?0:e.length;return r?(t=n||t===void 0?1:B0(t),j0(e,t<0?0:t,r)):[]}var qi=W0,Le={},_e={},V0=dn,K0=me,z0=Ct,H0="[object String]";function Y0(e){return typeof e=="string"||!K0(e)&&z0(e)&&V0(e)==H0}var Oa=Y0,X0=dn,q0=Ct,Z0="[object RegExp]";function Q0(e){return q0(e)&&X0(e)==Z0}var J0=Q0,e1=J0,t1=Or,_s=In.exports,gs=_s&&_s.isRegExp,n1=gs?t1(gs):e1,Yu=n1,r1=Ea,a1=ya,i1=ga,ms=Pt,o1=Sr;function s1(e,t,n,r){if(!ms(e))return e;t=a1(t,e);for(var a=-1,i=t.length,o=i-1,u=e;u!=null&&++a<i;){var s=o1(t[a]),l=n;if(s==="__proto__"||s==="constructor"||s==="prototype")return e;if(a!=o){var f=u[s];l=r?r(f,s,u):void 0,l===void 0&&(l=ms(f)?f:i1(t[a+1])?[]:{})}r1(u,s,l),u=u[s]}return e}var u1=s1,l1=zi,c1=u1,f1=ya;function d1(e,t,n){for(var r=-1,a=t.length,i={};++r<a;){var o=t[r],u=l1(e,o);n(u,o)&&c1(i,f1(o,e),u)}return i}var h1=d1,p1=Rr,v1=kt,_1=h1,g1=Vu;function m1(e,t){if(e==null)return{};var n=p1(g1(e),function(r){return[r]});return t=v1(t),_1(e,n,function(r,a){return t(r,a[0])})}var Xu=m1;function y1(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var E1=y1,T1=E1,ys=Math.max;function A1(e,t,n){return t=ys(t===void 0?e.length-1:t,0),function(){for(var r=arguments,a=-1,i=ys(r.length-t,0),o=Array(i);++a<i;)o[a]=r[t+a];a=-1;for(var u=Array(t+1);++a<t;)u[a]=r[a];return u[t]=n(o),T1(e,this,u)}}var b1=A1;function O1(e){return function(){return e}}var R1=O1,I1=R1,Es=ju,S1=Nr,N1=Es?function(e,t){return Es(e,"toString",{configurable:!0,enumerable:!1,value:I1(t),writable:!0})}:S1,P1=N1,C1=800,$1=16,L1=Date.now;function k1(e){var t=0,n=0;return function(){var r=L1(),a=$1-(r-n);if(n=r,a>0){if(++t>=C1)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var M1=k1,w1=P1,x1=M1,D1=x1(w1),F1=D1,U1=Nr,G1=b1,j1=F1;function B1(e,t){return j1(G1(e,t,U1),e+"")}var Zi=B1,W1=Ir,V1=$t,K1=ga,z1=Pt;function H1(e,t,n){if(!z1(n))return!1;var r=typeof t;return(r=="number"?V1(n)&&K1(t,n.length):r=="string"&&t in n)?W1(n[t],e):!1}var Ra=H1,Y1=Zi,X1=Ra;function q1(e){return Y1(function(t,n){var r=-1,a=n.length,i=a>1?n[a-1]:void 0,o=a>2?n[2]:void 0;for(i=e.length>3&&typeof i=="function"?(a--,i):void 0,o&&X1(n[0],n[1],o)&&(i=a<3?void 0:i,a=1),t=Object(t);++r<a;){var u=n[r];u&&e(t,u,r,i)}return t})}var Z1=q1,Q1=Ea,J1=Pr,eb=Z1,tb=$t,nb=Tr,rb=ct,ab=Object.prototype,ib=ab.hasOwnProperty,ob=eb(function(e,t){if(nb(t)||tb(t)){J1(t,rb(t),e);return}for(var n in t)ib.call(t,n)&&Q1(e,n,t[n])}),Ia=ob,Kt=k&&k.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(r[i]=a[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Bn=k&&k.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_e,"__esModule",{value:!0});_e.serializeProduction=_e.serializeGrammar=_e.Terminal=_e.Alternation=_e.RepetitionWithSeparator=_e.Repetition=_e.RepetitionMandatoryWithSeparator=_e.RepetitionMandatory=_e.Option=_e.Alternative=_e.Rule=_e.NonTerminal=_e.AbstractProduction=void 0;var qu=Bn(nt),sb=Bn(Ve),bi=Bn(Oa),ub=Bn(Yu),Mt=Bn(Xu),wt=Bn(Ia);function lb(e){return cb(e)?e.LABEL:e.name}function cb(e){return(0,bi.default)(e.LABEL)&&e.LABEL!==""}var xt=function(){function e(t){this._definition=t}return Object.defineProperty(e.prototype,"definition",{get:function(){return this._definition},set:function(t){this._definition=t},enumerable:!1,configurable:!0}),e.prototype.accept=function(t){t.visit(this),(0,sb.default)(this.definition,function(n){n.accept(t)})},e}();_e.AbstractProduction=xt;var Zu=function(e){Kt(t,e);function t(n){var r=e.call(this,[])||this;return r.idx=1,(0,wt.default)(r,(0,Mt.default)(n,function(a){return a!==void 0})),r}return Object.defineProperty(t.prototype,"definition",{get:function(){return this.referencedRule!==void 0?this.referencedRule.definition:[]},set:function(n){},enumerable:!1,configurable:!0}),t.prototype.accept=function(n){n.visit(this)},t}(xt);_e.NonTerminal=Zu;var Qu=function(e){Kt(t,e);function t(n){var r=e.call(this,n.definition)||this;return r.orgText="",(0,wt.default)(r,(0,Mt.default)(n,function(a){return a!==void 0})),r}return t}(xt);_e.Rule=Qu;var Ju=function(e){Kt(t,e);function t(n){var r=e.call(this,n.definition)||this;return r.ignoreAmbiguities=!1,(0,wt.default)(r,(0,Mt.default)(n,function(a){return a!==void 0})),r}return t}(xt);_e.Alternative=Ju;var el=function(e){Kt(t,e);function t(n){var r=e.call(this,n.definition)||this;return r.idx=1,(0,wt.default)(r,(0,Mt.default)(n,function(a){return a!==void 0})),r}return t}(xt);_e.Option=el;var tl=function(e){Kt(t,e);function t(n){var r=e.call(this,n.definition)||this;return r.idx=1,(0,wt.default)(r,(0,Mt.default)(n,function(a){return a!==void 0})),r}return t}(xt);_e.RepetitionMandatory=tl;var nl=function(e){Kt(t,e);function t(n){var r=e.call(this,n.definition)||this;return r.idx=1,(0,wt.default)(r,(0,Mt.default)(n,function(a){return a!==void 0})),r}return t}(xt);_e.RepetitionMandatoryWithSeparator=nl;var rl=function(e){Kt(t,e);function t(n){var r=e.call(this,n.definition)||this;return r.idx=1,(0,wt.default)(r,(0,Mt.default)(n,function(a){return a!==void 0})),r}return t}(xt);_e.Repetition=rl;var al=function(e){Kt(t,e);function t(n){var r=e.call(this,n.definition)||this;return r.idx=1,(0,wt.default)(r,(0,Mt.default)(n,function(a){return a!==void 0})),r}return t}(xt);_e.RepetitionWithSeparator=al;var il=function(e){Kt(t,e);function t(n){var r=e.call(this,n.definition)||this;return r.idx=1,r.ignoreAmbiguities=!1,r.hasPredicates=!1,(0,wt.default)(r,(0,Mt.default)(n,function(a){return a!==void 0})),r}return Object.defineProperty(t.prototype,"definition",{get:function(){return this._definition},set:function(n){this._definition=n},enumerable:!1,configurable:!0}),t}(xt);_e.Alternation=il;var Zr=function(){function e(t){this.idx=1,(0,wt.default)(this,(0,Mt.default)(t,function(n){return n!==void 0}))}return e.prototype.accept=function(t){t.visit(this)},e}();_e.Terminal=Zr;function fb(e){return(0,qu.default)(e,rr)}_e.serializeGrammar=fb;function rr(e){function t(i){return(0,qu.default)(i,rr)}if(e instanceof Zu){var n={type:"NonTerminal",name:e.nonTerminalName,idx:e.idx};return(0,bi.default)(e.label)&&(n.label=e.label),n}else{if(e instanceof Ju)return{type:"Alternative",definition:t(e.definition)};if(e instanceof el)return{type:"Option",idx:e.idx,definition:t(e.definition)};if(e instanceof tl)return{type:"RepetitionMandatory",idx:e.idx,definition:t(e.definition)};if(e instanceof nl)return{type:"RepetitionMandatoryWithSeparator",idx:e.idx,separator:rr(new Zr({terminalType:e.separator})),definition:t(e.definition)};if(e instanceof al)return{type:"RepetitionWithSeparator",idx:e.idx,separator:rr(new Zr({terminalType:e.separator})),definition:t(e.definition)};if(e instanceof rl)return{type:"Repetition",idx:e.idx,definition:t(e.definition)};if(e instanceof il)return{type:"Alternation",idx:e.idx,definition:t(e.definition)};if(e instanceof Zr){var r={type:"Terminal",name:e.terminalType.name,label:lb(e.terminalType),idx:e.idx};(0,bi.default)(e.label)&&(r.terminalLabel=e.label);var a=e.terminalType.PATTERN;return e.terminalType.PATTERN&&(r.pattern=(0,ub.default)(a)?a.source:a),r}else{if(e instanceof Qu)return{type:"Rule",name:e.name,orgText:e.orgText,definition:t(e.definition)};throw Error("non exhaustive match")}}}_e.serializeProduction=rr;var Sa={};Object.defineProperty(Sa,"__esModule",{value:!0});Sa.GAstVisitor=void 0;var bt=_e,db=function(){function e(){}return e.prototype.visit=function(t){var n=t;switch(n.constructor){case bt.NonTerminal:return this.visitNonTerminal(n);case bt.Alternative:return this.visitAlternative(n);case bt.Option:return this.visitOption(n);case bt.RepetitionMandatory:return this.visitRepetitionMandatory(n);case bt.RepetitionMandatoryWithSeparator:return this.visitRepetitionMandatoryWithSeparator(n);case bt.RepetitionWithSeparator:return this.visitRepetitionWithSeparator(n);case bt.Repetition:return this.visitRepetition(n);case bt.Alternation:return this.visitAlternation(n);case bt.Terminal:return this.visitTerminal(n);case bt.Rule:return this.visitRule(n);default:throw Error("non exhaustive match")}},e.prototype.visitNonTerminal=function(t){},e.prototype.visitAlternative=function(t){},e.prototype.visitOption=function(t){},e.prototype.visitRepetition=function(t){},e.prototype.visitRepetitionMandatory=function(t){},e.prototype.visitRepetitionMandatoryWithSeparator=function(t){},e.prototype.visitRepetitionWithSeparator=function(t){},e.prototype.visitAlternation=function(t){},e.prototype.visitTerminal=function(t){},e.prototype.visitRule=function(t){},e}();Sa.GAstVisitor=db;var It={},hb=pn;function pb(e,t){var n;return hb(e,function(r,a,i){return n=t(r,a,i),!n}),!!n}var vb=pb,_b=Ru,gb=kt,mb=vb,yb=me,Eb=Ra;function Tb(e,t,n){var r=yb(e)?_b:mb;return n&&Eb(e,t,n)&&(t=void 0),r(e,gb(t))}var Qi=Tb;function Ab(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}var bb=Ab,Ob=pn;function Rb(e,t){var n=!0;return Ob(e,function(r,a,i){return n=!!t(r,a,i),n}),n}var Ib=Rb,Sb=bb,Nb=Ib,Pb=kt,Cb=me,$b=Ra;function Lb(e,t,n){var r=Cb(e)?Sb:Nb;return n&&$b(e,t,n)&&(t=void 0),r(e,Pb(t))}var Na=Lb;function kb(e,t,n,r){for(var a=e.length,i=n+(r?1:-1);r?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var ol=kb;function Mb(e){return e!==e}var wb=Mb;function xb(e,t,n){for(var r=n-1,a=e.length;++r<a;)if(e[r]===t)return r;return-1}var Db=xb,Fb=ol,Ub=wb,Gb=Db;function jb(e,t,n){return t===t?Gb(e,t,n):Fb(e,Ub,n)}var Ji=jb,Bb=Ji,Wb=$t,Vb=Oa,Kb=Cr,zb=Vt,Hb=Math.max;function Yb(e,t,n,r){e=Wb(e)?e:zb(e),n=n&&!r?Kb(n):0;var a=e.length;return n<0&&(n=Hb(a+n,0)),Vb(e)?n<=a&&e.indexOf(t,n)>-1:!!a&&Bb(e,t,n)>-1}var zt=Yb,eo=k&&k.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(It,"__esModule",{value:!0});It.getProductionDslName=It.isBranchingProd=It.isOptionalProd=It.isSequenceProd=void 0;var Xb=eo(Qi),qb=eo(Na),Zb=eo(zt),Ie=_e;function Qb(e){return e instanceof Ie.Alternative||e instanceof Ie.Option||e instanceof Ie.Repetition||e instanceof Ie.RepetitionMandatory||e instanceof Ie.RepetitionMandatoryWithSeparator||e instanceof Ie.RepetitionWithSeparator||e instanceof Ie.Terminal||e instanceof Ie.Rule}It.isSequenceProd=Qb;function Oi(e,t){t===void 0&&(t=[]);var n=e instanceof Ie.Option||e instanceof Ie.Repetition||e instanceof Ie.RepetitionWithSeparator;return n?!0:e instanceof Ie.Alternation?(0,Xb.default)(e.definition,function(r){return Oi(r,t)}):e instanceof Ie.NonTerminal&&(0,Zb.default)(t,e)?!1:e instanceof Ie.AbstractProduction?(e instanceof Ie.NonTerminal&&t.push(e),(0,qb.default)(e.definition,function(r){return Oi(r,t)})):!1}It.isOptionalProd=Oi;function Jb(e){return e instanceof Ie.Alternation}It.isBranchingProd=Jb;function eO(e){if(e instanceof Ie.NonTerminal)return"SUBRULE";if(e instanceof Ie.Option)return"OPTION";if(e instanceof Ie.Alternation)return"OR";if(e instanceof Ie.RepetitionMandatory)return"AT_LEAST_ONE";if(e instanceof Ie.RepetitionMandatoryWithSeparator)return"AT_LEAST_ONE_SEP";if(e instanceof Ie.RepetitionWithSeparator)return"MANY_SEP";if(e instanceof Ie.Repetition)return"MANY";if(e instanceof Ie.Terminal)return"CONSUME";throw Error("non exhaustive match")}It.getProductionDslName=eO;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isSequenceProd=e.isBranchingProd=e.isOptionalProd=e.getProductionDslName=e.GAstVisitor=e.serializeProduction=e.serializeGrammar=e.Alternative=e.Alternation=e.RepetitionWithSeparator=e.RepetitionMandatoryWithSeparator=e.RepetitionMandatory=e.Repetition=e.Option=e.NonTerminal=e.Terminal=e.Rule=void 0;var t=_e;Object.defineProperty(e,"Rule",{enumerable:!0,get:function(){return t.Rule}}),Object.defineProperty(e,"Terminal",{enumerable:!0,get:function(){return t.Terminal}}),Object.defineProperty(e,"NonTerminal",{enumerable:!0,get:function(){return t.NonTerminal}}),Object.defineProperty(e,"Option",{enumerable:!0,get:function(){return t.Option}}),Object.defineProperty(e,"Repetition",{enumerable:!0,get:function(){return t.Repetition}}),Object.defineProperty(e,"RepetitionMandatory",{enumerable:!0,get:function(){return t.RepetitionMandatory}}),Object.defineProperty(e,"RepetitionMandatoryWithSeparator",{enumerable:!0,get:function(){return t.RepetitionMandatoryWithSeparator}}),Object.defineProperty(e,"RepetitionWithSeparator",{enumerable:!0,get:function(){return t.RepetitionWithSeparator}}),Object.defineProperty(e,"Alternation",{enumerable:!0,get:function(){return t.Alternation}}),Object.defineProperty(e,"Alternative",{enumerable:!0,get:function(){return t.Alternative}}),Object.defineProperty(e,"serializeGrammar",{enumerable:!0,get:function(){return t.serializeGrammar}}),Object.defineProperty(e,"serializeProduction",{enumerable:!0,get:function(){return t.serializeProduction}});var n=Sa;Object.defineProperty(e,"GAstVisitor",{enumerable:!0,get:function(){return n.GAstVisitor}});var r=It;Object.defineProperty(e,"getProductionDslName",{enumerable:!0,get:function(){return r.getProductionDslName}}),Object.defineProperty(e,"isOptionalProd",{enumerable:!0,get:function(){return r.isOptionalProd}}),Object.defineProperty(e,"isBranchingProd",{enumerable:!0,get:function(){return r.isBranchingProd}}),Object.defineProperty(e,"isSequenceProd",{enumerable:!0,get:function(){return r.isSequenceProd}})})(Le);var sl=k&&k.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(jn,"__esModule",{value:!0});jn.RestWalker=void 0;var tO=sl(qi),Ts=sl(Ve),et=Le,nO=function(){function e(){}return e.prototype.walk=function(t,n){var r=this;n===void 0&&(n=[]),(0,Ts.default)(t.definition,function(a,i){var o=(0,tO.default)(t.definition,i+1);if(a instanceof et.NonTerminal)r.walkProdRef(a,o,n);else if(a instanceof et.Terminal)r.walkTerminal(a,o,n);else if(a instanceof et.Alternative)r.walkFlat(a,o,n);else if(a instanceof et.Option)r.walkOption(a,o,n);else if(a instanceof et.RepetitionMandatory)r.walkAtLeastOne(a,o,n);else if(a instanceof et.RepetitionMandatoryWithSeparator)r.walkAtLeastOneSep(a,o,n);else if(a instanceof et.RepetitionWithSeparator)r.walkManySep(a,o,n);else if(a instanceof et.Repetition)r.walkMany(a,o,n);else if(a instanceof et.Alternation)r.walkOr(a,o,n);else throw Error("non exhaustive match")})},e.prototype.walkTerminal=function(t,n,r){},e.prototype.walkProdRef=function(t,n,r){},e.prototype.walkFlat=function(t,n,r){var a=n.concat(r);this.walk(t,a)},e.prototype.walkOption=function(t,n,r){var a=n.concat(r);this.walk(t,a)},e.prototype.walkAtLeastOne=function(t,n,r){var a=[new et.Option({definition:t.definition})].concat(n,r);this.walk(t,a)},e.prototype.walkAtLeastOneSep=function(t,n,r){var a=As(t,n,r);this.walk(t,a)},e.prototype.walkMany=function(t,n,r){var a=[new et.Option({definition:t.definition})].concat(n,r);this.walk(t,a)},e.prototype.walkManySep=function(t,n,r){var a=As(t,n,r);this.walk(t,a)},e.prototype.walkOr=function(t,n,r){var a=this,i=n.concat(r);(0,Ts.default)(t.definition,function(o){var u=new et.Alternative({definition:[o]});a.walk(u,i)})},e}();jn.RestWalker=nO;function As(e,t,n){var r=[new et.Option({definition:[new et.Terminal({terminalType:e.separator})].concat(e.definition)})],a=r.concat(t,n);return a}var Et={},bs=Mn,rO=da,aO=me,Os=bs?bs.isConcatSpreadable:void 0;function iO(e){return aO(e)||rO(e)||!!(Os&&e&&e[Os])}var oO=iO,sO=ji,uO=oO;function ul(e,t,n,r,a){var i=-1,o=e.length;for(n||(n=uO),a||(a=[]);++i<o;){var u=e[i];t>0&&n(u)?t>1?ul(u,t-1,n,r,a):sO(a,u):r||(a[a.length]=u)}return a}var to=ul,lO=to;function cO(e){var t=e==null?0:e.length;return t?lO(e,1):[]}var Ht=cO,fO=Ji;function dO(e,t){var n=e==null?0:e.length;return!!n&&fO(e,t,0)>-1}var ll=dO;function hO(e,t,n){for(var r=-1,a=e==null?0:e.length;++r<a;)if(n(t,e[r]))return!0;return!1}var cl=hO;function pO(){}var no=pO,si=Au,vO=no,_O=Gi,gO=1/0,mO=si&&1/_O(new si([,-0]))[1]==gO?function(e){return new si(e)}:vO,yO=mO,EO=Fi,TO=ll,AO=cl,bO=Ui,OO=yO,RO=Gi,IO=200;function SO(e,t,n){var r=-1,a=TO,i=e.length,o=!0,u=[],s=u;if(n)o=!1,a=AO;else if(i>=IO){var l=t?null:OO(e);if(l)return RO(l);o=!1,a=bO,s=new EO}else s=t?[]:u;e:for(;++r<i;){var f=e[r],c=t?t(f):f;if(f=n||f!==0?f:0,o&&c===c){for(var v=s.length;v--;)if(s[v]===c)continue e;t&&s.push(c),u.push(f)}else a(s,c,n)||(s!==u&&s.push(c),u.push(f))}return u}var NO=SO,PO=NO;function CO(e){return e&&e.length?PO(e):[]}var ro=CO,ao=k&&k.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Et,"__esModule",{value:!0});Et.firstForTerminal=Et.firstForBranching=Et.firstForSequence=Et.first=void 0;var $O=ao(Ht),fl=ao(ro),LO=ao(nt),Rs=Le,Ri=Le;function Pa(e){if(e instanceof Rs.NonTerminal)return Pa(e.referencedRule);if(e instanceof Rs.Terminal)return pl(e);if((0,Ri.isSequenceProd)(e))return dl(e);if((0,Ri.isBranchingProd)(e))return hl(e);throw Error("non exhaustive match")}Et.first=Pa;function dl(e){for(var t=[],n=e.definition,r=0,a=n.length>r,i,o=!0;a&&o;)i=n[r],o=(0,Ri.isOptionalProd)(i),t=t.concat(Pa(i)),r=r+1,a=n.length>r;return(0,fl.default)(t)}Et.firstForSequence=dl;function hl(e){var t=(0,LO.default)(e.definition,function(n){return Pa(n)});return(0,fl.default)((0,$O.default)(t))}Et.firstForBranching=hl;function pl(e){return[e.terminalType]}Et.firstForTerminal=pl;var $r={};Object.defineProperty($r,"__esModule",{value:!0});$r.IN=void 0;$r.IN="_~IN~_";var kO=k&&k.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(r[i]=a[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),vl=k&&k.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Rt,"__esModule",{value:!0});Rt.buildInProdFollowPrefix=Rt.buildBetweenProdsFollowPrefix=Rt.computeAllProdsFollows=Rt.ResyncFollowsWalker=void 0;var MO=jn,wO=Et,xO=vl(Ve),DO=vl(Ia),_l=$r,FO=Le,gl=function(e){kO(t,e);function t(n){var r=e.call(this)||this;return r.topProd=n,r.follows={},r}return t.prototype.startWalking=function(){return this.walk(this.topProd),this.follows},t.prototype.walkTerminal=function(n,r,a){},t.prototype.walkProdRef=function(n,r,a){var i=ml(n.referencedRule,n.idx)+this.topProd.name,o=r.concat(a),u=new FO.Alternative({definition:o}),s=(0,wO.first)(u);this.follows[i]=s},t}(MO.RestWalker);Rt.ResyncFollowsWalker=gl;function UO(e){var t={};return(0,xO.default)(e,function(n){var r=new gl(n).startWalking();(0,DO.default)(t,r)}),t}Rt.computeAllProdsFollows=UO;function ml(e,t){return e.name+t+_l.IN}Rt.buildBetweenProdsFollowPrefix=ml;function GO(e){var t=e.terminalType.name;return t+e.idx+_l.IN}Rt.buildInProdFollowPrefix=GO;var vn={};function jO(e){return e===void 0}var Wn=jO,Lr={},io={},Ca={exports:{}};(function(e){(function(t,n){e.exports?e.exports=n():t.regexpToAst=n()})(typeof self!="undefined"?self:k,function(){function t(){}t.prototype.saveState=function(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}},t.prototype.restoreState=function(d){this.idx=d.idx,this.input=d.input,this.groupIdx=d.groupIdx},t.prototype.pattern=function(d){this.idx=0,this.input=d,this.groupIdx=0,this.consumeChar("/");var E=this.disjunction();this.consumeChar("/");for(var A={type:"Flags",loc:{begin:this.idx,end:d.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};this.isRegExpFlag();)switch(this.popChar()){case"g":u(A,"global");break;case"i":u(A,"ignoreCase");break;case"m":u(A,"multiLine");break;case"u":u(A,"unicode");break;case"y":u(A,"sticky");break}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:A,value:E,loc:this.loc(0)}},t.prototype.disjunction=function(){var d=[],E=this.idx;for(d.push(this.alternative());this.peekChar()==="|";)this.consumeChar("|"),d.push(this.alternative());return{type:"Disjunction",value:d,loc:this.loc(E)}},t.prototype.alternative=function(){for(var d=[],E=this.idx;this.isTerm();)d.push(this.term());return{type:"Alternative",value:d,loc:this.loc(E)}},t.prototype.term=function(){return this.isAssertion()?this.assertion():this.atom()},t.prototype.assertion=function(){var d=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(d)};case"$":return{type:"EndAnchor",loc:this.loc(d)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(d)};case"B":return{type:"NonWordBoundary",loc:this.loc(d)}}throw Error("Invalid Assertion Escape");case"(":this.consumeChar("?");var E;switch(this.popChar()){case"=":E="Lookahead";break;case"!":E="NegativeLookahead";break}s(E);var A=this.disjunction();return this.consumeChar(")"),{type:E,value:A,loc:this.loc(d)}}l()},t.prototype.quantifier=function(d){var E,A=this.idx;switch(this.popChar()){case"*":E={atLeast:0,atMost:1/0};break;case"+":E={atLeast:1,atMost:1/0};break;case"?":E={atLeast:0,atMost:1};break;case"{":var O=this.integerIncludingZero();switch(this.popChar()){case"}":E={atLeast:O,atMost:O};break;case",":var y;this.isDigit()?(y=this.integerIncludingZero(),E={atLeast:O,atMost:y}):E={atLeast:O,atMost:1/0},this.consumeChar("}");break}if(d===!0&&E===void 0)return;s(E);break}if(!(d===!0&&E===void 0))return s(E),this.peekChar(0)==="?"?(this.consumeChar("?"),E.greedy=!1):E.greedy=!0,E.type="Quantifier",E.loc=this.loc(A),E},t.prototype.atom=function(){var d,E=this.idx;switch(this.peekChar()){case".":d=this.dotAll();break;case"\\":d=this.atomEscape();break;case"[":d=this.characterClass();break;case"(":d=this.group();break}return d===void 0&&this.isPatternCharacter()&&(d=this.patternCharacter()),s(d),d.loc=this.loc(E),this.isQuantifier()&&(d.quantifier=this.quantifier()),d},t.prototype.dotAll=function(){return this.consumeChar("."),{type:"Set",complement:!0,value:[i(`
`),i("\r"),i("\u2028"),i("\u2029")]}},t.prototype.atomEscape=function(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}},t.prototype.decimalEscapeAtom=function(){var d=this.positiveInteger();return{type:"GroupBackReference",value:d}},t.prototype.characterClassEscape=function(){var d,E=!1;switch(this.popChar()){case"d":d=c;break;case"D":d=c,E=!0;break;case"s":d=p;break;case"S":d=p,E=!0;break;case"w":d=v;break;case"W":d=v,E=!0;break}return s(d),{type:"Set",value:d,complement:E}},t.prototype.controlEscapeAtom=function(){var d;switch(this.popChar()){case"f":d=i("\f");break;case"n":d=i(`
`);break;case"r":d=i("\r");break;case"t":d=i("	");break;case"v":d=i("\v");break}return s(d),{type:"Character",value:d}},t.prototype.controlLetterEscapeAtom=function(){this.consumeChar("c");var d=this.popChar();if(/[a-zA-Z]/.test(d)===!1)throw Error("Invalid ");var E=d.toUpperCase().charCodeAt(0)-64;return{type:"Character",value:E}},t.prototype.nulCharacterAtom=function(){return this.consumeChar("0"),{type:"Character",value:i("\0")}},t.prototype.hexEscapeSequenceAtom=function(){return this.consumeChar("x"),this.parseHexDigits(2)},t.prototype.regExpUnicodeEscapeSequenceAtom=function(){return this.consumeChar("u"),this.parseHexDigits(4)},t.prototype.identityEscapeAtom=function(){var d=this.popChar();return{type:"Character",value:i(d)}},t.prototype.classPatternCharacterAtom=function(){switch(this.peekChar()){case`
`:case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:var d=this.popChar();return{type:"Character",value:i(d)}}},t.prototype.characterClass=function(){var d=[],E=!1;for(this.consumeChar("["),this.peekChar(0)==="^"&&(this.consumeChar("^"),E=!0);this.isClassAtom();){var A=this.classAtom(),O=A.type==="Character";if(O&&this.isRangeDash()){this.consumeChar("-");var y=this.classAtom(),b=y.type==="Character";if(b){if(y.value<A.value)throw Error("Range out of order in character class");d.push({from:A.value,to:y.value})}else o(A.value,d),d.push(i("-")),o(y.value,d)}else o(A.value,d)}return this.consumeChar("]"),{type:"Set",complement:E,value:d}},t.prototype.classAtom=function(){switch(this.peekChar()){case"]":case`
`:case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}},t.prototype.classEscape=function(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:i("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}},t.prototype.group=function(){var d=!0;switch(this.consumeChar("("),this.peekChar(0)){case"?":this.consumeChar("?"),this.consumeChar(":"),d=!1;break;default:this.groupIdx++;break}var E=this.disjunction();this.consumeChar(")");var A={type:"Group",capturing:d,value:E};return d&&(A.idx=this.groupIdx),A},t.prototype.positiveInteger=function(){var d=this.popChar();if(a.test(d)===!1)throw Error("Expecting a positive integer");for(;r.test(this.peekChar(0));)d+=this.popChar();return parseInt(d,10)},t.prototype.integerIncludingZero=function(){var d=this.popChar();if(r.test(d)===!1)throw Error("Expecting an integer");for(;r.test(this.peekChar(0));)d+=this.popChar();return parseInt(d,10)},t.prototype.patternCharacter=function(){var d=this.popChar();switch(d){case`
`:case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:i(d)}}},t.prototype.isRegExpFlag=function(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}},t.prototype.isRangeDash=function(){return this.peekChar()==="-"&&this.isClassAtom(1)},t.prototype.isDigit=function(){return r.test(this.peekChar(0))},t.prototype.isClassAtom=function(d){switch(d===void 0&&(d=0),this.peekChar(d)){case"]":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}},t.prototype.isTerm=function(){return this.isAtom()||this.isAssertion()},t.prototype.isAtom=function(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}},t.prototype.isAssertion=function(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return this.peekChar(1)==="?"&&(this.peekChar(2)==="="||this.peekChar(2)==="!");default:return!1}},t.prototype.isQuantifier=function(){var d=this.saveState();try{return this.quantifier(!0)!==void 0}catch{return!1}finally{this.restoreState(d)}},t.prototype.isPatternCharacter=function(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}},t.prototype.parseHexDigits=function(d){for(var E="",A=0;A<d;A++){var O=this.popChar();if(n.test(O)===!1)throw Error("Expecting a HexDecimal digits");E+=O}var y=parseInt(E,16);return{type:"Character",value:y}},t.prototype.peekChar=function(d){return d===void 0&&(d=0),this.input[this.idx+d]},t.prototype.popChar=function(){var d=this.peekChar(0);return this.consumeChar(),d},t.prototype.consumeChar=function(d){if(d!==void 0&&this.input[this.idx]!==d)throw Error("Expected: '"+d+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++},t.prototype.loc=function(d){return{begin:d,end:this.idx}};var n=/[0-9a-fA-F]/,r=/[0-9]/,a=/[1-9]/;function i(d){return d.charCodeAt(0)}function o(d,E){d.length!==void 0?d.forEach(function(A){E.push(A)}):E.push(d)}function u(d,E){if(d[E]===!0)throw"duplicate flag "+E;d[E]=!0}function s(d){if(d===void 0)throw Error("Internal Error - Should never get here!")}function l(){throw Error("Internal Error - Should never get here!")}var f,c=[];for(f=i("0");f<=i("9");f++)c.push(f);var v=[i("_")].concat(c);for(f=i("a");f<=i("z");f++)v.push(f);for(f=i("A");f<=i("Z");f++)v.push(f);var p=[i(" "),i("\f"),i(`
`),i("\r"),i("	"),i("\v"),i("	"),i("\xA0"),i("\u1680"),i("\u2000"),i("\u2001"),i("\u2002"),i("\u2003"),i("\u2004"),i("\u2005"),i("\u2006"),i("\u2007"),i("\u2008"),i("\u2009"),i("\u200A"),i("\u2028"),i("\u2029"),i("\u202F"),i("\u205F"),i("\u3000"),i("\uFEFF")];function _(){}return _.prototype.visitChildren=function(d){for(var E in d){var A=d[E];d.hasOwnProperty(E)&&(A.type!==void 0?this.visit(A):Array.isArray(A)&&A.forEach(function(O){this.visit(O)},this))}},_.prototype.visit=function(d){switch(d.type){case"Pattern":this.visitPattern(d);break;case"Flags":this.visitFlags(d);break;case"Disjunction":this.visitDisjunction(d);break;case"Alternative":this.visitAlternative(d);break;case"StartAnchor":this.visitStartAnchor(d);break;case"EndAnchor":this.visitEndAnchor(d);break;case"WordBoundary":this.visitWordBoundary(d);break;case"NonWordBoundary":this.visitNonWordBoundary(d);break;case"Lookahead":this.visitLookahead(d);break;case"NegativeLookahead":this.visitNegativeLookahead(d);break;case"Character":this.visitCharacter(d);break;case"Set":this.visitSet(d);break;case"Group":this.visitGroup(d);break;case"GroupBackReference":this.visitGroupBackReference(d);break;case"Quantifier":this.visitQuantifier(d);break}this.visitChildren(d)},_.prototype.visitPattern=function(d){},_.prototype.visitFlags=function(d){},_.prototype.visitDisjunction=function(d){},_.prototype.visitAlternative=function(d){},_.prototype.visitStartAnchor=function(d){},_.prototype.visitEndAnchor=function(d){},_.prototype.visitWordBoundary=function(d){},_.prototype.visitNonWordBoundary=function(d){},_.prototype.visitLookahead=function(d){},_.prototype.visitNegativeLookahead=function(d){},_.prototype.visitCharacter=function(d){},_.prototype.visitSet=function(d){},_.prototype.visitGroup=function(d){},_.prototype.visitGroupBackReference=function(d){},_.prototype.visitQuantifier=function(d){},{RegExpParser:t,BaseRegExpVisitor:_,VERSION:"0.5.0"}})})(Ca);function BO(e){return e&&e.length?e[0]:void 0}var WO=BO,kr=WO;function VO(e){for(var t=-1,n=e==null?0:e.length,r=0,a=[];++t<n;){var i=e[t];i&&(a[r++]=i)}return a}var $a=VO,KO=pn;function zO(e,t){var n=[];return KO(e,function(r,a,i){t(r,a,i)&&n.push(r)}),n}var yl=zO,HO="Expected a function";function YO(e){if(typeof e!="function")throw new TypeError(HO);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}var XO=YO,qO=Bi,ZO=yl,QO=kt,JO=me,eR=XO;function tR(e,t){var n=JO(e)?qO:ZO;return n(e,eR(QO(t)))}var oo=tR,nR=Fi,rR=ll,aR=cl,iR=Rr,oR=Or,sR=Ui,uR=200;function lR(e,t,n,r){var a=-1,i=rR,o=!0,u=e.length,s=[],l=t.length;if(!u)return s;n&&(t=iR(t,oR(n))),r?(i=aR,o=!1):t.length>=uR&&(i=sR,o=!1,t=new nR(t));e:for(;++a<u;){var f=e[a],c=n==null?f:n(f);if(f=r||f!==0?f:0,o&&c===c){for(var v=l;v--;)if(t[v]===c)continue e;s.push(f)}else i(t,c,r)||s.push(f)}return s}var cR=lR,fR=$t,dR=Ct;function hR(e){return dR(e)&&fR(e)}var pR=hR,vR=cR,_R=to,gR=Zi,Is=pR,mR=gR(function(e,t){return Is(e)?vR(e,_R(t,1,Is,!0)):[]}),so=mR,yR=Ji,ER=Cr,TR=Math.max;function AR(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var a=n==null?0:ER(n);return a<0&&(a=TR(r+a,0)),yR(e,t,a)}var bR=AR,OR=kt,RR=$t,IR=ct;function SR(e){return function(t,n,r){var a=Object(t);if(!RR(t)){var i=OR(n);t=IR(t),n=function(u){return i(a[u],u,a)}}var o=e(t,n,r);return o>-1?a[i?t[o]:o]:void 0}}var NR=SR,PR=ol,CR=kt,$R=Cr,LR=Math.max;function kR(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var a=n==null?0:$R(n);return a<0&&(a=LR(r+a,0)),PR(e,CR(t),a)}var MR=kR,wR=NR,xR=MR,DR=wR(xR),uo=DR,FR=Bi,UR=yl,GR=kt,jR=me;function BR(e,t){var n=jR(e)?FR:UR;return n(e,GR(t))}var lo=BR,WR=Zi,VR=Ir,KR=Ra,zR=Ta,El=Object.prototype,HR=El.hasOwnProperty,YR=WR(function(e,t){e=Object(e);var n=-1,r=t.length,a=r>2?t[2]:void 0;for(a&&KR(t[0],t[1],a)&&(r=1);++n<r;)for(var i=t[n],o=zR(i),u=-1,s=o.length;++u<s;){var l=o[u],f=e[l];(f===void 0||VR(f,El[l])&&!HR.call(e,l))&&(e[l]=i[l])}return e}),Tl=YR;function XR(e,t,n,r){var a=-1,i=e==null?0:e.length;for(r&&i&&(n=e[++a]);++a<i;)n=t(n,e[a],a,e);return n}var qR=XR;function ZR(e,t,n,r,a){return a(e,function(i,o,u){n=r?(r=!1,i):t(n,i,o,u)}),n}var QR=ZR,JR=qR,eI=pn,tI=kt,nI=QR,rI=me;function aI(e,t,n){var r=rI(e)?JR:nI,a=arguments.length<3;return r(e,tI(t),n,a,eI)}var _n=aI,Al={},Jt={};Object.defineProperty(Jt,"__esModule",{value:!0});Jt.clearRegExpParserCache=Jt.getRegExpAst=void 0;var iI=Ca.exports,Qr={},oI=new iI.RegExpParser;function sI(e){var t=e.toString();if(Qr.hasOwnProperty(t))return Qr[t];var n=oI.pattern(t);return Qr[t]=n,n}Jt.getRegExpAst=sI;function uI(){Qr={}}Jt.clearRegExpParserCache=uI;(function(e){var t=k&&k.__extends||function(){var m=function(g,T){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,S){h.__proto__=S}||function(h,S){for(var U in S)Object.prototype.hasOwnProperty.call(S,U)&&(h[U]=S[U])},m(g,T)};return function(g,T){if(typeof T!="function"&&T!==null)throw new TypeError("Class extends value "+String(T)+" is not a constructor or null");m(g,T);function h(){this.constructor=g}g.prototype=T===null?Object.create(T):(h.prototype=T.prototype,new h)}}(),n=k&&k.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(e,"__esModule",{value:!0}),e.canMatchCharCode=e.firstCharOptimizedIndices=e.getOptimizedStartCodesIndices=e.failedOptimizationPrefixMsg=void 0;var r=Ca.exports,a=n(me),i=n(Na),o=n(Ve),u=n(uo),s=n(Vt),l=n(zt),f=Gn,c=Jt,v=io,p="Complement Sets are not supported for first char optimization";e.failedOptimizationPrefixMsg=`Unable to use "first char" lexer optimizations:
`;function _(m,g){g===void 0&&(g=!1);try{var T=(0,c.getRegExpAst)(m),h=d(T.value,{},T.flags.ignoreCase);return h}catch(U){if(U.message===p)g&&(0,f.PRINT_WARNING)("".concat(e.failedOptimizationPrefixMsg)+"	Unable to optimize: < ".concat(m.toString(),` >
`)+`	Complement Sets cannot be automatically optimized.
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.`);else{var S="";g&&(S=`
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details.`),(0,f.PRINT_ERROR)("".concat(e.failedOptimizationPrefixMsg,`
`)+"	Failed parsing: < ".concat(m.toString(),` >
`)+"	Using the regexp-to-ast library version: ".concat(r.VERSION,`
`)+"	Please open an issue at: https://github.com/bd82/regexp-to-ast/issues"+S)}}return[]}e.getOptimizedStartCodesIndices=_;function d(m,g,T){switch(m.type){case"Disjunction":for(var h=0;h<m.value.length;h++)d(m.value[h],g,T);break;case"Alternative":for(var S=m.value,h=0;h<S.length;h++){var U=S[h];switch(U.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}var K=U;switch(K.type){case"Character":E(K.value,g,T);break;case"Set":if(K.complement===!0)throw Error(p);(0,o.default)(K.value,function(W){if(typeof W=="number")E(W,g,T);else{var R=W;if(T===!0)for(var P=R.from;P<=R.to;P++)E(P,g,T);else{for(var P=R.from;P<=R.to&&P<v.minOptimizationVal;P++)E(P,g,T);if(R.to>=v.minOptimizationVal)for(var N=R.from>=v.minOptimizationVal?R.from:v.minOptimizationVal,j=R.to,B=(0,v.charCodeToOptimizedIndex)(N),V=(0,v.charCodeToOptimizedIndex)(j),ue=B;ue<=V;ue++)g[ue]=ue}}});break;case"Group":d(K.value,g,T);break;default:throw Error("Non Exhaustive Match")}var w=K.quantifier!==void 0&&K.quantifier.atLeast===0;if(K.type==="Group"&&y(K)===!1||K.type!=="Group"&&w===!1)break}break;default:throw Error("non exhaustive match!")}return(0,s.default)(g)}e.firstCharOptimizedIndices=d;function E(m,g,T){var h=(0,v.charCodeToOptimizedIndex)(m);g[h]=h,T===!0&&A(m,g)}function A(m,g){var T=String.fromCharCode(m),h=T.toUpperCase();if(h!==T){var S=(0,v.charCodeToOptimizedIndex)(h.charCodeAt(0));g[S]=S}else{var U=T.toLowerCase();if(U!==T){var S=(0,v.charCodeToOptimizedIndex)(U.charCodeAt(0));g[S]=S}}}function O(m,g){return(0,u.default)(m.value,function(T){if(typeof T=="number")return(0,l.default)(g,T);var h=T;return(0,u.default)(g,function(S){return h.from<=S&&S<=h.to})!==void 0})}function y(m){var g=m.quantifier;return g&&g.atLeast===0?!0:m.value?(0,a.default)(m.value)?(0,i.default)(m.value,y):y(m.value):!1}var b=function(m){t(g,m);function g(T){var h=m.call(this)||this;return h.targetCharCodes=T,h.found=!1,h}return g.prototype.visitChildren=function(T){if(this.found!==!0){switch(T.type){case"Lookahead":this.visitLookahead(T);return;case"NegativeLookahead":this.visitNegativeLookahead(T);return}m.prototype.visitChildren.call(this,T)}},g.prototype.visitCharacter=function(T){(0,l.default)(this.targetCharCodes,T.value)&&(this.found=!0)},g.prototype.visitSet=function(T){T.complement?O(T,this.targetCharCodes)===void 0&&(this.found=!0):O(T,this.targetCharCodes)!==void 0&&(this.found=!0)},g}(r.BaseRegExpVisitor);function C(m,g){if(g instanceof RegExp){var T=(0,c.getRegExpAst)(g),h=new b(m);return h.visit(T),h.found}else return(0,u.default)(g,function(S){return(0,l.default)(m,S.charCodeAt(0))})!==void 0}e.canMatchCharCode=C})(Al);(function(e){var t=k&&k.__extends||function(){var L=function(M,F){return L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,$){I.__proto__=$}||function(I,$){for(var X in $)Object.prototype.hasOwnProperty.call($,X)&&(I[X]=$[X])},L(M,F)};return function(M,F){if(typeof F!="function"&&F!==null)throw new TypeError("Class extends value "+String(F)+" is not a constructor or null");L(M,F);function I(){this.constructor=M}M.prototype=F===null?Object.create(F):(I.prototype=F.prototype,new I)}}(),n=k&&k.__importDefault||function(L){return L&&L.__esModule?L:{default:L}};Object.defineProperty(e,"__esModule",{value:!0}),e.charCodeToOptimizedIndex=e.minOptimizationVal=e.buildLineBreakIssueMessage=e.LineTerminatorOptimizedTester=e.isShortPattern=e.isCustomPattern=e.cloneEmptyGroups=e.performWarningRuntimeChecks=e.performRuntimeChecks=e.addStickyFlag=e.addStartOfInput=e.findUnreachablePatterns=e.findModesThatDoNotExist=e.findInvalidGroupType=e.findDuplicatePatterns=e.findUnsupportedFlags=e.findStartOfInputAnchor=e.findEmptyMatchRegExps=e.findEndOfInputAnchor=e.findInvalidPatterns=e.findMissingPatterns=e.validatePatterns=e.analyzeTokenTypes=e.enableSticky=e.disableSticky=e.SUPPORT_STICKY=e.MODES=e.DEFAULT_MODE=void 0;var r=Ca.exports,a=Lr,i=n(kr),o=n(Lt),u=n($a),s=n(me),l=n(Vt),f=n(Ht),c=n(oo),v=n(so),p=n(bR),_=n(nt),d=n(Ve),E=n(Oa),A=n(Ar),O=n(Wn),y=n(uo),b=n(ft),C=n(ct),m=n(Yu),g=n(lo),T=n(Tl),h=n(_n),S=n(zt),U=Gn,K=Al,w=Jt,x="PATTERN";e.DEFAULT_MODE="defaultMode",e.MODES="modes",e.SUPPORT_STICKY=typeof new RegExp("(?:)").sticky=="boolean";function W(){e.SUPPORT_STICKY=!1}e.disableSticky=W;function R(){e.SUPPORT_STICKY=!0}e.enableSticky=R;function P(L,M){M=(0,T.default)(M,{useSticky:e.SUPPORT_STICKY,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r",`
`],tracer:function(fe,H){return H()}});var F=M.tracer;F("initCharCodeToOptimizedIndexMap",function(){Ce()});var I;F("Reject Lexer.NA",function(){I=(0,c.default)(L,function(fe){return fe[x]===a.Lexer.NA})});var $=!1,X;F("Transform Patterns",function(){$=!1,X=(0,_.default)(I,function(fe){var H=fe[x];if((0,m.default)(H)){var we=H.source;return we.length===1&&we!=="^"&&we!=="$"&&we!=="."&&!H.ignoreCase?we:we.length===2&&we[0]==="\\"&&!(0,S.default)(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],we[1])?we[1]:M.useSticky?it(H):Se(H)}else{if((0,A.default)(H))return $=!0,{exec:H};if(typeof H=="object")return $=!0,H;if(typeof H=="string"){if(H.length===1)return H;var Hn=H.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),jr=new RegExp(Hn);return M.useSticky?it(jr):Se(jr)}else throw Error("non exhaustive match")}})});var se,pe,Te,ze,vt;F("misc mapping",function(){se=(0,_.default)(I,function(fe){return fe.tokenTypeIdx}),pe=(0,_.default)(I,function(fe){var H=fe.GROUP;if(H!==a.Lexer.SKIPPED){if((0,E.default)(H))return H;if((0,O.default)(H))return!1;throw Error("non exhaustive match")}}),Te=(0,_.default)(I,function(fe){var H=fe.LONGER_ALT;if(H){var we=(0,s.default)(H)?(0,_.default)(H,function(Hn){return(0,p.default)(I,Hn)}):[(0,p.default)(I,H)];return we}}),ze=(0,_.default)(I,function(fe){return fe.PUSH_MODE}),vt=(0,_.default)(I,function(fe){return(0,b.default)(fe,"POP_MODE")})});var ot;F("Line Terminator Handling",function(){var fe=Xt(M.lineTerminatorCharacters);ot=(0,_.default)(I,function(H){return!1}),M.positionTracking!=="onlyOffset"&&(ot=(0,_.default)(I,function(H){return(0,b.default)(H,"LINE_BREAKS")?!!H.LINE_BREAKS:Yt(H,fe)===!1&&(0,K.canMatchCharCode)(fe,H.PATTERN)}))});var qt,Zt,_t,st;F("Misc Mapping #2",function(){qt=(0,_.default)(I,Qe),Zt=(0,_.default)(X,Ke),_t=(0,h.default)(I,function(fe,H){var we=H.GROUP;return(0,E.default)(we)&&we!==a.Lexer.SKIPPED&&(fe[we]=[]),fe},{}),st=(0,_.default)(X,function(fe,H){return{pattern:X[H],longerAlt:Te[H],canLineTerminator:ot[H],isCustom:qt[H],short:Zt[H],group:pe[H],push:ze[H],pop:vt[H],tokenTypeIdx:se[H],tokenType:I[H]}})});var $e=!0,gt=[];return M.safeMode||F("First Char Optimization",function(){gt=(0,h.default)(I,function(fe,H,we){if(typeof H.PATTERN=="string"){var Hn=H.PATTERN.charCodeAt(0),jr=Gt(Hn);Ut(fe,jr,st[we])}else if((0,s.default)(H.START_CHARS_HINT)){var bo;(0,d.default)(H.START_CHARS_HINT,function(Yn){var Tc=typeof Yn=="string"?Yn.charCodeAt(0):Yn,ti=Gt(Tc);bo!==ti&&(bo=ti,Ut(fe,ti,st[we]))})}else if((0,m.default)(H.PATTERN))if(H.PATTERN.unicode)$e=!1,M.ensureOptimizations&&(0,U.PRINT_ERROR)("".concat(K.failedOptimizationPrefixMsg)+"	Unable to analyze < ".concat(H.PATTERN.toString(),` > pattern.
`)+`	The regexp unicode flag is not currently supported by the regexp-to-ast library.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE`);else{var Oo=(0,K.getOptimizedStartCodesIndices)(H.PATTERN,M.ensureOptimizations);(0,o.default)(Oo)&&($e=!1),(0,d.default)(Oo,function(Yn){Ut(fe,Yn,st[we])})}else M.ensureOptimizations&&(0,U.PRINT_ERROR)("".concat(K.failedOptimizationPrefixMsg)+"	TokenType: <".concat(H.name,`> is using a custom token pattern without providing <start_chars_hint> parameter.
`)+`	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE`),$e=!1;return fe},[])}),{emptyGroups:_t,patternIdxToConfig:st,charCodeToPatternIdxToConfig:gt,hasCustom:$,canBeOptimized:$e}}e.analyzeTokenTypes=P;function N(L,M){var F=[],I=B(L);F=F.concat(I.errors);var $=V(I.valid),X=$.valid;return F=F.concat($.errors),F=F.concat(j(X)),F=F.concat(Pe(X)),F=F.concat(Ee(X,M)),F=F.concat(xe(X)),F}e.validatePatterns=N;function j(L){var M=[],F=(0,g.default)(L,function(I){return(0,m.default)(I[x])});return M=M.concat(de(F)),M=M.concat(le(F)),M=M.concat(q(F)),M=M.concat(he(F)),M=M.concat(ae(F)),M}function B(L){var M=(0,g.default)(L,function($){return!(0,b.default)($,x)}),F=(0,_.default)(M,function($){return{message:"Token Type: ->"+$.name+"<- missing static 'PATTERN' property",type:a.LexerDefinitionErrorType.MISSING_PATTERN,tokenTypes:[$]}}),I=(0,v.default)(L,M);return{errors:F,valid:I}}e.findMissingPatterns=B;function V(L){var M=(0,g.default)(L,function($){var X=$[x];return!(0,m.default)(X)&&!(0,A.default)(X)&&!(0,b.default)(X,"exec")&&!(0,E.default)(X)}),F=(0,_.default)(M,function($){return{message:"Token Type: ->"+$.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:a.LexerDefinitionErrorType.INVALID_PATTERN,tokenTypes:[$]}}),I=(0,v.default)(L,M);return{errors:F,valid:I}}e.findInvalidPatterns=V;var ue=/[^\\][$]/;function de(L){var M=function($){t(X,$);function X(){var se=$!==null&&$.apply(this,arguments)||this;return se.found=!1,se}return X.prototype.visitEndAnchor=function(se){this.found=!0},X}(r.BaseRegExpVisitor),F=(0,g.default)(L,function($){var X=$.PATTERN;try{var se=(0,w.getRegExpAst)(X),pe=new M;return pe.visit(se),pe.found}catch{return ue.test(X.source)}}),I=(0,_.default)(F,function($){return{message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+$.name+`<- static 'PATTERN' cannot contain end of input anchor '$'
	See chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:a.LexerDefinitionErrorType.EOI_ANCHOR_FOUND,tokenTypes:[$]}});return I}e.findEndOfInputAnchor=de;function ae(L){var M=(0,g.default)(L,function(I){var $=I.PATTERN;return $.test("")}),F=(0,_.default)(M,function(I){return{message:"Token Type: ->"+I.name+"<- static 'PATTERN' must not match an empty string",type:a.LexerDefinitionErrorType.EMPTY_MATCH_PATTERN,tokenTypes:[I]}});return F}e.findEmptyMatchRegExps=ae;var re=/[^\\[][\^]|^\^/;function le(L){var M=function($){t(X,$);function X(){var se=$!==null&&$.apply(this,arguments)||this;return se.found=!1,se}return X.prototype.visitStartAnchor=function(se){this.found=!0},X}(r.BaseRegExpVisitor),F=(0,g.default)(L,function($){var X=$.PATTERN;try{var se=(0,w.getRegExpAst)(X),pe=new M;return pe.visit(se),pe.found}catch{return re.test(X.source)}}),I=(0,_.default)(F,function($){return{message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+$.name+`<- static 'PATTERN' cannot contain start of input anchor '^'
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:a.LexerDefinitionErrorType.SOI_ANCHOR_FOUND,tokenTypes:[$]}});return I}e.findStartOfInputAnchor=le;function q(L){var M=(0,g.default)(L,function(I){var $=I[x];return $ instanceof RegExp&&($.multiline||$.global)}),F=(0,_.default)(M,function(I){return{message:"Token Type: ->"+I.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:a.LexerDefinitionErrorType.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[I]}});return F}e.findUnsupportedFlags=q;function he(L){var M=[],F=(0,_.default)(L,function(X){return(0,h.default)(L,function(se,pe){return X.PATTERN.source===pe.PATTERN.source&&!(0,S.default)(M,pe)&&pe.PATTERN!==a.Lexer.NA&&(M.push(pe),se.push(pe)),se},[])});F=(0,u.default)(F);var I=(0,g.default)(F,function(X){return X.length>1}),$=(0,_.default)(I,function(X){var se=(0,_.default)(X,function(Te){return Te.name}),pe=(0,i.default)(X).PATTERN;return{message:"The same RegExp pattern ->".concat(pe,"<-")+"has been used in all of the following Token Types: ".concat(se.join(", ")," <-"),type:a.LexerDefinitionErrorType.DUPLICATE_PATTERNS_FOUND,tokenTypes:X}});return $}e.findDuplicatePatterns=he;function Pe(L){var M=(0,g.default)(L,function(I){if(!(0,b.default)(I,"GROUP"))return!1;var $=I.GROUP;return $!==a.Lexer.SKIPPED&&$!==a.Lexer.NA&&!(0,E.default)($)}),F=(0,_.default)(M,function(I){return{message:"Token Type: ->"+I.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:a.LexerDefinitionErrorType.INVALID_GROUP_TYPE_FOUND,tokenTypes:[I]}});return F}e.findInvalidGroupType=Pe;function Ee(L,M){var F=(0,g.default)(L,function($){return $.PUSH_MODE!==void 0&&!(0,S.default)(M,$.PUSH_MODE)}),I=(0,_.default)(F,function($){var X="Token Type: ->".concat($.name,"<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->").concat($.PUSH_MODE,"<-")+"which does not exist";return{message:X,type:a.LexerDefinitionErrorType.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[$]}});return I}e.findModesThatDoNotExist=Ee;function xe(L){var M=[],F=(0,h.default)(L,function(I,$,X){var se=$.PATTERN;return se===a.Lexer.NA||((0,E.default)(se)?I.push({str:se,idx:X,tokenType:$}):(0,m.default)(se)&&Me(se)&&I.push({str:se.source,idx:X,tokenType:$})),I},[]);return(0,d.default)(L,function(I,$){(0,d.default)(F,function(X){var se=X.str,pe=X.idx,Te=X.tokenType;if($<pe&&Re(se,I.PATTERN)){var ze="Token: ->".concat(Te.name,`<- can never be matched.
`)+"Because it appears AFTER the Token Type ->".concat(I.name,"<-")+`in the lexer's definition.
See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE`;M.push({message:ze,type:a.LexerDefinitionErrorType.UNREACHABLE_PATTERN,tokenTypes:[I,Te]})}})}),M}e.findUnreachablePatterns=xe;function Re(L,M){if((0,m.default)(M)){var F=M.exec(L);return F!==null&&F.index===0}else{if((0,A.default)(M))return M(L,0,[],{});if((0,b.default)(M,"exec"))return M.exec(L,0,[],{});if(typeof M=="string")return M===L;throw Error("non exhaustive match")}}function Me(L){var M=[".","\\","[","]","|","^","$","(",")","?","*","+","{"];return(0,y.default)(M,function(F){return L.source.indexOf(F)!==-1})===void 0}function Se(L){var M=L.ignoreCase?"i":"";return new RegExp("^(?:".concat(L.source,")"),M)}e.addStartOfInput=Se;function it(L){var M=L.ignoreCase?"iy":"y";return new RegExp("".concat(L.source),M)}e.addStickyFlag=it;function Be(L,M,F){var I=[];return(0,b.default)(L,e.DEFAULT_MODE)||I.push({message:"A MultiMode Lexer cannot be initialized without a <"+e.DEFAULT_MODE+`> property in its definition
`,type:a.LexerDefinitionErrorType.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),(0,b.default)(L,e.MODES)||I.push({message:"A MultiMode Lexer cannot be initialized without a <"+e.MODES+`> property in its definition
`,type:a.LexerDefinitionErrorType.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),(0,b.default)(L,e.MODES)&&(0,b.default)(L,e.DEFAULT_MODE)&&!(0,b.default)(L.modes,L.defaultMode)&&I.push({message:"A MultiMode Lexer cannot be initialized with a ".concat(e.DEFAULT_MODE,": <").concat(L.defaultMode,">")+`which does not exist
`,type:a.LexerDefinitionErrorType.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),(0,b.default)(L,e.MODES)&&(0,d.default)(L.modes,function($,X){(0,d.default)($,function(se,pe){(0,O.default)(se)&&I.push({message:"A Lexer cannot be initialized using an undefined Token Type. Mode:"+"<".concat(X,"> at index: <").concat(pe,`>
`),type:a.LexerDefinitionErrorType.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED})})}),I}e.performRuntimeChecks=Be;function dt(L,M,F){var I=[],$=!1,X=(0,u.default)((0,f.default)((0,l.default)(L.modes))),se=(0,c.default)(X,function(Te){return Te[x]===a.Lexer.NA}),pe=Xt(F);return M&&(0,d.default)(se,function(Te){var ze=Yt(Te,pe);if(ze!==!1){var vt=ht(Te,ze),ot={message:vt,type:ze.issue,tokenType:Te};I.push(ot)}else(0,b.default)(Te,"LINE_BREAKS")?Te.LINE_BREAKS===!0&&($=!0):(0,K.canMatchCharCode)(pe,Te.PATTERN)&&($=!0)}),M&&!$&&I.push({message:`Warning: No LINE_BREAKS Found.
	This Lexer has been defined to track line and column information,
	But none of the Token Types can be identified as matching a line terminator.
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS 
	for details.`,type:a.LexerDefinitionErrorType.NO_LINE_BREAKS_FLAGS}),I}e.performWarningRuntimeChecks=dt;function ke(L){var M={},F=(0,C.default)(L);return(0,d.default)(F,function(I){var $=L[I];if((0,s.default)($))M[I]=[];else throw Error("non exhaustive match")}),M}e.cloneEmptyGroups=ke;function Qe(L){var M=L.PATTERN;if((0,m.default)(M))return!1;if((0,A.default)(M))return!0;if((0,b.default)(M,"exec"))return!0;if((0,E.default)(M))return!1;throw Error("non exhaustive match")}e.isCustomPattern=Qe;function Ke(L){return(0,E.default)(L)&&L.length===1?L.charCodeAt(0):!1}e.isShortPattern=Ke,e.LineTerminatorOptimizedTester={test:function(L){for(var M=L.length,F=this.lastIndex;F<M;F++){var I=L.charCodeAt(F);if(I===10)return this.lastIndex=F+1,!0;if(I===13)return L.charCodeAt(F+1)===10?this.lastIndex=F+2:this.lastIndex=F+1,!0}return!1},lastIndex:0};function Yt(L,M){if((0,b.default)(L,"LINE_BREAKS"))return!1;if((0,m.default)(L.PATTERN)){try{(0,K.canMatchCharCode)(M,L.PATTERN)}catch(F){return{issue:a.LexerDefinitionErrorType.IDENTIFY_TERMINATOR,errMsg:F.message}}return!1}else{if((0,E.default)(L.PATTERN))return!1;if(Qe(L))return{issue:a.LexerDefinitionErrorType.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}}function ht(L,M){if(M.issue===a.LexerDefinitionErrorType.IDENTIFY_TERMINATOR)return`Warning: unable to identify line terminator usage in pattern.
`+"	The problem is in the <".concat(L.name,`> Token Type
`)+"	 Root cause: ".concat(M.errMsg,`.
`)+"	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR";if(M.issue===a.LexerDefinitionErrorType.CUSTOM_LINE_BREAK)return`Warning: A Custom Token Pattern should specify the <line_breaks> option.
`+"	The problem is in the <".concat(L.name,`> Token Type
`)+"	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK";throw Error("non exhaustive match")}e.buildLineBreakIssueMessage=ht;function Xt(L){var M=(0,_.default)(L,function(F){return(0,E.default)(F)?F.charCodeAt(0):F});return M}function Ut(L,M,F){L[M]===void 0?L[M]=[F]:L[M].push(F)}e.minOptimizationVal=256;var pt=[];function Gt(L){return L<e.minOptimizationVal?L:pt[L]}e.charCodeToOptimizedIndex=Gt;function Ce(){if((0,o.default)(pt)){pt=new Array(65536);for(var L=0;L<65536;L++)pt[L]=L>255?255+~~(L/255):L}}})(io);function lI(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var co=lI,gn={};(function(e){var t=k&&k.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(e,"__esModule",{value:!0}),e.isTokenType=e.hasExtendingTokensTypesMapProperty=e.hasExtendingTokensTypesProperty=e.hasCategoriesProperty=e.hasShortKeyProperty=e.singleAssignCategoriesToksMap=e.assignCategoriesMapProp=e.assignCategoriesTokensProp=e.assignTokenDefaultProps=e.expandCategories=e.augmentTokenTypes=e.tokenIdxToClass=e.tokenShortNameIdx=e.tokenStructuredMatcherNoCategories=e.tokenStructuredMatcher=void 0;var n=t(Lt),r=t($a),a=t(me),i=t(Ht),o=t(so),u=t(nt),s=t(Ve),l=t(ft),f=t(zt),c=t(en);function v(h,S){var U=h.tokenTypeIdx;return U===S.tokenTypeIdx?!0:S.isParent===!0&&S.categoryMatchesMap[U]===!0}e.tokenStructuredMatcher=v;function p(h,S){return h.tokenTypeIdx===S.tokenTypeIdx}e.tokenStructuredMatcherNoCategories=p,e.tokenShortNameIdx=1,e.tokenIdxToClass={};function _(h){var S=d(h);E(S),O(S),A(S),(0,s.default)(S,function(U){U.isParent=U.categoryMatches.length>0})}e.augmentTokenTypes=_;function d(h){for(var S=(0,c.default)(h),U=h,K=!0;K;){U=(0,r.default)((0,i.default)((0,u.default)(U,function(x){return x.CATEGORIES})));var w=(0,o.default)(U,S);S=S.concat(w),(0,n.default)(w)?K=!1:U=w}return S}e.expandCategories=d;function E(h){(0,s.default)(h,function(S){b(S)||(e.tokenIdxToClass[e.tokenShortNameIdx]=S,S.tokenTypeIdx=e.tokenShortNameIdx++),C(S)&&!(0,a.default)(S.CATEGORIES)&&(S.CATEGORIES=[S.CATEGORIES]),C(S)||(S.CATEGORIES=[]),m(S)||(S.categoryMatches=[]),g(S)||(S.categoryMatchesMap={})})}e.assignTokenDefaultProps=E;function A(h){(0,s.default)(h,function(S){S.categoryMatches=[],(0,s.default)(S.categoryMatchesMap,function(U,K){S.categoryMatches.push(e.tokenIdxToClass[K].tokenTypeIdx)})})}e.assignCategoriesTokensProp=A;function O(h){(0,s.default)(h,function(S){y([],S)})}e.assignCategoriesMapProp=O;function y(h,S){(0,s.default)(h,function(U){S.categoryMatchesMap[U.tokenTypeIdx]=!0}),(0,s.default)(S.CATEGORIES,function(U){var K=h.concat(S);(0,f.default)(K,U)||y(K,U)})}e.singleAssignCategoriesToksMap=y;function b(h){return(0,l.default)(h,"tokenTypeIdx")}e.hasShortKeyProperty=b;function C(h){return(0,l.default)(h,"CATEGORIES")}e.hasCategoriesProperty=C;function m(h){return(0,l.default)(h,"categoryMatches")}e.hasExtendingTokensTypesProperty=m;function g(h){return(0,l.default)(h,"categoryMatchesMap")}e.hasExtendingTokensTypesMapProperty=g;function T(h){return(0,l.default)(h,"tokenTypeIdx")}e.isTokenType=T})(gn);var Mr={};Object.defineProperty(Mr,"__esModule",{value:!0});Mr.defaultLexerErrorProvider=void 0;Mr.defaultLexerErrorProvider={buildUnableToPopLexerModeMessage:function(e){return"Unable to pop Lexer Mode after encountering Token ->".concat(e.image,"<- The Mode Stack is empty")},buildUnexpectedCharactersMessage:function(e,t,n,r,a){return"unexpected character: ->".concat(e.charAt(t),"<- at offset: ").concat(t,",")+" skipped ".concat(n," characters.")}};(function(e){var t=k&&k.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(e,"__esModule",{value:!0}),e.Lexer=e.LexerDefinitionErrorType=void 0;var n=io,r=t(no),a=t(Lt),i=t(me),o=t(co),u=t(oo),s=t(nt),l=t(Ve),f=t(ct),c=t(Wn),v=t(Nr),p=t(Ia),_=t(_n),d=t(en),E=Gn,A=gn,O=Mr,y=Jt;(function(m){m[m.MISSING_PATTERN=0]="MISSING_PATTERN",m[m.INVALID_PATTERN=1]="INVALID_PATTERN",m[m.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",m[m.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",m[m.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",m[m.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",m[m.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",m[m.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",m[m.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",m[m.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",m[m.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",m[m.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",m[m.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",m[m.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",m[m.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",m[m.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",m[m.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK"})(e.LexerDefinitionErrorType||(e.LexerDefinitionErrorType={}));var b={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:[`
`,"\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:O.defaultLexerErrorProvider,traceInitPerf:!1,skipValidations:!1};Object.freeze(b);var C=function(){function m(g,T){T===void 0&&(T=b);var h=this;if(this.lexerDefinition=g,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},this.TRACE_INIT=function(U,K){if(h.traceInitPerf===!0){h.traceInitIndent++;var w=new Array(h.traceInitIndent+1).join("	");h.traceInitIndent<h.traceInitMaxIdent&&console.log("".concat(w,"--> <").concat(U,">"));var x=(0,E.timer)(K),W=x.time,R=x.value,P=W>10?console.warn:console.log;return h.traceInitIndent<h.traceInitMaxIdent&&P("".concat(w,"<-- <").concat(U,"> time: ").concat(W,"ms")),h.traceInitIndent--,R}else return K()},typeof T=="boolean")throw Error(`The second argument to the Lexer constructor is now an ILexerConfig Object.
a boolean 2nd argument is no longer supported`);this.config=(0,p.default)({},b,T);var S=this.config.traceInitPerf;S===!0?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):typeof S=="number"&&(this.traceInitMaxIdent=S,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",function(){var U,K=!0;h.TRACE_INIT("Lexer Config handling",function(){if(h.config.lineTerminatorsPattern===b.lineTerminatorsPattern)h.config.lineTerminatorsPattern=n.LineTerminatorOptimizedTester;else if(h.config.lineTerminatorCharacters===b.lineTerminatorCharacters)throw Error(`Error: Missing <lineTerminatorCharacters> property on the Lexer config.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS`);if(T.safeMode&&T.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');h.trackStartLines=/full|onlyStart/i.test(h.config.positionTracking),h.trackEndLines=/full/i.test(h.config.positionTracking),(0,i.default)(g)?U={modes:{defaultMode:(0,d.default)(g)},defaultMode:n.DEFAULT_MODE}:(K=!1,U=(0,d.default)(g))}),h.config.skipValidations===!1&&(h.TRACE_INIT("performRuntimeChecks",function(){h.lexerDefinitionErrors=h.lexerDefinitionErrors.concat((0,n.performRuntimeChecks)(U,h.trackStartLines,h.config.lineTerminatorCharacters))}),h.TRACE_INIT("performWarningRuntimeChecks",function(){h.lexerDefinitionWarning=h.lexerDefinitionWarning.concat((0,n.performWarningRuntimeChecks)(U,h.trackStartLines,h.config.lineTerminatorCharacters))})),U.modes=U.modes?U.modes:{},(0,l.default)(U.modes,function(R,P){U.modes[P]=(0,u.default)(R,function(N){return(0,c.default)(N)})});var w=(0,f.default)(U.modes);if((0,l.default)(U.modes,function(R,P){h.TRACE_INIT("Mode: <".concat(P,"> processing"),function(){if(h.modes.push(P),h.config.skipValidations===!1&&h.TRACE_INIT("validatePatterns",function(){h.lexerDefinitionErrors=h.lexerDefinitionErrors.concat((0,n.validatePatterns)(R,w))}),(0,a.default)(h.lexerDefinitionErrors)){(0,A.augmentTokenTypes)(R);var N;h.TRACE_INIT("analyzeTokenTypes",function(){N=(0,n.analyzeTokenTypes)(R,{lineTerminatorCharacters:h.config.lineTerminatorCharacters,positionTracking:T.positionTracking,ensureOptimizations:T.ensureOptimizations,safeMode:T.safeMode,tracer:h.TRACE_INIT})}),h.patternIdxToConfig[P]=N.patternIdxToConfig,h.charCodeToPatternIdxToConfig[P]=N.charCodeToPatternIdxToConfig,h.emptyGroups=(0,p.default)({},h.emptyGroups,N.emptyGroups),h.hasCustom=N.hasCustom||h.hasCustom,h.canModeBeOptimized[P]=N.canBeOptimized}})}),h.defaultMode=U.defaultMode,!(0,a.default)(h.lexerDefinitionErrors)&&!h.config.deferDefinitionErrorsHandling){var x=(0,s.default)(h.lexerDefinitionErrors,function(R){return R.message}),W=x.join(`-----------------------
`);throw new Error(`Errors detected in definition of Lexer:
`+W)}(0,l.default)(h.lexerDefinitionWarning,function(R){(0,E.PRINT_WARNING)(R.message)}),h.TRACE_INIT("Choosing sub-methods implementations",function(){if(n.SUPPORT_STICKY?(h.chopInput=v.default,h.match=h.matchWithTest):(h.updateLastIndex=r.default,h.match=h.matchWithExec),K&&(h.handleModes=r.default),h.trackStartLines===!1&&(h.computeNewColumn=v.default),h.trackEndLines===!1&&(h.updateTokenEndLineColumnLocation=r.default),/full/i.test(h.config.positionTracking))h.createTokenInstance=h.createFullToken;else if(/onlyStart/i.test(h.config.positionTracking))h.createTokenInstance=h.createStartOnlyToken;else if(/onlyOffset/i.test(h.config.positionTracking))h.createTokenInstance=h.createOffsetOnlyToken;else throw Error('Invalid <positionTracking> config option: "'.concat(h.config.positionTracking,'"'));h.hasCustom?(h.addToken=h.addTokenUsingPush,h.handlePayload=h.handlePayloadWithCustom):(h.addToken=h.addTokenUsingMemberAccess,h.handlePayload=h.handlePayloadNoCustom)}),h.TRACE_INIT("Failed Optimization Warnings",function(){var R=(0,_.default)(h.canModeBeOptimized,function(P,N,j){return N===!1&&P.push(j),P},[]);if(T.ensureOptimizations&&!(0,a.default)(R))throw Error("Lexer Modes: < ".concat(R.join(", "),` > cannot be optimized.
`)+`	 Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.
	 Or inspect the console log for details on how to resolve these issues.`)}),h.TRACE_INIT("clearRegExpParserCache",function(){(0,y.clearRegExpParserCache)()}),h.TRACE_INIT("toFastProperties",function(){(0,E.toFastProperties)(h)})})}return m.prototype.tokenize=function(g,T){if(T===void 0&&(T=this.defaultMode),!(0,a.default)(this.lexerDefinitionErrors)){var h=(0,s.default)(this.lexerDefinitionErrors,function(U){return U.message}),S=h.join(`-----------------------
`);throw new Error(`Unable to Tokenize because Errors detected in definition of Lexer:
`+S)}return this.tokenizeInternal(g,T)},m.prototype.tokenizeInternal=function(g,T){var h=this,S,U,K,w,x,W,R,P,N,j,B,V,ue,de,ae,re=g,le=re.length,q=0,he=0,Pe=this.hasCustom?0:Math.floor(g.length/10),Ee=new Array(Pe),xe=[],Re=this.trackStartLines?1:void 0,Me=this.trackStartLines?1:void 0,Se=(0,n.cloneEmptyGroups)(this.emptyGroups),it=this.trackStartLines,Be=this.config.lineTerminatorsPattern,dt=0,ke=[],Qe=[],Ke=[],Yt=[];Object.freeze(Yt);var ht;function Xt(){return ke}function Ut($e){var gt=(0,n.charCodeToOptimizedIndex)($e),fe=Qe[gt];return fe===void 0?Yt:fe}var pt=function($e){if(Ke.length===1&&$e.tokenType.PUSH_MODE===void 0){var gt=h.config.errorMessageProvider.buildUnableToPopLexerModeMessage($e);xe.push({offset:$e.startOffset,line:$e.startLine,column:$e.startColumn,length:$e.image.length,message:gt})}else{Ke.pop();var fe=(0,o.default)(Ke);ke=h.patternIdxToConfig[fe],Qe=h.charCodeToPatternIdxToConfig[fe],dt=ke.length;var H=h.canModeBeOptimized[fe]&&h.config.safeMode===!1;Qe&&H?ht=Ut:ht=Xt}};function Gt($e){Ke.push($e),Qe=this.charCodeToPatternIdxToConfig[$e],ke=this.patternIdxToConfig[$e],dt=ke.length,dt=ke.length;var gt=this.canModeBeOptimized[$e]&&this.config.safeMode===!1;Qe&&gt?ht=Ut:ht=Xt}Gt.call(this,T);for(var Ce;q<le;){W=null;var L=re.charCodeAt(q),M=ht(L),F=M.length;for(S=0;S<F;S++){Ce=M[S];var I=Ce.pattern;R=null;var $=Ce.short;if($!==!1?L===$&&(W=I):Ce.isCustom===!0?(ae=I.exec(re,q,Ee,Se),ae!==null?(W=ae[0],ae.payload!==void 0&&(R=ae.payload)):W=null):(this.updateLastIndex(I,q),W=this.match(I,g,q)),W!==null){if(x=Ce.longerAlt,x!==void 0){var X=x.length;for(K=0;K<X;K++){var se=ke[x[K]],pe=se.pattern;if(P=null,se.isCustom===!0?(ae=pe.exec(re,q,Ee,Se),ae!==null?(w=ae[0],ae.payload!==void 0&&(P=ae.payload)):w=null):(this.updateLastIndex(pe,q),w=this.match(pe,g,q)),w&&w.length>W.length){W=w,R=P,Ce=se;break}}}break}}if(W!==null){if(N=W.length,j=Ce.group,j!==void 0&&(B=Ce.tokenTypeIdx,V=this.createTokenInstance(W,q,B,Ce.tokenType,Re,Me,N),this.handlePayload(V,R),j===!1?he=this.addToken(Ee,he,V):Se[j].push(V)),g=this.chopInput(g,N),q=q+N,Me=this.computeNewColumn(Me,N),it===!0&&Ce.canLineTerminator===!0){var Te=0,ze=void 0,vt=void 0;Be.lastIndex=0;do ze=Be.test(W),ze===!0&&(vt=Be.lastIndex-1,Te++);while(ze===!0);Te!==0&&(Re=Re+Te,Me=N-vt,this.updateTokenEndLineColumnLocation(V,j,vt,Te,Re,Me,N))}this.handleModes(Ce,pt,Gt,V)}else{for(var ot=q,qt=Re,Zt=Me,_t=!1;!_t&&q<le;)for(re.charCodeAt(q),g=this.chopInput(g,1),q++,U=0;U<dt;U++){var st=ke[U],I=st.pattern,$=st.short;if($!==!1?re.charCodeAt(q)===$&&(_t=!0):st.isCustom===!0?_t=I.exec(re,q,Ee,Se)!==null:(this.updateLastIndex(I,q),_t=I.exec(g)!==null),_t===!0)break}ue=q-ot,de=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(re,ot,ue,qt,Zt),xe.push({offset:ot,line:qt,column:Zt,length:ue,message:de})}}return this.hasCustom||(Ee.length=he),{tokens:Ee,groups:Se,errors:xe}},m.prototype.handleModes=function(g,T,h,S){if(g.pop===!0){var U=g.push;T(S),U!==void 0&&h.call(this,U)}else g.push!==void 0&&h.call(this,g.push)},m.prototype.chopInput=function(g,T){return g.substring(T)},m.prototype.updateLastIndex=function(g,T){g.lastIndex=T},m.prototype.updateTokenEndLineColumnLocation=function(g,T,h,S,U,K,w){var x,W;T!==void 0&&(x=h===w-1,W=x?-1:0,S===1&&x===!0||(g.endLine=U+W,g.endColumn=K-1+-W))},m.prototype.computeNewColumn=function(g,T){return g+T},m.prototype.createOffsetOnlyToken=function(g,T,h,S){return{image:g,startOffset:T,tokenTypeIdx:h,tokenType:S}},m.prototype.createStartOnlyToken=function(g,T,h,S,U,K){return{image:g,startOffset:T,startLine:U,startColumn:K,tokenTypeIdx:h,tokenType:S}},m.prototype.createFullToken=function(g,T,h,S,U,K,w){return{image:g,startOffset:T,endOffset:T+w-1,startLine:U,endLine:U,startColumn:K,endColumn:K+w-1,tokenTypeIdx:h,tokenType:S}},m.prototype.addTokenUsingPush=function(g,T,h){return g.push(h),T},m.prototype.addTokenUsingMemberAccess=function(g,T,h){return g[T]=h,T++,T},m.prototype.handlePayloadNoCustom=function(g,T){},m.prototype.handlePayloadWithCustom=function(g,T){T!==null&&(g.payload=T)},m.prototype.matchWithTest=function(g,T,h){var S=g.test(T);return S===!0?T.substring(h,g.lastIndex):null},m.prototype.matchWithExec=function(g,T){var h=g.exec(T);return h!==null?h[0]:null},m.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.",m.NA=/NOT_APPLICABLE/,m}();e.Lexer=C})(Lr);(function(e){var t=k&&k.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(e,"__esModule",{value:!0}),e.tokenMatcher=e.createTokenInstance=e.EOF=e.createToken=e.hasTokenLabel=e.tokenName=e.tokenLabel=void 0;var n=t(Oa),r=t(ft),a=t(Wn),i=Lr,o=gn;function u(g){return l(g)?g.LABEL:g.name}e.tokenLabel=u;function s(g){return g.name}e.tokenName=s;function l(g){return(0,n.default)(g.LABEL)&&g.LABEL!==""}e.hasTokenLabel=l;var f="parent",c="categories",v="label",p="group",_="push_mode",d="pop_mode",E="longer_alt",A="line_breaks",O="start_chars_hint";function y(g){return b(g)}e.createToken=y;function b(g){var T=g.pattern,h={};if(h.name=g.name,(0,a.default)(T)||(h.PATTERN=T),(0,r.default)(g,f))throw`The parent property is no longer supported.
See: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.`;return(0,r.default)(g,c)&&(h.CATEGORIES=g[c]),(0,o.augmentTokenTypes)([h]),(0,r.default)(g,v)&&(h.LABEL=g[v]),(0,r.default)(g,p)&&(h.GROUP=g[p]),(0,r.default)(g,d)&&(h.POP_MODE=g[d]),(0,r.default)(g,_)&&(h.PUSH_MODE=g[_]),(0,r.default)(g,E)&&(h.LONGER_ALT=g[E]),(0,r.default)(g,A)&&(h.LINE_BREAKS=g[A]),(0,r.default)(g,O)&&(h.START_CHARS_HINT=g[O]),h}e.EOF=y({name:"EOF",pattern:i.Lexer.NA}),(0,o.augmentTokenTypes)([e.EOF]);function C(g,T,h,S,U,K,w,x){return{image:T,startOffset:h,endOffset:S,startLine:U,endLine:K,startColumn:w,endColumn:x,tokenTypeIdx:g.tokenTypeIdx,tokenType:g}}e.createTokenInstance=C;function m(g,T){return(0,o.tokenStructuredMatcher)(g,T)}e.tokenMatcher=m})(vn);var wr={};(function(e){var t=k&&k.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(e,"__esModule",{value:!0}),e.defaultGrammarValidatorErrorProvider=e.defaultGrammarResolverErrorProvider=e.defaultParserErrorProvider=void 0;var n=vn,r=t(kr),a=t(nt),i=t(_n),o=Le,u=Le;e.defaultParserErrorProvider={buildMismatchTokenMessage:function(s){var l=s.expected,f=s.actual;s.previous,s.ruleName;var c=(0,n.hasTokenLabel)(l),v=c?"--> ".concat((0,n.tokenLabel)(l)," <--"):"token of type --> ".concat(l.name," <--"),p="Expecting ".concat(v," but found --> '").concat(f.image,"' <--");return p},buildNotAllInputParsedMessage:function(s){var l=s.firstRedundant;return s.ruleName,"Redundant input, expecting EOF but found: "+l.image},buildNoViableAltMessage:function(s){var l=s.expectedPathsPerAlt,f=s.actual;s.previous;var c=s.customUserDescription;s.ruleName;var v="Expecting: ",p=(0,r.default)(f).image,_=`
but found: '`+p+"'";if(c)return v+c+_;var d=(0,i.default)(l,function(y,b){return y.concat(b)},[]),E=(0,a.default)(d,function(y){return"[".concat((0,a.default)(y,function(b){return(0,n.tokenLabel)(b)}).join(", "),"]")}),A=(0,a.default)(E,function(y,b){return"  ".concat(b+1,". ").concat(y)}),O=`one of these possible Token sequences:
`.concat(A.join(`
`));return v+O+_},buildEarlyExitMessage:function(s){var l=s.expectedIterationPaths,f=s.actual,c=s.customUserDescription;s.ruleName;var v="Expecting: ",p=(0,r.default)(f).image,_=`
but found: '`+p+"'";if(c)return v+c+_;var d=(0,a.default)(l,function(A){return"[".concat((0,a.default)(A,function(O){return(0,n.tokenLabel)(O)}).join(","),"]")}),E=`expecting at least one iteration which starts with one of these possible Token sequences::
  `+"<".concat(d.join(" ,"),">");return v+E+_}},Object.freeze(e.defaultParserErrorProvider),e.defaultGrammarResolverErrorProvider={buildRuleNotFoundError:function(s,l){var f="Invalid grammar, reference to a rule which is not defined: ->"+l.nonTerminalName+`<-
inside top level rule: ->`+s.name+"<-";return f}},e.defaultGrammarValidatorErrorProvider={buildDuplicateFoundError:function(s,l){function f(O){return O instanceof o.Terminal?O.terminalType.name:O instanceof o.NonTerminal?O.nonTerminalName:""}var c=s.name,v=(0,r.default)(l),p=v.idx,_=(0,u.getProductionDslName)(v),d=f(v),E=p>0,A="->".concat(_).concat(E?p:"","<- ").concat(d?"with argument: ->".concat(d,"<-"):"",`
                  appears more than once (`).concat(l.length," times) in the top level rule: ->").concat(c,`<-.                  
                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES 
                  `);return A=A.replace(/[ \t]+/g," "),A=A.replace(/\s\s+/g,`
`),A},buildNamespaceConflictError:function(s){var l=`Namespace conflict found in grammar.
`+"The grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <".concat(s.name,`>.
`)+`To resolve this make sure each Terminal and Non-Terminal names are unique
This is easy to accomplish by using the convention that Terminal names start with an uppercase letter
and Non-Terminal names start with a lower case letter.`;return l},buildAlternationPrefixAmbiguityError:function(s){var l=(0,a.default)(s.prefixPath,function(v){return(0,n.tokenLabel)(v)}).join(", "),f=s.alternation.idx===0?"":s.alternation.idx,c="Ambiguous alternatives: <".concat(s.ambiguityIndices.join(" ,"),`> due to common lookahead prefix
`)+"in <OR".concat(f,"> inside <").concat(s.topLevelRule.name,`> Rule,
`)+"<".concat(l,`> may appears as a prefix path in all these alternatives.
`)+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX
For Further details.`;return c},buildAlternationAmbiguityError:function(s){var l=(0,a.default)(s.prefixPath,function(v){return(0,n.tokenLabel)(v)}).join(", "),f=s.alternation.idx===0?"":s.alternation.idx,c="Ambiguous Alternatives Detected: <".concat(s.ambiguityIndices.join(" ,"),"> in <OR").concat(f,">")+" inside <".concat(s.topLevelRule.name,`> Rule,
`)+"<".concat(l,`> may appears as a prefix path in all these alternatives.
`);return c=c+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,c},buildEmptyRepetitionError:function(s){var l=(0,u.getProductionDslName)(s.repetition);s.repetition.idx!==0&&(l+=s.repetition.idx);var f="The repetition <".concat(l,"> within Rule <").concat(s.topLevelRule.name,`> can never consume any tokens.
`)+"This could lead to an infinite loop.";return f},buildTokenNameError:function(s){return"deprecated"},buildEmptyAlternationError:function(s){var l="Ambiguous empty alternative: <".concat(s.emptyChoiceIdx+1,">")+" in <OR".concat(s.alternation.idx,"> inside <").concat(s.topLevelRule.name,`> Rule.
`)+"Only the last alternative may be an empty alternative.";return l},buildTooManyAlternativesError:function(s){var l=`An Alternation cannot have more than 256 alternatives:
`+"<OR".concat(s.alternation.idx,"> inside <").concat(s.topLevelRule.name,`> Rule.
 has `).concat(s.alternation.definition.length+1," alternatives.");return l},buildLeftRecursionError:function(s){var l=s.topLevelRule.name,f=(0,a.default)(s.leftRecursionPath,function(p){return p.name}),c="".concat(l," --> ").concat(f.concat([l]).join(" --> ")),v=`Left Recursion found in grammar.
`+"rule: <".concat(l,`> can be invoked from itself (directly or indirectly)
`)+`without consuming any Tokens. The grammar path that causes this is: 
 `.concat(c,`
`)+` To fix this refactor your grammar to remove the left recursion.
see: https://en.wikipedia.org/wiki/LL_parser#Left_factoring.`;return v},buildInvalidRuleNameError:function(s){return"deprecated"},buildDuplicateRuleNameError:function(s){var l;s.topLevelRule instanceof o.Rule?l=s.topLevelRule.name:l=s.topLevelRule;var f="Duplicate definition, rule: ->".concat(l,"<- is already defined in the grammar: ->").concat(s.grammarName,"<-");return f}}})(wr);var Nn={},Pn={},cI=k&&k.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(r[i]=a[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),bl=k&&k.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Pn,"__esModule",{value:!0});Pn.GastRefResolverVisitor=Pn.resolveGrammar=void 0;var fI=at,dI=bl(Ve),hI=bl(Vt),pI=Le;function vI(e,t){var n=new Ol(e,t);return n.resolveRefs(),n.errors}Pn.resolveGrammar=vI;var Ol=function(e){cI(t,e);function t(n,r){var a=e.call(this)||this;return a.nameToTopRule=n,a.errMsgProvider=r,a.errors=[],a}return t.prototype.resolveRefs=function(){var n=this;(0,dI.default)((0,hI.default)(this.nameToTopRule),function(r){n.currTopLevel=r,r.accept(n)})},t.prototype.visitNonTerminal=function(n){var r=this.nameToTopRule[n.nonTerminalName];if(r)n.referencedRule=r;else{var a=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,n);this.errors.push({message:a,type:fI.ParserDefinitionErrorType.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:n.nonTerminalName})}},t}(pI.GAstVisitor);Pn.GastRefResolverVisitor=Ol;var ge={};function _I(e,t,n,r){for(var a=-1,i=e==null?0:e.length;++a<i;){var o=e[a];t(r,o,n(o),e)}return r}var gI=_I,mI=pn;function yI(e,t,n,r){return mI(e,function(a,i,o){t(r,a,n(a),o)}),r}var EI=yI,TI=gI,AI=EI,bI=kt,OI=me;function RI(e,t){return function(n,r){var a=OI(n)?TI:AI,i=t?t():{};return a(n,e,bI(r),i)}}var II=RI,SI=Hi,NI=II,PI=Object.prototype,CI=PI.hasOwnProperty,$I=NI(function(e,t,n){CI.call(e,n)?e[n].push(t):SI(e,n,[t])}),Rl=$I,LI=to,kI=nt;function MI(e,t){return LI(kI(e,t),1)}var wI=MI,xr={},Ne={},xI=Xi,DI=Cr;function FI(e,t,n){var r=e==null?0:e.length;return r?(t=n||t===void 0?1:DI(t),t=r-t,xI(e,0,t<0?0:t)):[]}var fo=FI,mn=k&&k.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(r[i]=a[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),yn=k&&k.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ne,"__esModule",{value:!0});Ne.nextPossibleTokensAfter=Ne.possiblePathsFrom=Ne.NextTerminalAfterAtLeastOneSepWalker=Ne.NextTerminalAfterAtLeastOneWalker=Ne.NextTerminalAfterManySepWalker=Ne.NextTerminalAfterManyWalker=Ne.AbstractNextTerminalAfterProductionWalker=Ne.NextAfterTokenWalker=Ne.AbstractNextPossibleTokensWalker=void 0;var Il=jn,La=yn(kr),ra=yn(Lt),Ss=yn(fo),qe=yn(qi),UI=yn(co),GI=yn(Ve),un=yn(en),jI=Et,ce=Le,Sl=function(e){mn(t,e);function t(n,r){var a=e.call(this)||this;return a.topProd=n,a.path=r,a.possibleTokTypes=[],a.nextProductionName="",a.nextProductionOccurrence=0,a.found=!1,a.isAtEndOfPath=!1,a}return t.prototype.startWalking=function(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=(0,un.default)(this.path.ruleStack).reverse(),this.occurrenceStack=(0,un.default)(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes},t.prototype.walk=function(n,r){r===void 0&&(r=[]),this.found||e.prototype.walk.call(this,n,r)},t.prototype.walkProdRef=function(n,r,a){if(n.referencedRule.name===this.nextProductionName&&n.idx===this.nextProductionOccurrence){var i=r.concat(a);this.updateExpectedNext(),this.walk(n.referencedRule,i)}},t.prototype.updateExpectedNext=function(){(0,ra.default)(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())},t}(Il.RestWalker);Ne.AbstractNextPossibleTokensWalker=Sl;var BI=function(e){mn(t,e);function t(n,r){var a=e.call(this,n,r)||this;return a.path=r,a.nextTerminalName="",a.nextTerminalOccurrence=0,a.nextTerminalName=a.path.lastTok.name,a.nextTerminalOccurrence=a.path.lastTokOccurrence,a}return t.prototype.walkTerminal=function(n,r,a){if(this.isAtEndOfPath&&n.terminalType.name===this.nextTerminalName&&n.idx===this.nextTerminalOccurrence&&!this.found){var i=r.concat(a),o=new ce.Alternative({definition:i});this.possibleTokTypes=(0,jI.first)(o),this.found=!0}},t}(Sl);Ne.NextAfterTokenWalker=BI;var Dr=function(e){mn(t,e);function t(n,r){var a=e.call(this)||this;return a.topRule=n,a.occurrence=r,a.result={token:void 0,occurrence:void 0,isEndOfRule:void 0},a}return t.prototype.startWalking=function(){return this.walk(this.topRule),this.result},t}(Il.RestWalker);Ne.AbstractNextTerminalAfterProductionWalker=Dr;var WI=function(e){mn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.walkMany=function(n,r,a){if(n.idx===this.occurrence){var i=(0,La.default)(r.concat(a));this.result.isEndOfRule=i===void 0,i instanceof ce.Terminal&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else e.prototype.walkMany.call(this,n,r,a)},t}(Dr);Ne.NextTerminalAfterManyWalker=WI;var VI=function(e){mn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.walkManySep=function(n,r,a){if(n.idx===this.occurrence){var i=(0,La.default)(r.concat(a));this.result.isEndOfRule=i===void 0,i instanceof ce.Terminal&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else e.prototype.walkManySep.call(this,n,r,a)},t}(Dr);Ne.NextTerminalAfterManySepWalker=VI;var KI=function(e){mn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.walkAtLeastOne=function(n,r,a){if(n.idx===this.occurrence){var i=(0,La.default)(r.concat(a));this.result.isEndOfRule=i===void 0,i instanceof ce.Terminal&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else e.prototype.walkAtLeastOne.call(this,n,r,a)},t}(Dr);Ne.NextTerminalAfterAtLeastOneWalker=KI;var zI=function(e){mn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.walkAtLeastOneSep=function(n,r,a){if(n.idx===this.occurrence){var i=(0,La.default)(r.concat(a));this.result.isEndOfRule=i===void 0,i instanceof ce.Terminal&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else e.prototype.walkAtLeastOneSep.call(this,n,r,a)},t}(Dr);Ne.NextTerminalAfterAtLeastOneSepWalker=zI;function Nl(e,t,n){n===void 0&&(n=[]),n=(0,un.default)(n);var r=[],a=0;function i(l){return l.concat((0,qe.default)(e,a+1))}function o(l){var f=Nl(i(l),t,n);return r.concat(f)}for(;n.length<t&&a<e.length;){var u=e[a];if(u instanceof ce.Alternative)return o(u.definition);if(u instanceof ce.NonTerminal)return o(u.definition);if(u instanceof ce.Option)r=o(u.definition);else if(u instanceof ce.RepetitionMandatory){var s=u.definition.concat([new ce.Repetition({definition:u.definition})]);return o(s)}else if(u instanceof ce.RepetitionMandatoryWithSeparator){var s=[new ce.Alternative({definition:u.definition}),new ce.Repetition({definition:[new ce.Terminal({terminalType:u.separator})].concat(u.definition)})];return o(s)}else if(u instanceof ce.RepetitionWithSeparator){var s=u.definition.concat([new ce.Repetition({definition:[new ce.Terminal({terminalType:u.separator})].concat(u.definition)})]);r=o(s)}else if(u instanceof ce.Repetition){var s=u.definition.concat([new ce.Repetition({definition:u.definition})]);r=o(s)}else{if(u instanceof ce.Alternation)return(0,GI.default)(u.definition,function(l){(0,ra.default)(l.definition)===!1&&(r=o(l.definition))}),r;if(u instanceof ce.Terminal)n.push(u.terminalType);else throw Error("non exhaustive match")}a++}return r.push({partialPath:n,suffixDef:(0,qe.default)(e,a)}),r}Ne.possiblePathsFrom=Nl;function HI(e,t,n,r){var a="EXIT_NONE_TERMINAL",i=[a],o="EXIT_ALTERNATIVE",u=!1,s=t.length,l=s-r-1,f=[],c=[];for(c.push({idx:-1,def:e,ruleStack:[],occurrenceStack:[]});!(0,ra.default)(c);){var v=c.pop();if(v===o){u&&(0,UI.default)(c).idx<=l&&c.pop();continue}var p=v.def,_=v.idx,d=v.ruleStack,E=v.occurrenceStack;if(!(0,ra.default)(p)){var A=p[0];if(A===a){var O={idx:_,def:(0,qe.default)(p),ruleStack:(0,Ss.default)(d),occurrenceStack:(0,Ss.default)(E)};c.push(O)}else if(A instanceof ce.Terminal)if(_<s-1){var y=_+1,b=t[y];if(n(b,A.terminalType)){var O={idx:y,def:(0,qe.default)(p),ruleStack:d,occurrenceStack:E};c.push(O)}}else if(_===s-1)f.push({nextTokenType:A.terminalType,nextTokenOccurrence:A.idx,ruleStack:d,occurrenceStack:E}),u=!0;else throw Error("non exhaustive match");else if(A instanceof ce.NonTerminal){var C=(0,un.default)(d);C.push(A.nonTerminalName);var m=(0,un.default)(E);m.push(A.idx);var O={idx:_,def:A.definition.concat(i,(0,qe.default)(p)),ruleStack:C,occurrenceStack:m};c.push(O)}else if(A instanceof ce.Option){var g={idx:_,def:(0,qe.default)(p),ruleStack:d,occurrenceStack:E};c.push(g),c.push(o);var T={idx:_,def:A.definition.concat((0,qe.default)(p)),ruleStack:d,occurrenceStack:E};c.push(T)}else if(A instanceof ce.RepetitionMandatory){var h=new ce.Repetition({definition:A.definition,idx:A.idx}),S=A.definition.concat([h],(0,qe.default)(p)),O={idx:_,def:S,ruleStack:d,occurrenceStack:E};c.push(O)}else if(A instanceof ce.RepetitionMandatoryWithSeparator){var U=new ce.Terminal({terminalType:A.separator}),h=new ce.Repetition({definition:[U].concat(A.definition),idx:A.idx}),S=A.definition.concat([h],(0,qe.default)(p)),O={idx:_,def:S,ruleStack:d,occurrenceStack:E};c.push(O)}else if(A instanceof ce.RepetitionWithSeparator){var g={idx:_,def:(0,qe.default)(p),ruleStack:d,occurrenceStack:E};c.push(g),c.push(o);var U=new ce.Terminal({terminalType:A.separator}),K=new ce.Repetition({definition:[U].concat(A.definition),idx:A.idx}),S=A.definition.concat([K],(0,qe.default)(p)),T={idx:_,def:S,ruleStack:d,occurrenceStack:E};c.push(T)}else if(A instanceof ce.Repetition){var g={idx:_,def:(0,qe.default)(p),ruleStack:d,occurrenceStack:E};c.push(g),c.push(o);var K=new ce.Repetition({definition:A.definition,idx:A.idx}),S=A.definition.concat([K],(0,qe.default)(p)),T={idx:_,def:S,ruleStack:d,occurrenceStack:E};c.push(T)}else if(A instanceof ce.Alternation)for(var w=A.definition.length-1;w>=0;w--){var x=A.definition[w],W={idx:_,def:x.definition.concat((0,qe.default)(p)),ruleStack:d,occurrenceStack:E};c.push(W),c.push(o)}else if(A instanceof ce.Alternative)c.push({idx:_,def:A.definition.concat((0,qe.default)(p)),ruleStack:d,occurrenceStack:E});else if(A instanceof ce.Rule)c.push(YI(A,_,d,E));else throw Error("non exhaustive match")}}return f}Ne.nextPossibleTokensAfter=HI;function YI(e,t,n,r){var a=(0,un.default)(n);a.push(e.name);var i=(0,un.default)(r);return i.push(1),{idx:t,def:e.definition,ruleStack:a,occurrenceStack:i}}(function(e){var t=k&&k.__extends||function(){var R=function(P,N){return R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(j,B){j.__proto__=B}||function(j,B){for(var V in B)Object.prototype.hasOwnProperty.call(B,V)&&(j[V]=B[V])},R(P,N)};return function(P,N){if(typeof N!="function"&&N!==null)throw new TypeError("Class extends value "+String(N)+" is not a constructor or null");R(P,N);function j(){this.constructor=P}P.prototype=N===null?Object.create(N):(j.prototype=N.prototype,new j)}}(),n=k&&k.__importDefault||function(R){return R&&R.__esModule?R:{default:R}};Object.defineProperty(e,"__esModule",{value:!0}),e.areTokenCategoriesNotUsed=e.isStrictPrefixOfPath=e.containsPath=e.getLookaheadPathsForOptionalProd=e.getLookaheadPathsForOr=e.lookAheadSequenceFromAlternatives=e.buildSingleAlternativeLookaheadFunction=e.buildAlternativesLookAheadFunc=e.buildLookaheadFuncForOptionalProd=e.buildLookaheadFuncForOr=e.getProdType=e.PROD_TYPE=void 0;var r=n(Lt),a=n(Ht),i=n(Na),o=n(nt),u=n(Ve),s=n(ft),l=n(_n),f=Ne,c=jn,v=gn,p=Le,_=Le,d;(function(R){R[R.OPTION=0]="OPTION",R[R.REPETITION=1]="REPETITION",R[R.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",R[R.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",R[R.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",R[R.ALTERNATION=5]="ALTERNATION"})(d=e.PROD_TYPE||(e.PROD_TYPE={}));function E(R){if(R instanceof p.Option)return d.OPTION;if(R instanceof p.Repetition)return d.REPETITION;if(R instanceof p.RepetitionMandatory)return d.REPETITION_MANDATORY;if(R instanceof p.RepetitionMandatoryWithSeparator)return d.REPETITION_MANDATORY_WITH_SEPARATOR;if(R instanceof p.RepetitionWithSeparator)return d.REPETITION_WITH_SEPARATOR;if(R instanceof p.Alternation)return d.ALTERNATION;throw Error("non exhaustive match")}e.getProdType=E;function A(R,P,N,j,B,V){var ue=U(R,P,N),de=W(ue)?v.tokenStructuredMatcherNoCategories:v.tokenStructuredMatcher;return V(ue,j,de,B)}e.buildLookaheadFuncForOr=A;function O(R,P,N,j,B,V){var ue=K(R,P,B,N),de=W(ue)?v.tokenStructuredMatcherNoCategories:v.tokenStructuredMatcher;return V(ue[0],de,j)}e.buildLookaheadFuncForOptionalProd=O;function y(R,P,N,j){var B=R.length,V=(0,i.default)(R,function(ae){return(0,i.default)(ae,function(re){return re.length===1})});if(P)return function(ae){for(var re=(0,o.default)(ae,function(it){return it.GATE}),le=0;le<B;le++){var q=R[le],he=q.length,Pe=re[le];if(Pe!==void 0&&Pe.call(this)===!1)continue;e:for(var Ee=0;Ee<he;Ee++){for(var xe=q[Ee],Re=xe.length,Me=0;Me<Re;Me++){var Se=this.LA(Me+1);if(N(Se,xe[Me])===!1)continue e}return le}}};if(V&&!j){var ue=(0,o.default)(R,function(ae){return(0,a.default)(ae)}),de=(0,l.default)(ue,function(ae,re,le){return(0,u.default)(re,function(q){(0,s.default)(ae,q.tokenTypeIdx)||(ae[q.tokenTypeIdx]=le),(0,u.default)(q.categoryMatches,function(he){(0,s.default)(ae,he)||(ae[he]=le)})}),ae},{});return function(){var ae=this.LA(1);return de[ae.tokenTypeIdx]}}else return function(){for(var ae=0;ae<B;ae++){var re=R[ae],le=re.length;e:for(var q=0;q<le;q++){for(var he=re[q],Pe=he.length,Ee=0;Ee<Pe;Ee++){var xe=this.LA(Ee+1);if(N(xe,he[Ee])===!1)continue e}return ae}}}}e.buildAlternativesLookAheadFunc=y;function b(R,P,N){var j=(0,i.default)(R,function(re){return re.length===1}),B=R.length;if(j&&!N){var V=(0,a.default)(R);if(V.length===1&&(0,r.default)(V[0].categoryMatches)){var ue=V[0],de=ue.tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===de}}else{var ae=(0,l.default)(V,function(re,le,q){return re[le.tokenTypeIdx]=!0,(0,u.default)(le.categoryMatches,function(he){re[he]=!0}),re},[]);return function(){var re=this.LA(1);return ae[re.tokenTypeIdx]===!0}}}else return function(){e:for(var re=0;re<B;re++){for(var le=R[re],q=le.length,he=0;he<q;he++){var Pe=this.LA(he+1);if(P(Pe,le[he])===!1)continue e}return!0}return!1}}e.buildSingleAlternativeLookaheadFunction=b;var C=function(R){t(P,R);function P(N,j,B){var V=R.call(this)||this;return V.topProd=N,V.targetOccurrence=j,V.targetProdType=B,V}return P.prototype.startWalking=function(){return this.walk(this.topProd),this.restDef},P.prototype.checkIsTarget=function(N,j,B,V){return N.idx===this.targetOccurrence&&this.targetProdType===j?(this.restDef=B.concat(V),!0):!1},P.prototype.walkOption=function(N,j,B){this.checkIsTarget(N,d.OPTION,j,B)||R.prototype.walkOption.call(this,N,j,B)},P.prototype.walkAtLeastOne=function(N,j,B){this.checkIsTarget(N,d.REPETITION_MANDATORY,j,B)||R.prototype.walkOption.call(this,N,j,B)},P.prototype.walkAtLeastOneSep=function(N,j,B){this.checkIsTarget(N,d.REPETITION_MANDATORY_WITH_SEPARATOR,j,B)||R.prototype.walkOption.call(this,N,j,B)},P.prototype.walkMany=function(N,j,B){this.checkIsTarget(N,d.REPETITION,j,B)||R.prototype.walkOption.call(this,N,j,B)},P.prototype.walkManySep=function(N,j,B){this.checkIsTarget(N,d.REPETITION_WITH_SEPARATOR,j,B)||R.prototype.walkOption.call(this,N,j,B)},P}(c.RestWalker),m=function(R){t(P,R);function P(N,j,B){var V=R.call(this)||this;return V.targetOccurrence=N,V.targetProdType=j,V.targetRef=B,V.result=[],V}return P.prototype.checkIsTarget=function(N,j){N.idx===this.targetOccurrence&&this.targetProdType===j&&(this.targetRef===void 0||N===this.targetRef)&&(this.result=N.definition)},P.prototype.visitOption=function(N){this.checkIsTarget(N,d.OPTION)},P.prototype.visitRepetition=function(N){this.checkIsTarget(N,d.REPETITION)},P.prototype.visitRepetitionMandatory=function(N){this.checkIsTarget(N,d.REPETITION_MANDATORY)},P.prototype.visitRepetitionMandatoryWithSeparator=function(N){this.checkIsTarget(N,d.REPETITION_MANDATORY_WITH_SEPARATOR)},P.prototype.visitRepetitionWithSeparator=function(N){this.checkIsTarget(N,d.REPETITION_WITH_SEPARATOR)},P.prototype.visitAlternation=function(N){this.checkIsTarget(N,d.ALTERNATION)},P}(_.GAstVisitor);function g(R){for(var P=new Array(R),N=0;N<R;N++)P[N]=[];return P}function T(R){for(var P=[""],N=0;N<R.length;N++){for(var j=R[N],B=[],V=0;V<P.length;V++){var ue=P[V];B.push(ue+"_"+j.tokenTypeIdx);for(var de=0;de<j.categoryMatches.length;de++){var ae="_"+j.categoryMatches[de];B.push(ue+ae)}}P=B}return P}function h(R,P,N){for(var j=0;j<R.length;j++)if(j!==N)for(var B=R[j],V=0;V<P.length;V++){var ue=P[V];if(B[ue]===!0)return!1}return!0}function S(R,P){for(var N=(0,o.default)(R,function(le){return(0,f.possiblePathsFrom)([le],1)}),j=g(N.length),B=(0,o.default)(N,function(le){var q={};return(0,u.default)(le,function(he){var Pe=T(he.partialPath);(0,u.default)(Pe,function(Ee){q[Ee]=!0})}),q}),V=N,ue=1;ue<=P;ue++){var de=V;V=g(de.length);for(var ae=function(le){for(var q=de[le],he=0;he<q.length;he++){var Pe=q[he].partialPath,Ee=q[he].suffixDef,xe=T(Pe),Re=h(B,xe,le);if(Re||(0,r.default)(Ee)||Pe.length===P){var Me=j[le];if(w(Me,Pe)===!1){Me.push(Pe);for(var Se=0;Se<xe.length;Se++){var it=xe[Se];B[le][it]=!0}}}else{var Be=(0,f.possiblePathsFrom)(Ee,ue+1,Pe);V[le]=V[le].concat(Be),(0,u.default)(Be,function(dt){var ke=T(dt.partialPath);(0,u.default)(ke,function(Qe){B[le][Qe]=!0})})}}},re=0;re<de.length;re++)ae(re)}return j}e.lookAheadSequenceFromAlternatives=S;function U(R,P,N,j){var B=new m(R,d.ALTERNATION,j);return P.accept(B),S(B.result,N)}e.getLookaheadPathsForOr=U;function K(R,P,N,j){var B=new m(R,N);P.accept(B);var V=B.result,ue=new C(P,R,N),de=ue.startWalking(),ae=new p.Alternative({definition:V}),re=new p.Alternative({definition:de});return S([ae,re],j)}e.getLookaheadPathsForOptionalProd=K;function w(R,P){e:for(var N=0;N<R.length;N++){var j=R[N];if(j.length===P.length){for(var B=0;B<j.length;B++){var V=P[B],ue=j[B],de=V===ue||ue.categoryMatchesMap[V.tokenTypeIdx]!==void 0;if(de===!1)continue e}return!0}}return!1}e.containsPath=w;function x(R,P){return R.length<P.length&&(0,i.default)(R,function(N,j){var B=P[j];return N===B||B.categoryMatchesMap[N.tokenTypeIdx]})}e.isStrictPrefixOfPath=x;function W(R){return(0,i.default)(R,function(P){return(0,i.default)(P,function(N){return(0,i.default)(N,function(j){return(0,r.default)(j.categoryMatches)})})})}e.areTokenCategoriesNotUsed=W})(xr);var ho=k&&k.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(r[i]=a[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fe=k&&k.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ge,"__esModule",{value:!0});ge.checkPrefixAlternativesAmbiguities=ge.validateSomeNonEmptyLookaheadPath=ge.validateTooManyAlts=ge.RepetitionCollector=ge.validateAmbiguousAlternationAlternatives=ge.validateEmptyOrAlternative=ge.getFirstNoneTerminal=ge.validateNoLeftRecursion=ge.validateRuleIsOverridden=ge.validateRuleDoesNotAlreadyExist=ge.OccurrenceValidationCollector=ge.identifyProductionForDuplicates=ge.validateGrammar=void 0;var Pl=Fe(kr),Fr=Fe(Lt),XI=Fe(qi),Cl=Fe(Ht),qI=Fe(lo),ZI=Fe(oo),QI=Fe(so),ln=Fe(nt),mr=Fe(Ve),JI=Fe(Rl),po=Fe(_n),eS=Fe(Xu),tS=Fe(Vt),vo=Fe(zt),ut=Fe(wI),nS=Fe(en),Dt=at,_o=Le,Cn=xr,rS=Ne,mt=Le,go=Le,aS=Fe(fo),iS=Fe($a),oS=gn;function sS(e,t,n,r,a){var i=(0,ut.default)(e,function(p){return uS(p,r)}),o=(0,ut.default)(e,function(p){return mo(p,p,r)}),u=[],s=[],l=[];(0,Fr.default)(o)&&(u=(0,ut.default)(e,function(p){return wl(p,r)}),s=(0,ut.default)(e,function(p){return xl(p,t,r)}),l=Ul(e,t,r));var f=fS(e,n,r),c=(0,ut.default)(e,function(p){return Fl(p,r)}),v=(0,ut.default)(e,function(p){return Ml(p,e,a,r)});return i.concat(l,o,u,s,f,c,v)}ge.validateGrammar=sS;function uS(e,t){var n=new kl;e.accept(n);var r=n.allProductions,a=(0,JI.default)(r,$l),i=(0,eS.default)(a,function(u){return u.length>1}),o=(0,ln.default)((0,tS.default)(i),function(u){var s=(0,Pl.default)(u),l=t.buildDuplicateFoundError(e,u),f=(0,_o.getProductionDslName)(s),c={message:l,type:Dt.ParserDefinitionErrorType.DUPLICATE_PRODUCTIONS,ruleName:e.name,dslName:f,occurrence:s.idx},v=Ll(s);return v&&(c.parameter=v),c});return o}function $l(e){return"".concat((0,_o.getProductionDslName)(e),"_#_").concat(e.idx,"_#_").concat(Ll(e))}ge.identifyProductionForDuplicates=$l;function Ll(e){return e instanceof mt.Terminal?e.terminalType.name:e instanceof mt.NonTerminal?e.nonTerminalName:""}var kl=function(e){ho(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.allProductions=[],n}return t.prototype.visitNonTerminal=function(n){this.allProductions.push(n)},t.prototype.visitOption=function(n){this.allProductions.push(n)},t.prototype.visitRepetitionWithSeparator=function(n){this.allProductions.push(n)},t.prototype.visitRepetitionMandatory=function(n){this.allProductions.push(n)},t.prototype.visitRepetitionMandatoryWithSeparator=function(n){this.allProductions.push(n)},t.prototype.visitRepetition=function(n){this.allProductions.push(n)},t.prototype.visitAlternation=function(n){this.allProductions.push(n)},t.prototype.visitTerminal=function(n){this.allProductions.push(n)},t}(go.GAstVisitor);ge.OccurrenceValidationCollector=kl;function Ml(e,t,n,r){var a=[],i=(0,po.default)(t,function(u,s){return s.name===e.name?u+1:u},0);if(i>1){var o=r.buildDuplicateRuleNameError({topLevelRule:e,grammarName:n});a.push({message:o,type:Dt.ParserDefinitionErrorType.DUPLICATE_RULE_NAME,ruleName:e.name})}return a}ge.validateRuleDoesNotAlreadyExist=Ml;function lS(e,t,n){var r=[],a;return(0,vo.default)(t,e)||(a="Invalid rule override, rule: ->".concat(e,"<- cannot be overridden in the grammar: ->").concat(n,"<-")+"as it is not defined in any of the super grammars ",r.push({message:a,type:Dt.ParserDefinitionErrorType.INVALID_RULE_OVERRIDE,ruleName:e})),r}ge.validateRuleIsOverridden=lS;function mo(e,t,n,r){r===void 0&&(r=[]);var a=[],i=ar(t.definition);if((0,Fr.default)(i))return[];var o=e.name,u=(0,vo.default)(i,e);u&&a.push({message:n.buildLeftRecursionError({topLevelRule:e,leftRecursionPath:r}),type:Dt.ParserDefinitionErrorType.LEFT_RECURSION,ruleName:o});var s=(0,QI.default)(i,r.concat([e])),l=(0,ut.default)(s,function(f){var c=(0,nS.default)(r);return c.push(f),mo(e,f,n,c)});return a.concat(l)}ge.validateNoLeftRecursion=mo;function ar(e){var t=[];if((0,Fr.default)(e))return t;var n=(0,Pl.default)(e);if(n instanceof mt.NonTerminal)t.push(n.referencedRule);else if(n instanceof mt.Alternative||n instanceof mt.Option||n instanceof mt.RepetitionMandatory||n instanceof mt.RepetitionMandatoryWithSeparator||n instanceof mt.RepetitionWithSeparator||n instanceof mt.Repetition)t=t.concat(ar(n.definition));else if(n instanceof mt.Alternation)t=(0,Cl.default)((0,ln.default)(n.definition,function(o){return ar(o.definition)}));else if(!(n instanceof mt.Terminal))throw Error("non exhaustive match");var r=(0,_o.isOptionalProd)(n),a=e.length>1;if(r&&a){var i=(0,XI.default)(e);return t.concat(ar(i))}else return t}ge.getFirstNoneTerminal=ar;var yo=function(e){ho(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.alternations=[],n}return t.prototype.visitAlternation=function(n){this.alternations.push(n)},t}(go.GAstVisitor);function wl(e,t){var n=new yo;e.accept(n);var r=n.alternations,a=(0,ut.default)(r,function(i){var o=(0,aS.default)(i.definition);return(0,ut.default)(o,function(u,s){var l=(0,rS.nextPossibleTokensAfter)([u],[],oS.tokenStructuredMatcher,1);return(0,Fr.default)(l)?[{message:t.buildEmptyAlternationError({topLevelRule:e,alternation:i,emptyChoiceIdx:s}),type:Dt.ParserDefinitionErrorType.NONE_LAST_EMPTY_ALT,ruleName:e.name,occurrence:i.idx,alternative:s+1}]:[]})});return a}ge.validateEmptyOrAlternative=wl;function xl(e,t,n){var r=new yo;e.accept(r);var a=r.alternations;a=(0,ZI.default)(a,function(o){return o.ignoreAmbiguities===!0});var i=(0,ut.default)(a,function(o){var u=o.idx,s=o.maxLookahead||t,l=(0,Cn.getLookaheadPathsForOr)(u,e,s,o),f=cS(l,o,e,n),c=Gl(l,o,e,n);return f.concat(c)});return i}ge.validateAmbiguousAlternationAlternatives=xl;var Dl=function(e){ho(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.allProductions=[],n}return t.prototype.visitRepetitionWithSeparator=function(n){this.allProductions.push(n)},t.prototype.visitRepetitionMandatory=function(n){this.allProductions.push(n)},t.prototype.visitRepetitionMandatoryWithSeparator=function(n){this.allProductions.push(n)},t.prototype.visitRepetition=function(n){this.allProductions.push(n)},t}(go.GAstVisitor);ge.RepetitionCollector=Dl;function Fl(e,t){var n=new yo;e.accept(n);var r=n.alternations,a=(0,ut.default)(r,function(i){return i.definition.length>255?[{message:t.buildTooManyAlternativesError({topLevelRule:e,alternation:i}),type:Dt.ParserDefinitionErrorType.TOO_MANY_ALTS,ruleName:e.name,occurrence:i.idx}]:[]});return a}ge.validateTooManyAlts=Fl;function Ul(e,t,n){var r=[];return(0,mr.default)(e,function(a){var i=new Dl;a.accept(i);var o=i.allProductions;(0,mr.default)(o,function(u){var s=(0,Cn.getProdType)(u),l=u.maxLookahead||t,f=u.idx,c=(0,Cn.getLookaheadPathsForOptionalProd)(f,a,s,l),v=c[0];if((0,Fr.default)((0,Cl.default)(v))){var p=n.buildEmptyRepetitionError({topLevelRule:a,repetition:u});r.push({message:p,type:Dt.ParserDefinitionErrorType.NO_NON_EMPTY_LOOKAHEAD,ruleName:a.name})}})}),r}ge.validateSomeNonEmptyLookaheadPath=Ul;function cS(e,t,n,r){var a=[],i=(0,po.default)(e,function(u,s,l){return t.definition[l].ignoreAmbiguities===!0||(0,mr.default)(s,function(f){var c=[l];(0,mr.default)(e,function(v,p){l!==p&&(0,Cn.containsPath)(v,f)&&t.definition[p].ignoreAmbiguities!==!0&&c.push(p)}),c.length>1&&!(0,Cn.containsPath)(a,f)&&(a.push(f),u.push({alts:c,path:f}))}),u},[]),o=(0,ln.default)(i,function(u){var s=(0,ln.default)(u.alts,function(f){return f+1}),l=r.buildAlternationAmbiguityError({topLevelRule:n,alternation:t,ambiguityIndices:s,prefixPath:u.path});return{message:l,type:Dt.ParserDefinitionErrorType.AMBIGUOUS_ALTS,ruleName:n.name,occurrence:t.idx,alternatives:u.alts}});return o}function Gl(e,t,n,r){var a=(0,po.default)(e,function(o,u,s){var l=(0,ln.default)(u,function(f){return{idx:s,path:f}});return o.concat(l)},[]),i=(0,iS.default)((0,ut.default)(a,function(o){var u=t.definition[o.idx];if(u.ignoreAmbiguities===!0)return[];var s=o.idx,l=o.path,f=(0,qI.default)(a,function(v){return t.definition[v.idx].ignoreAmbiguities!==!0&&v.idx<s&&(0,Cn.isStrictPrefixOfPath)(v.path,l)}),c=(0,ln.default)(f,function(v){var p=[v.idx+1,s+1],_=t.idx===0?"":t.idx,d=r.buildAlternationPrefixAmbiguityError({topLevelRule:n,alternation:t,ambiguityIndices:p,prefixPath:v.path});return{message:d,type:Dt.ParserDefinitionErrorType.AMBIGUOUS_PREFIX_ALTS,ruleName:n.name,occurrence:_,alternatives:p}});return c}));return i}ge.checkPrefixAlternativesAmbiguities=Gl;function fS(e,t,n){var r=[],a=(0,ln.default)(t,function(i){return i.name});return(0,mr.default)(e,function(i){var o=i.name;if((0,vo.default)(a,o)){var u=n.buildNamespaceConflictError(i);r.push({message:u,type:Dt.ParserDefinitionErrorType.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:o})}}),r}var jl=k&&k.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Nn,"__esModule",{value:!0});Nn.validateGrammar=Nn.resolveGrammar=void 0;var dS=jl(Ve),Bl=jl(Tl),hS=Pn,pS=ge,Wl=wr;function vS(e){var t=(0,Bl.default)(e,{errMsgProvider:Wl.defaultGrammarResolverErrorProvider}),n={};return(0,dS.default)(e.rules,function(r){n[r.name]=r}),(0,hS.resolveGrammar)(n,t.errMsgProvider)}Nn.resolveGrammar=vS;function _S(e){return e=(0,Bl.default)(e,{errMsgProvider:Wl.defaultGrammarValidatorErrorProvider}),(0,pS.validateGrammar)(e.rules,e.maxLookahead,e.tokenTypes,e.errMsgProvider,e.grammarName)}Nn.validateGrammar=_S;var Eo={},We={},Ur=k&&k.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(r[i]=a[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),gS=k&&k.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(We,"__esModule",{value:!0});We.EarlyExitException=We.NotAllInputParsedException=We.NoViableAltException=We.MismatchedTokenException=We.isRecognitionException=void 0;var mS=gS(zt),Vl="MismatchedTokenException",Kl="NoViableAltException",zl="EarlyExitException",Hl="NotAllInputParsedException",Yl=[Vl,Kl,zl,Hl];Object.freeze(Yl);function yS(e){return(0,mS.default)(Yl,e.name)}We.isRecognitionException=yS;var ka=function(e){Ur(t,e);function t(n,r){var a=this.constructor,i=e.call(this,n)||this;return i.token=r,i.resyncedTokens=[],Object.setPrototypeOf(i,a.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,i.constructor),i}return t}(Error),ES=function(e){Ur(t,e);function t(n,r,a){var i=e.call(this,n,r)||this;return i.previousToken=a,i.name=Vl,i}return t}(ka);We.MismatchedTokenException=ES;var TS=function(e){Ur(t,e);function t(n,r,a){var i=e.call(this,n,r)||this;return i.previousToken=a,i.name=Kl,i}return t}(ka);We.NoViableAltException=TS;var AS=function(e){Ur(t,e);function t(n,r){var a=e.call(this,n,r)||this;return a.name=Hl,a}return t}(ka);We.NotAllInputParsedException=AS;var bS=function(e){Ur(t,e);function t(n,r,a){var i=e.call(this,n,r)||this;return i.previousToken=a,i.name=zl,i}return t}(ka);We.EarlyExitException=bS;(function(e){var t=k&&k.__extends||function(){var O=function(y,b){return O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,m){C.__proto__=m}||function(C,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(C[g]=m[g])},O(y,b)};return function(y,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");O(y,b);function C(){this.constructor=y}y.prototype=b===null?Object.create(b):(C.prototype=b.prototype,new C)}}(),n=k&&k.__importDefault||function(O){return O&&O.__esModule?O:{default:O}};Object.defineProperty(e,"__esModule",{value:!0}),e.attemptInRepetitionRecovery=e.Recoverable=e.InRuleRecoveryException=e.IN_RULE_RECOVERY_EXCEPTION=e.EOF_FOLLOW_KEY=void 0;var r=vn,a=n(Lt),i=n(fo),o=n(Ht),u=n(nt),s=n(uo),l=n(ft),f=n(zt),c=n(en),v=We,p=$r,_=at;e.EOF_FOLLOW_KEY={},e.IN_RULE_RECOVERY_EXCEPTION="InRuleRecoveryException";var d=function(O){t(y,O);function y(b){var C=O.call(this,b)||this;return C.name=e.IN_RULE_RECOVERY_EXCEPTION,C}return y}(Error);e.InRuleRecoveryException=d;var E=function(){function O(){}return O.prototype.initRecoverable=function(y){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=(0,l.default)(y,"recoveryEnabled")?y.recoveryEnabled:_.DEFAULT_PARSER_CONFIG.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=A)},O.prototype.getTokenToInsert=function(y){var b=(0,r.createTokenInstance)(y,"",NaN,NaN,NaN,NaN,NaN,NaN);return b.isInsertedInRecovery=!0,b},O.prototype.canTokenTypeBeInsertedInRecovery=function(y){return!0},O.prototype.canTokenTypeBeDeletedInRecovery=function(y){return!0},O.prototype.tryInRepetitionRecovery=function(y,b,C,m){for(var g=this,T=this.findReSyncTokenType(),h=this.exportLexerState(),S=[],U=!1,K=this.LA(1),w=this.LA(1),x=function(){var W=g.LA(0),R=g.errorMessageProvider.buildMismatchTokenMessage({expected:m,actual:K,previous:W,ruleName:g.getCurrRuleFullName()}),P=new v.MismatchedTokenException(R,K,g.LA(0));P.resyncedTokens=(0,i.default)(S),g.SAVE_ERROR(P)};!U;)if(this.tokenMatcher(w,m)){x();return}else if(C.call(this)){x(),y.apply(this,b);return}else this.tokenMatcher(w,T)?U=!0:(w=this.SKIP_TOKEN(),this.addToResyncTokens(w,S));this.importLexerState(h)},O.prototype.shouldInRepetitionRecoveryBeTried=function(y,b,C){return!(C===!1||this.tokenMatcher(this.LA(1),y)||this.isBackTracking()||this.canPerformInRuleRecovery(y,this.getFollowsForInRuleRecovery(y,b)))},O.prototype.getFollowsForInRuleRecovery=function(y,b){var C=this.getCurrentGrammarPath(y,b),m=this.getNextPossibleTokenTypes(C);return m},O.prototype.tryInRuleRecovery=function(y,b){if(this.canRecoverWithSingleTokenInsertion(y,b)){var C=this.getTokenToInsert(y);return C}if(this.canRecoverWithSingleTokenDeletion(y)){var m=this.SKIP_TOKEN();return this.consumeToken(),m}throw new d("sad sad panda")},O.prototype.canPerformInRuleRecovery=function(y,b){return this.canRecoverWithSingleTokenInsertion(y,b)||this.canRecoverWithSingleTokenDeletion(y)},O.prototype.canRecoverWithSingleTokenInsertion=function(y,b){var C=this;if(!this.canTokenTypeBeInsertedInRecovery(y)||(0,a.default)(b))return!1;var m=this.LA(1),g=(0,s.default)(b,function(T){return C.tokenMatcher(m,T)})!==void 0;return g},O.prototype.canRecoverWithSingleTokenDeletion=function(y){if(!this.canTokenTypeBeDeletedInRecovery(y))return!1;var b=this.tokenMatcher(this.LA(2),y);return b},O.prototype.isInCurrentRuleReSyncSet=function(y){var b=this.getCurrFollowKey(),C=this.getFollowSetFromFollowKey(b);return(0,f.default)(C,y)},O.prototype.findReSyncTokenType=function(){for(var y=this.flattenFollowSet(),b=this.LA(1),C=2;;){var m=(0,s.default)(y,function(g){var T=(0,r.tokenMatcher)(b,g);return T});if(m!==void 0)return m;b=this.LA(C),C++}},O.prototype.getCurrFollowKey=function(){if(this.RULE_STACK.length===1)return e.EOF_FOLLOW_KEY;var y=this.getLastExplicitRuleShortName(),b=this.getLastExplicitRuleOccurrenceIndex(),C=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(y),idxInCallingRule:b,inRule:this.shortRuleNameToFullName(C)}},O.prototype.buildFullFollowKeyStack=function(){var y=this,b=this.RULE_STACK,C=this.RULE_OCCURRENCE_STACK;return(0,u.default)(b,function(m,g){return g===0?e.EOF_FOLLOW_KEY:{ruleName:y.shortRuleNameToFullName(m),idxInCallingRule:C[g],inRule:y.shortRuleNameToFullName(b[g-1])}})},O.prototype.flattenFollowSet=function(){var y=this,b=(0,u.default)(this.buildFullFollowKeyStack(),function(C){return y.getFollowSetFromFollowKey(C)});return(0,o.default)(b)},O.prototype.getFollowSetFromFollowKey=function(y){if(y===e.EOF_FOLLOW_KEY)return[r.EOF];var b=y.ruleName+y.idxInCallingRule+p.IN+y.inRule;return this.resyncFollows[b]},O.prototype.addToResyncTokens=function(y,b){return this.tokenMatcher(y,r.EOF)||b.push(y),b},O.prototype.reSyncTo=function(y){for(var b=[],C=this.LA(1);this.tokenMatcher(C,y)===!1;)C=this.SKIP_TOKEN(),this.addToResyncTokens(C,b);return(0,i.default)(b)},O.prototype.attemptInRepetitionRecovery=function(y,b,C,m,g,T,h){},O.prototype.getCurrentGrammarPath=function(y,b){var C=this.getHumanReadableRuleStack(),m=(0,c.default)(this.RULE_OCCURRENCE_STACK),g={ruleStack:C,occurrenceStack:m,lastTok:y,lastTokOccurrence:b};return g},O.prototype.getHumanReadableRuleStack=function(){var y=this;return(0,u.default)(this.RULE_STACK,function(b){return y.shortRuleNameToFullName(b)})},O}();e.Recoverable=E;function A(O,y,b,C,m,g,T){var h=this.getKeyForAutomaticLookahead(C,m),S=this.firstAfterRepMap[h];if(S===void 0){var U=this.getCurrRuleFullName(),K=this.getGAstProductions()[U],w=new g(K,m);S=w.startWalking(),this.firstAfterRepMap[h]=S}var x=S.token,W=S.occurrence,R=S.isEndOfRule;this.RULE_STACK.length===1&&R&&x===void 0&&(x=r.EOF,W=1),!(x===void 0||W===void 0)&&this.shouldInRepetitionRecoveryBeTried(x,W,T)&&this.tryInRepetitionRecovery(O,y,b,x)}e.attemptInRepetitionRecovery=A})(Eo);var $n={},Ma={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getKeyForAutomaticLookahead=e.AT_LEAST_ONE_SEP_IDX=e.MANY_SEP_IDX=e.AT_LEAST_ONE_IDX=e.MANY_IDX=e.OPTION_IDX=e.OR_IDX=e.BITS_FOR_ALT_IDX=e.BITS_FOR_RULE_IDX=e.BITS_FOR_OCCURRENCE_IDX=e.BITS_FOR_METHOD_TYPE=void 0,e.BITS_FOR_METHOD_TYPE=4,e.BITS_FOR_OCCURRENCE_IDX=8,e.BITS_FOR_RULE_IDX=12,e.BITS_FOR_ALT_IDX=8,e.OR_IDX=1<<e.BITS_FOR_OCCURRENCE_IDX,e.OPTION_IDX=2<<e.BITS_FOR_OCCURRENCE_IDX,e.MANY_IDX=3<<e.BITS_FOR_OCCURRENCE_IDX,e.AT_LEAST_ONE_IDX=4<<e.BITS_FOR_OCCURRENCE_IDX,e.MANY_SEP_IDX=5<<e.BITS_FOR_OCCURRENCE_IDX,e.AT_LEAST_ONE_SEP_IDX=6<<e.BITS_FOR_OCCURRENCE_IDX;function t(n,r,a){return a|r|n}e.getKeyForAutomaticLookahead=t,32-e.BITS_FOR_ALT_IDX})(Ma);var OS=k&&k.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(r[i]=a[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xl=k&&k.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($n,"__esModule",{value:!0});$n.collectMethods=$n.LooksAhead=void 0;var jt=xr,tn=Xl(Ve),Ns=Xl(ft),Ps=at,Bt=Ma,RS=Le,Tn=Le,IS=function(){function e(){}return e.prototype.initLooksAhead=function(t){this.dynamicTokensEnabled=(0,Ns.default)(t,"dynamicTokensEnabled")?t.dynamicTokensEnabled:Ps.DEFAULT_PARSER_CONFIG.dynamicTokensEnabled,this.maxLookahead=(0,Ns.default)(t,"maxLookahead")?t.maxLookahead:Ps.DEFAULT_PARSER_CONFIG.maxLookahead,this.lookAheadFuncsCache=new Map},e.prototype.preComputeLookaheadFunctions=function(t){var n=this;(0,tn.default)(t,function(r){n.TRACE_INIT("".concat(r.name," Rule Lookahead"),function(){var a=ql(r),i=a.alternation,o=a.repetition,u=a.option,s=a.repetitionMandatory,l=a.repetitionMandatoryWithSeparator,f=a.repetitionWithSeparator;(0,tn.default)(i,function(c){var v=c.idx===0?"":c.idx;n.TRACE_INIT("".concat((0,Tn.getProductionDslName)(c)).concat(v),function(){var p=(0,jt.buildLookaheadFuncForOr)(c.idx,r,c.maxLookahead||n.maxLookahead,c.hasPredicates,n.dynamicTokensEnabled,n.lookAheadBuilderForAlternatives),_=(0,Bt.getKeyForAutomaticLookahead)(n.fullRuleNameToShort[r.name],Bt.OR_IDX,c.idx);n.setLaFuncCache(_,p)})}),(0,tn.default)(o,function(c){n.computeLookaheadFunc(r,c.idx,Bt.MANY_IDX,jt.PROD_TYPE.REPETITION,c.maxLookahead,(0,Tn.getProductionDslName)(c))}),(0,tn.default)(u,function(c){n.computeLookaheadFunc(r,c.idx,Bt.OPTION_IDX,jt.PROD_TYPE.OPTION,c.maxLookahead,(0,Tn.getProductionDslName)(c))}),(0,tn.default)(s,function(c){n.computeLookaheadFunc(r,c.idx,Bt.AT_LEAST_ONE_IDX,jt.PROD_TYPE.REPETITION_MANDATORY,c.maxLookahead,(0,Tn.getProductionDslName)(c))}),(0,tn.default)(l,function(c){n.computeLookaheadFunc(r,c.idx,Bt.AT_LEAST_ONE_SEP_IDX,jt.PROD_TYPE.REPETITION_MANDATORY_WITH_SEPARATOR,c.maxLookahead,(0,Tn.getProductionDslName)(c))}),(0,tn.default)(f,function(c){n.computeLookaheadFunc(r,c.idx,Bt.MANY_SEP_IDX,jt.PROD_TYPE.REPETITION_WITH_SEPARATOR,c.maxLookahead,(0,Tn.getProductionDslName)(c))})})})},e.prototype.computeLookaheadFunc=function(t,n,r,a,i,o){var u=this;this.TRACE_INIT("".concat(o).concat(n===0?"":n),function(){var s=(0,jt.buildLookaheadFuncForOptionalProd)(n,t,i||u.maxLookahead,u.dynamicTokensEnabled,a,u.lookAheadBuilderForOptional),l=(0,Bt.getKeyForAutomaticLookahead)(u.fullRuleNameToShort[t.name],r,n);u.setLaFuncCache(l,s)})},e.prototype.lookAheadBuilderForOptional=function(t,n,r){return(0,jt.buildSingleAlternativeLookaheadFunction)(t,n,r)},e.prototype.lookAheadBuilderForAlternatives=function(t,n,r,a){return(0,jt.buildAlternativesLookAheadFunc)(t,n,r,a)},e.prototype.getKeyForAutomaticLookahead=function(t,n){var r=this.getLastExplicitRuleShortName();return(0,Bt.getKeyForAutomaticLookahead)(r,t,n)},e.prototype.getLaFuncFromCache=function(t){return this.lookAheadFuncsCache.get(t)},e.prototype.setLaFuncCache=function(t,n){this.lookAheadFuncsCache.set(t,n)},e}();$n.LooksAhead=IS;var SS=function(e){OS(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]},n}return t.prototype.reset=function(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}},t.prototype.visitOption=function(n){this.dslMethods.option.push(n)},t.prototype.visitRepetitionWithSeparator=function(n){this.dslMethods.repetitionWithSeparator.push(n)},t.prototype.visitRepetitionMandatory=function(n){this.dslMethods.repetitionMandatory.push(n)},t.prototype.visitRepetitionMandatoryWithSeparator=function(n){this.dslMethods.repetitionMandatoryWithSeparator.push(n)},t.prototype.visitRepetition=function(n){this.dslMethods.repetition.push(n)},t.prototype.visitAlternation=function(n){this.dslMethods.alternation.push(n)},t}(RS.GAstVisitor),Kr=new SS;function ql(e){Kr.reset(),e.accept(Kr);var t=Kr.dslMethods;return Kr.reset(),t}$n.collectMethods=ql;var wa={},St={};Object.defineProperty(St,"__esModule",{value:!0});St.addNoneTerminalToCst=St.addTerminalToCst=St.setNodeLocationFull=St.setNodeLocationOnlyOffset=void 0;function NS(e,t){isNaN(e.startOffset)===!0?(e.startOffset=t.startOffset,e.endOffset=t.endOffset):e.endOffset<t.endOffset&&(e.endOffset=t.endOffset)}St.setNodeLocationOnlyOffset=NS;function PS(e,t){isNaN(e.startOffset)===!0?(e.startOffset=t.startOffset,e.startColumn=t.startColumn,e.startLine=t.startLine,e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine):e.endOffset<t.endOffset&&(e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine)}St.setNodeLocationFull=PS;function CS(e,t,n){e.children[n]===void 0?e.children[n]=[t]:e.children[n].push(t)}St.addTerminalToCst=CS;function $S(e,t,n){e.children[t]===void 0?e.children[t]=[n]:e.children[t].push(n)}St.addNoneTerminalToCst=$S;var Zl={},xa={};Object.defineProperty(xa,"__esModule",{value:!0});xa.defineNameProp=void 0;var LS="name";function kS(e,t){Object.defineProperty(e,LS,{enumerable:!1,configurable:!0,writable:!1,value:t})}xa.defineNameProp=kS;(function(e){var t=k&&k.__importDefault||function(C){return C&&C.__esModule?C:{default:C}};Object.defineProperty(e,"__esModule",{value:!0}),e.validateRedundantMethods=e.validateMissingCstMethods=e.validateVisitor=e.CstVisitorDefinitionError=e.createBaseVisitorConstructorWithDefaults=e.createBaseSemanticVisitorConstructor=e.defaultVisit=void 0;var n=t(Lt),r=t($a),a=t(me),i=t(nt),o=t(Ve),u=t(lo),s=t(ct),l=t(Ar),f=t(Wn),c=t(zt),v=xa;function p(C,m){for(var g=(0,s.default)(C),T=g.length,h=0;h<T;h++)for(var S=g[h],U=C[S],K=U.length,w=0;w<K;w++){var x=U[w];x.tokenTypeIdx===void 0&&this[x.name](x.children,m)}}e.defaultVisit=p;function _(C,m){var g=function(){};(0,v.defineNameProp)(g,C+"BaseSemantics");var T={visit:function(h,S){if((0,a.default)(h)&&(h=h[0]),!(0,f.default)(h))return this[h.name](h.children,S)},validateVisitor:function(){var h=A(this,m);if(!(0,n.default)(h)){var S=(0,i.default)(h,function(U){return U.msg});throw Error("Errors Detected in CST Visitor <".concat(this.constructor.name,`>:
	`)+"".concat(S.join(`

`).replace(/\n/g,`
	`)))}}};return g.prototype=T,g.prototype.constructor=g,g._RULE_NAMES=m,g}e.createBaseSemanticVisitorConstructor=_;function d(C,m,g){var T=function(){};(0,v.defineNameProp)(T,C+"BaseSemanticsWithDefaults");var h=Object.create(g.prototype);return(0,o.default)(m,function(S){h[S]=p}),T.prototype=h,T.prototype.constructor=T,T}e.createBaseVisitorConstructorWithDefaults=d;var E;(function(C){C[C.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",C[C.MISSING_METHOD=1]="MISSING_METHOD"})(E=e.CstVisitorDefinitionError||(e.CstVisitorDefinitionError={}));function A(C,m){var g=O(C,m),T=b(C,m);return g.concat(T)}e.validateVisitor=A;function O(C,m){var g=(0,u.default)(m,function(h){return(0,l.default)(C[h])===!1}),T=(0,i.default)(g,function(h){return{msg:"Missing visitor method: <".concat(h,"> on ").concat(C.constructor.name," CST Visitor."),type:E.MISSING_METHOD,methodName:h}});return(0,r.default)(T)}e.validateMissingCstMethods=O;var y=["constructor","visit","validateVisitor"];function b(C,m){var g=[];for(var T in C)(0,l.default)(C[T])&&!(0,c.default)(y,T)&&!(0,c.default)(m,T)&&g.push({msg:"Redundant visitor method: <".concat(T,"> on ").concat(C.constructor.name,` CST Visitor
`)+`There is no Grammar Rule corresponding to this method's name.
`,type:E.REDUNDANT_METHOD,methodName:T});return g}e.validateRedundantMethods=b})(Zl);var Da=k&&k.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wa,"__esModule",{value:!0});wa.TreeBuilder=void 0;var An=St,Ye=Da(no),MS=Da(ft),Cs=Da(ct),$s=Da(Wn),Ls=Zl,wS=at,xS=function(){function e(){}return e.prototype.initTreeBuilder=function(t){if(this.CST_STACK=[],this.outputCst=t.outputCst,this.nodeLocationTracking=(0,MS.default)(t,"nodeLocationTracking")?t.nodeLocationTracking:wS.DEFAULT_PARSER_CONFIG.nodeLocationTracking,!this.outputCst)this.cstInvocationStateUpdate=Ye.default,this.cstFinallyStateUpdate=Ye.default,this.cstPostTerminal=Ye.default,this.cstPostNonTerminal=Ye.default,this.cstPostRule=Ye.default;else if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=An.setNodeLocationFull,this.setNodeLocationFromNode=An.setNodeLocationFull,this.cstPostRule=Ye.default,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=Ye.default,this.setNodeLocationFromNode=Ye.default,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=An.setNodeLocationOnlyOffset,this.setNodeLocationFromNode=An.setNodeLocationOnlyOffset,this.cstPostRule=Ye.default,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=Ye.default,this.setNodeLocationFromNode=Ye.default,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else if(/none/i.test(this.nodeLocationTracking))this.setNodeLocationFromToken=Ye.default,this.setNodeLocationFromNode=Ye.default,this.cstPostRule=Ye.default,this.setInitialNodeLocation=Ye.default;else throw Error('Invalid <nodeLocationTracking> config option: "'.concat(t.nodeLocationTracking,'"'))},e.prototype.setInitialNodeLocationOnlyOffsetRecovery=function(t){t.location={startOffset:NaN,endOffset:NaN}},e.prototype.setInitialNodeLocationOnlyOffsetRegular=function(t){t.location={startOffset:this.LA(1).startOffset,endOffset:NaN}},e.prototype.setInitialNodeLocationFullRecovery=function(t){t.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}},e.prototype.setInitialNodeLocationFullRegular=function(t){var n=this.LA(1);t.location={startOffset:n.startOffset,startLine:n.startLine,startColumn:n.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}},e.prototype.cstInvocationStateUpdate=function(t){var n={name:t,children:Object.create(null)};this.setInitialNodeLocation(n),this.CST_STACK.push(n)},e.prototype.cstFinallyStateUpdate=function(){this.CST_STACK.pop()},e.prototype.cstPostRuleFull=function(t){var n=this.LA(0),r=t.location;r.startOffset<=n.startOffset?(r.endOffset=n.endOffset,r.endLine=n.endLine,r.endColumn=n.endColumn):(r.startOffset=NaN,r.startLine=NaN,r.startColumn=NaN)},e.prototype.cstPostRuleOnlyOffset=function(t){var n=this.LA(0),r=t.location;r.startOffset<=n.startOffset?r.endOffset=n.endOffset:r.startOffset=NaN},e.prototype.cstPostTerminal=function(t,n){var r=this.CST_STACK[this.CST_STACK.length-1];(0,An.addTerminalToCst)(r,n,t),this.setNodeLocationFromToken(r.location,n)},e.prototype.cstPostNonTerminal=function(t,n){var r=this.CST_STACK[this.CST_STACK.length-1];(0,An.addNoneTerminalToCst)(r,n,t),this.setNodeLocationFromNode(r.location,t.location)},e.prototype.getBaseCstVisitorConstructor=function(){if((0,$s.default)(this.baseCstVisitorConstructor)){var t=(0,Ls.createBaseSemanticVisitorConstructor)(this.className,(0,Cs.default)(this.gastProductionsCache));return this.baseCstVisitorConstructor=t,t}return this.baseCstVisitorConstructor},e.prototype.getBaseCstVisitorConstructorWithDefaults=function(){if((0,$s.default)(this.baseCstVisitorWithDefaultsConstructor)){var t=(0,Ls.createBaseVisitorConstructorWithDefaults)(this.className,(0,Cs.default)(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=t,t}return this.baseCstVisitorWithDefaultsConstructor},e.prototype.getLastExplicitRuleShortName=function(){var t=this.RULE_STACK;return t[t.length-1]},e.prototype.getPreviousExplicitRuleShortName=function(){var t=this.RULE_STACK;return t[t.length-2]},e.prototype.getLastExplicitRuleOccurrenceIndex=function(){var t=this.RULE_OCCURRENCE_STACK;return t[t.length-1]},e}();wa.TreeBuilder=xS;var Fa={};Object.defineProperty(Fa,"__esModule",{value:!0});Fa.LexerAdapter=void 0;var ks=at,DS=function(){function e(){}return e.prototype.initLexerAdapter=function(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1},Object.defineProperty(e.prototype,"input",{get:function(){return this.tokVector},set:function(t){if(this.selfAnalysisDone!==!0)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=t,this.tokVectorLength=t.length},enumerable:!1,configurable:!0}),e.prototype.SKIP_TOKEN=function(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):ks.END_OF_FILE},e.prototype.LA=function(t){var n=this.currIdx+t;return n<0||this.tokVectorLength<=n?ks.END_OF_FILE:this.tokVector[n]},e.prototype.consumeToken=function(){this.currIdx++},e.prototype.exportLexerState=function(){return this.currIdx},e.prototype.importLexerState=function(t){this.currIdx=t},e.prototype.resetLexerState=function(){this.currIdx=-1},e.prototype.moveToTerminatedState=function(){this.currIdx=this.tokVector.length-1},e.prototype.getLexerPosition=function(){return this.exportLexerState()},e}();Fa.LexerAdapter=DS;var Ua={},Ql=k&&k.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ua,"__esModule",{value:!0});Ua.RecognizerApi=void 0;var FS=Ql(Vt),US=Ql(zt),GS=We,ui=at,jS=wr,BS=ge,WS=Le,VS=function(){function e(){}return e.prototype.ACTION=function(t){return t.call(this)},e.prototype.consume=function(t,n,r){return this.consumeInternal(n,t,r)},e.prototype.subrule=function(t,n,r){return this.subruleInternal(n,t,r)},e.prototype.option=function(t,n){return this.optionInternal(n,t)},e.prototype.or=function(t,n){return this.orInternal(n,t)},e.prototype.many=function(t,n){return this.manyInternal(t,n)},e.prototype.atLeastOne=function(t,n){return this.atLeastOneInternal(t,n)},e.prototype.CONSUME=function(t,n){return this.consumeInternal(t,0,n)},e.prototype.CONSUME1=function(t,n){return this.consumeInternal(t,1,n)},e.prototype.CONSUME2=function(t,n){return this.consumeInternal(t,2,n)},e.prototype.CONSUME3=function(t,n){return this.consumeInternal(t,3,n)},e.prototype.CONSUME4=function(t,n){return this.consumeInternal(t,4,n)},e.prototype.CONSUME5=function(t,n){return this.consumeInternal(t,5,n)},e.prototype.CONSUME6=function(t,n){return this.consumeInternal(t,6,n)},e.prototype.CONSUME7=function(t,n){return this.consumeInternal(t,7,n)},e.prototype.CONSUME8=function(t,n){return this.consumeInternal(t,8,n)},e.prototype.CONSUME9=function(t,n){return this.consumeInternal(t,9,n)},e.prototype.SUBRULE=function(t,n){return this.subruleInternal(t,0,n)},e.prototype.SUBRULE1=function(t,n){return this.subruleInternal(t,1,n)},e.prototype.SUBRULE2=function(t,n){return this.subruleInternal(t,2,n)},e.prototype.SUBRULE3=function(t,n){return this.subruleInternal(t,3,n)},e.prototype.SUBRULE4=function(t,n){return this.subruleInternal(t,4,n)},e.prototype.SUBRULE5=function(t,n){return this.subruleInternal(t,5,n)},e.prototype.SUBRULE6=function(t,n){return this.subruleInternal(t,6,n)},e.prototype.SUBRULE7=function(t,n){return this.subruleInternal(t,7,n)},e.prototype.SUBRULE8=function(t,n){return this.subruleInternal(t,8,n)},e.prototype.SUBRULE9=function(t,n){return this.subruleInternal(t,9,n)},e.prototype.OPTION=function(t){return this.optionInternal(t,0)},e.prototype.OPTION1=function(t){return this.optionInternal(t,1)},e.prototype.OPTION2=function(t){return this.optionInternal(t,2)},e.prototype.OPTION3=function(t){return this.optionInternal(t,3)},e.prototype.OPTION4=function(t){return this.optionInternal(t,4)},e.prototype.OPTION5=function(t){return this.optionInternal(t,5)},e.prototype.OPTION6=function(t){return this.optionInternal(t,6)},e.prototype.OPTION7=function(t){return this.optionInternal(t,7)},e.prototype.OPTION8=function(t){return this.optionInternal(t,8)},e.prototype.OPTION9=function(t){return this.optionInternal(t,9)},e.prototype.OR=function(t){return this.orInternal(t,0)},e.prototype.OR1=function(t){return this.orInternal(t,1)},e.prototype.OR2=function(t){return this.orInternal(t,2)},e.prototype.OR3=function(t){return this.orInternal(t,3)},e.prototype.OR4=function(t){return this.orInternal(t,4)},e.prototype.OR5=function(t){return this.orInternal(t,5)},e.prototype.OR6=function(t){return this.orInternal(t,6)},e.prototype.OR7=function(t){return this.orInternal(t,7)},e.prototype.OR8=function(t){return this.orInternal(t,8)},e.prototype.OR9=function(t){return this.orInternal(t,9)},e.prototype.MANY=function(t){this.manyInternal(0,t)},e.prototype.MANY1=function(t){this.manyInternal(1,t)},e.prototype.MANY2=function(t){this.manyInternal(2,t)},e.prototype.MANY3=function(t){this.manyInternal(3,t)},e.prototype.MANY4=function(t){this.manyInternal(4,t)},e.prototype.MANY5=function(t){this.manyInternal(5,t)},e.prototype.MANY6=function(t){this.manyInternal(6,t)},e.prototype.MANY7=function(t){this.manyInternal(7,t)},e.prototype.MANY8=function(t){this.manyInternal(8,t)},e.prototype.MANY9=function(t){this.manyInternal(9,t)},e.prototype.MANY_SEP=function(t){this.manySepFirstInternal(0,t)},e.prototype.MANY_SEP1=function(t){this.manySepFirstInternal(1,t)},e.prototype.MANY_SEP2=function(t){this.manySepFirstInternal(2,t)},e.prototype.MANY_SEP3=function(t){this.manySepFirstInternal(3,t)},e.prototype.MANY_SEP4=function(t){this.manySepFirstInternal(4,t)},e.prototype.MANY_SEP5=function(t){this.manySepFirstInternal(5,t)},e.prototype.MANY_SEP6=function(t){this.manySepFirstInternal(6,t)},e.prototype.MANY_SEP7=function(t){this.manySepFirstInternal(7,t)},e.prototype.MANY_SEP8=function(t){this.manySepFirstInternal(8,t)},e.prototype.MANY_SEP9=function(t){this.manySepFirstInternal(9,t)},e.prototype.AT_LEAST_ONE=function(t){this.atLeastOneInternal(0,t)},e.prototype.AT_LEAST_ONE1=function(t){return this.atLeastOneInternal(1,t)},e.prototype.AT_LEAST_ONE2=function(t){this.atLeastOneInternal(2,t)},e.prototype.AT_LEAST_ONE3=function(t){this.atLeastOneInternal(3,t)},e.prototype.AT_LEAST_ONE4=function(t){this.atLeastOneInternal(4,t)},e.prototype.AT_LEAST_ONE5=function(t){this.atLeastOneInternal(5,t)},e.prototype.AT_LEAST_ONE6=function(t){this.atLeastOneInternal(6,t)},e.prototype.AT_LEAST_ONE7=function(t){this.atLeastOneInternal(7,t)},e.prototype.AT_LEAST_ONE8=function(t){this.atLeastOneInternal(8,t)},e.prototype.AT_LEAST_ONE9=function(t){this.atLeastOneInternal(9,t)},e.prototype.AT_LEAST_ONE_SEP=function(t){this.atLeastOneSepFirstInternal(0,t)},e.prototype.AT_LEAST_ONE_SEP1=function(t){this.atLeastOneSepFirstInternal(1,t)},e.prototype.AT_LEAST_ONE_SEP2=function(t){this.atLeastOneSepFirstInternal(2,t)},e.prototype.AT_LEAST_ONE_SEP3=function(t){this.atLeastOneSepFirstInternal(3,t)},e.prototype.AT_LEAST_ONE_SEP4=function(t){this.atLeastOneSepFirstInternal(4,t)},e.prototype.AT_LEAST_ONE_SEP5=function(t){this.atLeastOneSepFirstInternal(5,t)},e.prototype.AT_LEAST_ONE_SEP6=function(t){this.atLeastOneSepFirstInternal(6,t)},e.prototype.AT_LEAST_ONE_SEP7=function(t){this.atLeastOneSepFirstInternal(7,t)},e.prototype.AT_LEAST_ONE_SEP8=function(t){this.atLeastOneSepFirstInternal(8,t)},e.prototype.AT_LEAST_ONE_SEP9=function(t){this.atLeastOneSepFirstInternal(9,t)},e.prototype.RULE=function(t,n,r){if(r===void 0&&(r=ui.DEFAULT_RULE_CONFIG),(0,US.default)(this.definedRulesNames,t)){var a=jS.defaultGrammarValidatorErrorProvider.buildDuplicateRuleNameError({topLevelRule:t,grammarName:this.className}),i={message:a,type:ui.ParserDefinitionErrorType.DUPLICATE_RULE_NAME,ruleName:t};this.definitionErrors.push(i)}this.definedRulesNames.push(t);var o=this.defineRule(t,n,r);return this[t]=o,o},e.prototype.OVERRIDE_RULE=function(t,n,r){r===void 0&&(r=ui.DEFAULT_RULE_CONFIG);var a=(0,BS.validateRuleIsOverridden)(t,this.definedRulesNames,this.className);this.definitionErrors=this.definitionErrors.concat(a);var i=this.defineRule(t,n,r);return this[t]=i,i},e.prototype.BACKTRACK=function(t,n){return function(){this.isBackTrackingStack.push(1);var r=this.saveRecogState();try{return t.apply(this,n),!0}catch(a){if((0,GS.isRecognitionException)(a))return!1;throw a}finally{this.reloadRecogState(r),this.isBackTrackingStack.pop()}}},e.prototype.getGAstProductions=function(){return this.gastProductionsCache},e.prototype.getSerializedGastProductions=function(){return(0,WS.serializeGrammar)((0,FS.default)(this.gastProductionsCache))},e}();Ua.RecognizerApi=VS;var Ga={},Ft=k&&k.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ga,"__esModule",{value:!0});Ga.RecognizerEngine=void 0;var Ms=Ft(Lt),li=Ft(me),ci=Ft(Ht),ws=Ft(Na),KS=Ft(ro),zS=Ft(Pt),qn=Ft(ft),Zn=Ft(Vt),xs=Ft(_n),Ds=Ft(en),rt=Ma,zr=We,Fs=xr,bn=Ne,Us=at,HS=Eo,Gs=vn,Qn=gn,YS=function(){function e(){}return e.prototype.initRecognizerEngine=function(t,n){if(this.className=this.constructor.name,this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=Qn.tokenStructuredMatcherNoCategories,this.subruleIdx=0,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},(0,qn.default)(n,"serializedGrammar"))throw Error(`The Parser's configuration can no longer contain a <serializedGrammar> property.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0
	For Further details.`);if((0,li.default)(t)){if((0,Ms.default)(t))throw Error(`A Token Vocabulary cannot be empty.
	Note that the first argument for the parser constructor
	is no longer a Token vector (since v4.0).`);if(typeof t[0].startOffset=="number")throw Error(`The Parser constructor no longer accepts a token vector as the first argument.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0
	For Further details.`)}if((0,li.default)(t))this.tokensMap=(0,xs.default)(t,function(u,s){return u[s.name]=s,u},{});else if((0,qn.default)(t,"modes")&&(0,ws.default)((0,ci.default)((0,Zn.default)(t.modes)),Qn.isTokenType)){var r=(0,ci.default)((0,Zn.default)(t.modes)),a=(0,KS.default)(r);this.tokensMap=(0,xs.default)(a,function(u,s){return u[s.name]=s,u},{})}else if((0,zS.default)(t))this.tokensMap=(0,Ds.default)(t);else throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap.EOF=Gs.EOF;var i=(0,qn.default)(t,"modes")?(0,ci.default)((0,Zn.default)(t.modes)):(0,Zn.default)(t),o=(0,ws.default)(i,function(u){return(0,Ms.default)(u.categoryMatches)});this.tokenMatcher=o?Qn.tokenStructuredMatcherNoCategories:Qn.tokenStructuredMatcher,(0,Qn.augmentTokenTypes)((0,Zn.default)(this.tokensMap))},e.prototype.defineRule=function(t,n,r){if(this.selfAnalysisDone)throw Error("Grammar rule <".concat(t,`> may not be defined after the 'performSelfAnalysis' method has been called'
`)+"Make sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.");var a=(0,qn.default)(r,"resyncEnabled")?r.resyncEnabled:Us.DEFAULT_RULE_CONFIG.resyncEnabled,i=(0,qn.default)(r,"recoveryValueFunc")?r.recoveryValueFunc:Us.DEFAULT_RULE_CONFIG.recoveryValueFunc,o=this.ruleShortNameIdx<<rt.BITS_FOR_METHOD_TYPE+rt.BITS_FOR_OCCURRENCE_IDX;this.ruleShortNameIdx++,this.shortRuleNameToFull[o]=t,this.fullRuleNameToShort[t]=o;var u;this.outputCst===!0?u=function(){for(var f=[],c=0;c<arguments.length;c++)f[c]=arguments[c];try{this.ruleInvocationStateUpdate(o,t,this.subruleIdx),n.apply(this,f);var v=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(v),v}catch(p){return this.invokeRuleCatch(p,a,i)}finally{this.ruleFinallyStateUpdate()}}:u=function(){for(var f=[],c=0;c<arguments.length;c++)f[c]=arguments[c];try{return this.ruleInvocationStateUpdate(o,t,this.subruleIdx),n.apply(this,f)}catch(v){return this.invokeRuleCatch(v,a,i)}finally{this.ruleFinallyStateUpdate()}};var s=Object.assign(u,{ruleName:t,originalGrammarAction:n});return s},e.prototype.invokeRuleCatch=function(t,n,r){var a=this.RULE_STACK.length===1,i=n&&!this.isBackTracking()&&this.recoveryEnabled;if((0,zr.isRecognitionException)(t)){var o=t;if(i){var u=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(u))if(o.resyncedTokens=this.reSyncTo(u),this.outputCst){var s=this.CST_STACK[this.CST_STACK.length-1];return s.recoveredNode=!0,s}else return r();else{if(this.outputCst){var s=this.CST_STACK[this.CST_STACK.length-1];s.recoveredNode=!0,o.partialCstResult=s}throw o}}else{if(a)return this.moveToTerminatedState(),r();throw o}}else throw t},e.prototype.optionInternal=function(t,n){var r=this.getKeyForAutomaticLookahead(rt.OPTION_IDX,n);return this.optionInternalLogic(t,n,r)},e.prototype.optionInternalLogic=function(t,n,r){var a=this,i=this.getLaFuncFromCache(r),o;if(typeof t!="function"){o=t.DEF;var u=t.GATE;if(u!==void 0){var s=i;i=function(){return u.call(a)&&s.call(a)}}}else o=t;if(i.call(this)===!0)return o.call(this)},e.prototype.atLeastOneInternal=function(t,n){var r=this.getKeyForAutomaticLookahead(rt.AT_LEAST_ONE_IDX,t);return this.atLeastOneInternalLogic(t,n,r)},e.prototype.atLeastOneInternalLogic=function(t,n,r){var a=this,i=this.getLaFuncFromCache(r),o;if(typeof n!="function"){o=n.DEF;var u=n.GATE;if(u!==void 0){var s=i;i=function(){return u.call(a)&&s.call(a)}}}else o=n;if(i.call(this)===!0)for(var l=this.doSingleRepetition(o);i.call(this)===!0&&l===!0;)l=this.doSingleRepetition(o);else throw this.raiseEarlyExitException(t,Fs.PROD_TYPE.REPETITION_MANDATORY,n.ERR_MSG);this.attemptInRepetitionRecovery(this.atLeastOneInternal,[t,n],i,rt.AT_LEAST_ONE_IDX,t,bn.NextTerminalAfterAtLeastOneWalker)},e.prototype.atLeastOneSepFirstInternal=function(t,n){var r=this.getKeyForAutomaticLookahead(rt.AT_LEAST_ONE_SEP_IDX,t);this.atLeastOneSepFirstInternalLogic(t,n,r)},e.prototype.atLeastOneSepFirstInternalLogic=function(t,n,r){var a=this,i=n.DEF,o=n.SEP,u=this.getLaFuncFromCache(r);if(u.call(this)===!0){i.call(this);for(var s=function(){return a.tokenMatcher(a.LA(1),o)};this.tokenMatcher(this.LA(1),o)===!0;)this.CONSUME(o),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,o,s,i,bn.NextTerminalAfterAtLeastOneSepWalker],s,rt.AT_LEAST_ONE_SEP_IDX,t,bn.NextTerminalAfterAtLeastOneSepWalker)}else throw this.raiseEarlyExitException(t,Fs.PROD_TYPE.REPETITION_MANDATORY_WITH_SEPARATOR,n.ERR_MSG)},e.prototype.manyInternal=function(t,n){var r=this.getKeyForAutomaticLookahead(rt.MANY_IDX,t);return this.manyInternalLogic(t,n,r)},e.prototype.manyInternalLogic=function(t,n,r){var a=this,i=this.getLaFuncFromCache(r),o;if(typeof n!="function"){o=n.DEF;var u=n.GATE;if(u!==void 0){var s=i;i=function(){return u.call(a)&&s.call(a)}}}else o=n;for(var l=!0;i.call(this)===!0&&l===!0;)l=this.doSingleRepetition(o);this.attemptInRepetitionRecovery(this.manyInternal,[t,n],i,rt.MANY_IDX,t,bn.NextTerminalAfterManyWalker,l)},e.prototype.manySepFirstInternal=function(t,n){var r=this.getKeyForAutomaticLookahead(rt.MANY_SEP_IDX,t);this.manySepFirstInternalLogic(t,n,r)},e.prototype.manySepFirstInternalLogic=function(t,n,r){var a=this,i=n.DEF,o=n.SEP,u=this.getLaFuncFromCache(r);if(u.call(this)===!0){i.call(this);for(var s=function(){return a.tokenMatcher(a.LA(1),o)};this.tokenMatcher(this.LA(1),o)===!0;)this.CONSUME(o),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,o,s,i,bn.NextTerminalAfterManySepWalker],s,rt.MANY_SEP_IDX,t,bn.NextTerminalAfterManySepWalker)}},e.prototype.repetitionSepSecondInternal=function(t,n,r,a,i){for(;r();)this.CONSUME(n),a.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,n,r,a,i],r,rt.AT_LEAST_ONE_SEP_IDX,t,i)},e.prototype.doSingleRepetition=function(t){var n=this.getLexerPosition();t.call(this);var r=this.getLexerPosition();return r>n},e.prototype.orInternal=function(t,n){var r=this.getKeyForAutomaticLookahead(rt.OR_IDX,n),a=(0,li.default)(t)?t:t.DEF,i=this.getLaFuncFromCache(r),o=i.call(this,a);if(o!==void 0){var u=a[o];return u.ALT.call(this)}this.raiseNoAltException(n,t.ERR_MSG)},e.prototype.ruleFinallyStateUpdate=function(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),this.RULE_STACK.length===0&&this.isAtEndOfInput()===!1){var t=this.LA(1),n=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:t,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new zr.NotAllInputParsedException(n,t))}},e.prototype.subruleInternal=function(t,n,r){var a;try{var i=r!==void 0?r.ARGS:void 0;return this.subruleIdx=n,a=t.apply(this,i),this.cstPostNonTerminal(a,r!==void 0&&r.LABEL!==void 0?r.LABEL:t.ruleName),a}catch(o){throw this.subruleInternalError(o,r,t.ruleName)}},e.prototype.subruleInternalError=function(t,n,r){throw(0,zr.isRecognitionException)(t)&&t.partialCstResult!==void 0&&(this.cstPostNonTerminal(t.partialCstResult,n!==void 0&&n.LABEL!==void 0?n.LABEL:r),delete t.partialCstResult),t},e.prototype.consumeInternal=function(t,n,r){var a;try{var i=this.LA(1);this.tokenMatcher(i,t)===!0?(this.consumeToken(),a=i):this.consumeInternalError(t,i,r)}catch(o){a=this.consumeInternalRecovery(t,n,o)}return this.cstPostTerminal(r!==void 0&&r.LABEL!==void 0?r.LABEL:t.name,a),a},e.prototype.consumeInternalError=function(t,n,r){var a,i=this.LA(0);throw r!==void 0&&r.ERR_MSG?a=r.ERR_MSG:a=this.errorMessageProvider.buildMismatchTokenMessage({expected:t,actual:n,previous:i,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new zr.MismatchedTokenException(a,n,i))},e.prototype.consumeInternalRecovery=function(t,n,r){if(this.recoveryEnabled&&r.name==="MismatchedTokenException"&&!this.isBackTracking()){var a=this.getFollowsForInRuleRecovery(t,n);try{return this.tryInRuleRecovery(t,a)}catch(i){throw i.name===HS.IN_RULE_RECOVERY_EXCEPTION?r:i}}else throw r},e.prototype.saveRecogState=function(){var t=this.errors,n=(0,Ds.default)(this.RULE_STACK);return{errors:t,lexerState:this.exportLexerState(),RULE_STACK:n,CST_STACK:this.CST_STACK}},e.prototype.reloadRecogState=function(t){this.errors=t.errors,this.importLexerState(t.lexerState),this.RULE_STACK=t.RULE_STACK},e.prototype.ruleInvocationStateUpdate=function(t,n,r){this.RULE_OCCURRENCE_STACK.push(r),this.RULE_STACK.push(t),this.cstInvocationStateUpdate(n)},e.prototype.isBackTracking=function(){return this.isBackTrackingStack.length!==0},e.prototype.getCurrRuleFullName=function(){var t=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[t]},e.prototype.shortRuleNameToFullName=function(t){return this.shortRuleNameToFull[t]},e.prototype.isAtEndOfInput=function(){return this.tokenMatcher(this.LA(1),Gs.EOF)},e.prototype.reset=function(){this.resetLexerState(),this.subruleIdx=0,this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]},e}();Ga.RecognizerEngine=YS;var ja={},Jl=k&&k.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ja,"__esModule",{value:!0});ja.ErrorHandler=void 0;var fi=We,XS=Jl(ft),js=Jl(en),Bs=xr,qS=at,ZS=function(){function e(){}return e.prototype.initErrorHandler=function(t){this._errors=[],this.errorMessageProvider=(0,XS.default)(t,"errorMessageProvider")?t.errorMessageProvider:qS.DEFAULT_PARSER_CONFIG.errorMessageProvider},e.prototype.SAVE_ERROR=function(t){if((0,fi.isRecognitionException)(t))return t.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:(0,js.default)(this.RULE_OCCURRENCE_STACK)},this._errors.push(t),t;throw Error("Trying to save an Error which is not a RecognitionException")},Object.defineProperty(e.prototype,"errors",{get:function(){return(0,js.default)(this._errors)},set:function(t){this._errors=t},enumerable:!1,configurable:!0}),e.prototype.raiseEarlyExitException=function(t,n,r){for(var a=this.getCurrRuleFullName(),i=this.getGAstProductions()[a],o=(0,Bs.getLookaheadPathsForOptionalProd)(t,i,n,this.maxLookahead),u=o[0],s=[],l=1;l<=this.maxLookahead;l++)s.push(this.LA(l));var f=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:u,actual:s,previous:this.LA(0),customUserDescription:r,ruleName:a});throw this.SAVE_ERROR(new fi.EarlyExitException(f,this.LA(1),this.LA(0)))},e.prototype.raiseNoAltException=function(t,n){for(var r=this.getCurrRuleFullName(),a=this.getGAstProductions()[r],i=(0,Bs.getLookaheadPathsForOr)(t,a,this.maxLookahead),o=[],u=1;u<=this.maxLookahead;u++)o.push(this.LA(u));var s=this.LA(0),l=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:i,actual:o,previous:s,customUserDescription:n,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new fi.NoViableAltException(l,this.LA(1),s))},e}();ja.ErrorHandler=ZS;var Ba={},ec=k&&k.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ba,"__esModule",{value:!0});Ba.ContentAssist=void 0;var Ws=Ne,QS=ec(kr),JS=ec(Wn),eN=function(){function e(){}return e.prototype.initContentAssist=function(){},e.prototype.computeContentAssist=function(t,n){var r=this.gastProductionsCache[t];if((0,JS.default)(r))throw Error("Rule ->".concat(t,"<- does not exist in this grammar."));return(0,Ws.nextPossibleTokensAfter)([r],n,this.tokenMatcher,this.maxLookahead)},e.prototype.getNextPossibleTokenTypes=function(t){var n=(0,QS.default)(t.ruleStack),r=this.getGAstProductions(),a=r[n],i=new Ws.NextAfterTokenWalker(a,t).startWalking();return i},e}();Ba.ContentAssist=eN;var Wa={},Vn=k&&k.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Wa,"__esModule",{value:!0});Wa.GastRecorder=void 0;var aa=Vn(co),tN=Vn(me),nN=Vn(Qi),rN=Vn(Ve),tc=Vn(Ar),ir=Vn(ft),Ot=Le,aN=Lr,nc=gn,rc=vn,iN=at,oN=Ma,Va={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(Va);var Vs=!0,Ks=Math.pow(2,oN.BITS_FOR_OCCURRENCE_IDX)-1,ac=(0,rc.createToken)({name:"RECORDING_PHASE_TOKEN",pattern:aN.Lexer.NA});(0,nc.augmentTokenTypes)([ac]);var ic=(0,rc.createTokenInstance)(ac,`This IToken indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,-1,-1,-1,-1,-1,-1);Object.freeze(ic);var sN={name:`This CSTNode indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,children:{}},uN=function(){function e(){}return e.prototype.initGastRecorder=function(t){this.recordingProdStack=[],this.RECORDING_PHASE=!1},e.prototype.enableRecording=function(){var t=this;this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",function(){for(var n=function(a){var i=a>0?a:"";t["CONSUME".concat(i)]=function(o,u){return this.consumeInternalRecord(o,a,u)},t["SUBRULE".concat(i)]=function(o,u){return this.subruleInternalRecord(o,a,u)},t["OPTION".concat(i)]=function(o){return this.optionInternalRecord(o,a)},t["OR".concat(i)]=function(o){return this.orInternalRecord(o,a)},t["MANY".concat(i)]=function(o){this.manyInternalRecord(a,o)},t["MANY_SEP".concat(i)]=function(o){this.manySepFirstInternalRecord(a,o)},t["AT_LEAST_ONE".concat(i)]=function(o){this.atLeastOneInternalRecord(a,o)},t["AT_LEAST_ONE_SEP".concat(i)]=function(o){this.atLeastOneSepFirstInternalRecord(a,o)}},r=0;r<10;r++)n(r);t.consume=function(a,i,o){return this.consumeInternalRecord(i,a,o)},t.subrule=function(a,i,o){return this.subruleInternalRecord(i,a,o)},t.option=function(a,i){return this.optionInternalRecord(i,a)},t.or=function(a,i){return this.orInternalRecord(i,a)},t.many=function(a,i){this.manyInternalRecord(a,i)},t.atLeastOne=function(a,i){this.atLeastOneInternalRecord(a,i)},t.ACTION=t.ACTION_RECORD,t.BACKTRACK=t.BACKTRACK_RECORD,t.LA=t.LA_RECORD})},e.prototype.disableRecording=function(){var t=this;this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",function(){for(var n=t,r=0;r<10;r++){var a=r>0?r:"";delete n["CONSUME".concat(a)],delete n["SUBRULE".concat(a)],delete n["OPTION".concat(a)],delete n["OR".concat(a)],delete n["MANY".concat(a)],delete n["MANY_SEP".concat(a)],delete n["AT_LEAST_ONE".concat(a)],delete n["AT_LEAST_ONE_SEP".concat(a)]}delete n.consume,delete n.subrule,delete n.option,delete n.or,delete n.many,delete n.atLeastOne,delete n.ACTION,delete n.BACKTRACK,delete n.LA})},e.prototype.ACTION_RECORD=function(t){},e.prototype.BACKTRACK_RECORD=function(t,n){return function(){return!0}},e.prototype.LA_RECORD=function(t){return iN.END_OF_FILE},e.prototype.topLevelRuleRecord=function(t,n){try{var r=new Ot.Rule({definition:[],name:t});return r.name=t,this.recordingProdStack.push(r),n.call(this),this.recordingProdStack.pop(),r}catch(a){if(a.KNOWN_RECORDER_ERROR!==!0)try{a.message=a.message+`
	 This error was thrown during the "grammar recording phase" For more info see:
	https://chevrotain.io/docs/guide/internals.html#grammar-recording`}catch{throw a}throw a}},e.prototype.optionInternalRecord=function(t,n){return Jn.call(this,Ot.Option,t,n)},e.prototype.atLeastOneInternalRecord=function(t,n){Jn.call(this,Ot.RepetitionMandatory,n,t)},e.prototype.atLeastOneSepFirstInternalRecord=function(t,n){Jn.call(this,Ot.RepetitionMandatoryWithSeparator,n,t,Vs)},e.prototype.manyInternalRecord=function(t,n){Jn.call(this,Ot.Repetition,n,t)},e.prototype.manySepFirstInternalRecord=function(t,n){Jn.call(this,Ot.RepetitionWithSeparator,n,t,Vs)},e.prototype.orInternalRecord=function(t,n){return lN.call(this,t,n)},e.prototype.subruleInternalRecord=function(t,n,r){if(ia(n),!t||(0,ir.default)(t,"ruleName")===!1){var a=new Error("<SUBRULE".concat(zs(n),"> argument is invalid")+" expecting a Parser method reference but got: <".concat(JSON.stringify(t),">")+`
 inside top level rule: <`.concat(this.recordingProdStack[0].name,">"));throw a.KNOWN_RECORDER_ERROR=!0,a}var i=(0,aa.default)(this.recordingProdStack),o=t.ruleName,u=new Ot.NonTerminal({idx:n,nonTerminalName:o,label:r==null?void 0:r.LABEL,referencedRule:void 0});return i.definition.push(u),this.outputCst?sN:Va},e.prototype.consumeInternalRecord=function(t,n,r){if(ia(n),!(0,nc.hasShortKeyProperty)(t)){var a=new Error("<CONSUME".concat(zs(n),"> argument is invalid")+" expecting a TokenType reference but got: <".concat(JSON.stringify(t),">")+`
 inside top level rule: <`.concat(this.recordingProdStack[0].name,">"));throw a.KNOWN_RECORDER_ERROR=!0,a}var i=(0,aa.default)(this.recordingProdStack),o=new Ot.Terminal({idx:n,terminalType:t,label:r==null?void 0:r.LABEL});return i.definition.push(o),ic},e}();Wa.GastRecorder=uN;function Jn(e,t,n,r){r===void 0&&(r=!1),ia(n);var a=(0,aa.default)(this.recordingProdStack),i=(0,tc.default)(t)?t:t.DEF,o=new e({definition:[],idx:n});return r&&(o.separator=t.SEP),(0,ir.default)(t,"MAX_LOOKAHEAD")&&(o.maxLookahead=t.MAX_LOOKAHEAD),this.recordingProdStack.push(o),i.call(this),a.definition.push(o),this.recordingProdStack.pop(),Va}function lN(e,t){var n=this;ia(t);var r=(0,aa.default)(this.recordingProdStack),a=(0,tN.default)(e)===!1,i=a===!1?e:e.DEF,o=new Ot.Alternation({definition:[],idx:t,ignoreAmbiguities:a&&e.IGNORE_AMBIGUITIES===!0});(0,ir.default)(e,"MAX_LOOKAHEAD")&&(o.maxLookahead=e.MAX_LOOKAHEAD);var u=(0,nN.default)(i,function(s){return(0,tc.default)(s.GATE)});return o.hasPredicates=u,r.definition.push(o),(0,rN.default)(i,function(s){var l=new Ot.Alternative({definition:[]});o.definition.push(l),(0,ir.default)(s,"IGNORE_AMBIGUITIES")?l.ignoreAmbiguities=s.IGNORE_AMBIGUITIES:(0,ir.default)(s,"GATE")&&(l.ignoreAmbiguities=!0),n.recordingProdStack.push(l),s.ALT.call(n),n.recordingProdStack.pop()}),Va}function zs(e){return e===0?"":"".concat(e)}function ia(e){if(e<0||e>Ks){var t=new Error("Invalid DSL Method idx value: <".concat(e,`>
	`)+"Idx value must be a none negative value smaller than ".concat(Ks+1));throw t.KNOWN_RECORDER_ERROR=!0,t}}var Ka={},cN=k&&k.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ka,"__esModule",{value:!0});Ka.PerformanceTracer=void 0;var fN=cN(ft),dN=Gn,hN=at,pN=function(){function e(){}return e.prototype.initPerformanceTracer=function(t){if((0,fN.default)(t,"traceInitPerf")){var n=t.traceInitPerf,r=typeof n=="number";this.traceInitMaxIdent=r?n:1/0,this.traceInitPerf=r?n>0:n}else this.traceInitMaxIdent=0,this.traceInitPerf=hN.DEFAULT_PARSER_CONFIG.traceInitPerf;this.traceInitIndent=-1},e.prototype.TRACE_INIT=function(t,n){if(this.traceInitPerf===!0){this.traceInitIndent++;var r=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log("".concat(r,"--> <").concat(t,">"));var a=(0,dN.timer)(n),i=a.time,o=a.value,u=i>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&u("".concat(r,"<-- <").concat(t,"> time: ").concat(i,"ms")),this.traceInitIndent--,o}else return n()},e}();Ka.PerformanceTracer=pN;var za={};Object.defineProperty(za,"__esModule",{value:!0});za.applyMixins=void 0;function vN(e,t){t.forEach(function(n){var r=n.prototype;Object.getOwnPropertyNames(r).forEach(function(a){if(a!=="constructor"){var i=Object.getOwnPropertyDescriptor(r,a);i&&(i.get||i.set)?Object.defineProperty(e.prototype,a,i):e.prototype[a]=n.prototype[a]}})})}za.applyMixins=vN;(function(e){var t=k&&k.__extends||function(){var w=function(x,W){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,P){R.__proto__=P}||function(R,P){for(var N in P)Object.prototype.hasOwnProperty.call(P,N)&&(R[N]=P[N])},w(x,W)};return function(x,W){if(typeof W!="function"&&W!==null)throw new TypeError("Class extends value "+String(W)+" is not a constructor or null");w(x,W);function R(){this.constructor=x}x.prototype=W===null?Object.create(W):(R.prototype=W.prototype,new R)}}(),n=k&&k.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(e,"__esModule",{value:!0}),e.EmbeddedActionsParser=e.CstParser=e.Parser=e.EMPTY_ALT=e.ParserDefinitionErrorType=e.DEFAULT_RULE_CONFIG=e.DEFAULT_PARSER_CONFIG=e.END_OF_FILE=void 0;var r=n(Lt),a=n(nt),i=n(Ve),o=n(Vt),u=n(ft),s=n(en),l=Gn,f=Rt,c=vn,v=wr,p=Nn,_=Eo,d=$n,E=wa,A=Fa,O=Ua,y=Ga,b=ja,C=Ba,m=Wa,g=Ka,T=za;e.END_OF_FILE=(0,c.createTokenInstance)(c.EOF,"",NaN,NaN,NaN,NaN,NaN,NaN),Object.freeze(e.END_OF_FILE),e.DEFAULT_PARSER_CONFIG=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:v.defaultParserErrorProvider,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),e.DEFAULT_RULE_CONFIG=Object.freeze({recoveryValueFunc:function(){},resyncEnabled:!0}),function(w){w[w.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",w[w.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",w[w.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",w[w.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",w[w.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",w[w.LEFT_RECURSION=5]="LEFT_RECURSION",w[w.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",w[w.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",w[w.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",w[w.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",w[w.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",w[w.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",w[w.TOO_MANY_ALTS=12]="TOO_MANY_ALTS"}(e.ParserDefinitionErrorType||(e.ParserDefinitionErrorType={}));function h(w){return w===void 0&&(w=void 0),function(){return w}}e.EMPTY_ALT=h;var S=function(){function w(x,W){this.definitionErrors=[],this.selfAnalysisDone=!1;var R=this;if(R.initErrorHandler(W),R.initLexerAdapter(),R.initLooksAhead(W),R.initRecognizerEngine(x,W),R.initRecoverable(W),R.initTreeBuilder(W),R.initContentAssist(),R.initGastRecorder(W),R.initPerformanceTracer(W),(0,u.default)(W,"ignoredIssues"))throw new Error(`The <ignoredIssues> IParserConfig property has been deprecated.
	Please use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.
	See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES
	For further details.`);this.skipValidations=(0,u.default)(W,"skipValidations")?W.skipValidations:e.DEFAULT_PARSER_CONFIG.skipValidations}return w.performSelfAnalysis=function(x){throw Error("The **static** `performSelfAnalysis` method has been deprecated.	\nUse the **instance** method with the same name instead.")},w.prototype.performSelfAnalysis=function(){var x=this;this.TRACE_INIT("performSelfAnalysis",function(){var W;x.selfAnalysisDone=!0;var R=x.className;x.TRACE_INIT("toFastProps",function(){(0,l.toFastProperties)(x)}),x.TRACE_INIT("Grammar Recording",function(){try{x.enableRecording(),(0,i.default)(x.definedRulesNames,function(N){var j=x[N],B=j.originalGrammarAction,V;x.TRACE_INIT("".concat(N," Rule"),function(){V=x.topLevelRuleRecord(N,B)}),x.gastProductionsCache[N]=V})}finally{x.disableRecording()}});var P=[];if(x.TRACE_INIT("Grammar Resolving",function(){P=(0,p.resolveGrammar)({rules:(0,o.default)(x.gastProductionsCache)}),x.definitionErrors=x.definitionErrors.concat(P)}),x.TRACE_INIT("Grammar Validations",function(){if((0,r.default)(P)&&x.skipValidations===!1){var N=(0,p.validateGrammar)({rules:(0,o.default)(x.gastProductionsCache),maxLookahead:x.maxLookahead,tokenTypes:(0,o.default)(x.tokensMap),errMsgProvider:v.defaultGrammarValidatorErrorProvider,grammarName:R});x.definitionErrors=x.definitionErrors.concat(N)}}),(0,r.default)(x.definitionErrors)&&(x.recoveryEnabled&&x.TRACE_INIT("computeAllProdsFollows",function(){var N=(0,f.computeAllProdsFollows)((0,o.default)(x.gastProductionsCache));x.resyncFollows=N}),x.TRACE_INIT("ComputeLookaheadFunctions",function(){x.preComputeLookaheadFunctions((0,o.default)(x.gastProductionsCache))})),!w.DEFER_DEFINITION_ERRORS_HANDLING&&!(0,r.default)(x.definitionErrors))throw W=(0,a.default)(x.definitionErrors,function(N){return N.message}),new Error(`Parser Definition Errors detected:
 `.concat(W.join(`
-------------------------------
`)))})},w.DEFER_DEFINITION_ERRORS_HANDLING=!1,w}();e.Parser=S,(0,T.applyMixins)(S,[_.Recoverable,d.LooksAhead,E.TreeBuilder,A.LexerAdapter,y.RecognizerEngine,O.RecognizerApi,b.ErrorHandler,C.ContentAssist,m.GastRecorder,g.PerformanceTracer]);var U=function(w){t(x,w);function x(W,R){R===void 0&&(R=e.DEFAULT_PARSER_CONFIG);var P=(0,s.default)(R);return P.outputCst=!0,w.call(this,W,P)||this}return x}(S);e.CstParser=U;var K=function(w){t(x,w);function x(W,R){R===void 0&&(R=e.DEFAULT_PARSER_CONFIG);var P=(0,s.default)(R);return P.outputCst=!1,w.call(this,W,P)||this}return x}(S);e.EmbeddedActionsParser=K})(at);var Ha={},Ya={},_N=k&&k.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(r[i]=a[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Kn=k&&k.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ya,"__esModule",{value:!0});Ya.buildModel=void 0;var oc=Le,tr=Kn(nt),gN=Kn(Ht),mN=Kn(Vt),yN=Kn(Qi),EN=Kn(Rl),TN=Kn(Ia);function AN(e){var t=new bN,n=(0,mN.default)(e);return(0,tr.default)(n,function(r){return t.visitRule(r)})}Ya.buildModel=AN;var bN=function(e){_N(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.visitRule=function(n){var r=this.visitEach(n.definition),a=(0,EN.default)(r,function(o){return o.propertyName}),i=(0,tr.default)(a,function(o,u){var s=!(0,yN.default)(o,function(f){return!f.canBeNull}),l=o[0].type;return o.length>1&&(l=(0,tr.default)(o,function(f){return f.type})),{name:u,type:l,optional:s}});return{name:n.name,properties:i}},t.prototype.visitAlternative=function(n){return this.visitEachAndOverrideWith(n.definition,{canBeNull:!0})},t.prototype.visitOption=function(n){return this.visitEachAndOverrideWith(n.definition,{canBeNull:!0})},t.prototype.visitRepetition=function(n){return this.visitEachAndOverrideWith(n.definition,{canBeNull:!0})},t.prototype.visitRepetitionMandatory=function(n){return this.visitEach(n.definition)},t.prototype.visitRepetitionMandatoryWithSeparator=function(n){return this.visitEach(n.definition).concat({propertyName:n.separator.name,canBeNull:!0,type:Hr(n.separator)})},t.prototype.visitRepetitionWithSeparator=function(n){return this.visitEachAndOverrideWith(n.definition,{canBeNull:!0}).concat({propertyName:n.separator.name,canBeNull:!0,type:Hr(n.separator)})},t.prototype.visitAlternation=function(n){return this.visitEachAndOverrideWith(n.definition,{canBeNull:!0})},t.prototype.visitTerminal=function(n){return[{propertyName:n.label||n.terminalType.name,canBeNull:!1,type:Hr(n)}]},t.prototype.visitNonTerminal=function(n){return[{propertyName:n.label||n.nonTerminalName,canBeNull:!1,type:Hr(n)}]},t.prototype.visitEachAndOverrideWith=function(n,r){return(0,tr.default)(this.visitEach(n),function(a){return(0,TN.default)({},a,r)})},t.prototype.visitEach=function(n){var r=this;return(0,gN.default)((0,tr.default)(n,function(a){return r.visit(a)}))},t}(oc.GAstVisitor);function Hr(e){return e instanceof oc.NonTerminal?{kind:"rule",name:e.referencedRule.name}:{kind:"token"}}var Xa={},ON=Xi;function RN(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:ON(e,t,n)}var IN=RN,SN="\\ud800-\\udfff",NN="\\u0300-\\u036f",PN="\\ufe20-\\ufe2f",CN="\\u20d0-\\u20ff",$N=NN+PN+CN,LN="\\ufe0e\\ufe0f",kN="\\u200d",MN=RegExp("["+kN+SN+$N+LN+"]");function wN(e){return MN.test(e)}var sc=wN;function xN(e){return e.split("")}var DN=xN,uc="\\ud800-\\udfff",FN="\\u0300-\\u036f",UN="\\ufe20-\\ufe2f",GN="\\u20d0-\\u20ff",jN=FN+UN+GN,BN="\\ufe0e\\ufe0f",WN="["+uc+"]",Ii="["+jN+"]",Si="\\ud83c[\\udffb-\\udfff]",VN="(?:"+Ii+"|"+Si+")",lc="[^"+uc+"]",cc="(?:\\ud83c[\\udde6-\\uddff]){2}",fc="[\\ud800-\\udbff][\\udc00-\\udfff]",KN="\\u200d",dc=VN+"?",hc="["+BN+"]?",zN="(?:"+KN+"(?:"+[lc,cc,fc].join("|")+")"+hc+dc+")*",HN=hc+dc+zN,YN="(?:"+[lc+Ii+"?",Ii,cc,fc,WN].join("|")+")",XN=RegExp(Si+"(?="+Si+")|"+YN+HN,"g");function qN(e){return e.match(XN)||[]}var ZN=qN,QN=DN,JN=sc,eP=ZN;function tP(e){return JN(e)?eP(e):QN(e)}var nP=tP,rP=IN,aP=sc,iP=nP,oP=Fu;function sP(e){return function(t){t=oP(t);var n=aP(t)?iP(t):void 0,r=n?n[0]:t.charAt(0),a=n?rP(n,1).join(""):t.slice(1);return r[e]()+a}}var uP=sP,lP=uP,cP=lP("toUpperCase"),fP=cP,zn=k&&k.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Xa,"__esModule",{value:!0});Xa.genDts=void 0;var dP=zn(Ht),hP=zn(me),qa=zn(nt),pP=zn(_n),vP=zn(ro),pc=zn(fP);function _P(e,t){var n=[];return n=n.concat('import type { CstNode, ICstVisitor, IToken } from "chevrotain";'),n=n.concat((0,dP.default)((0,qa.default)(e,function(r){return gP(r)}))),t.includeVisitorInterface&&(n=n.concat(TP(t.visitorInterfaceName,e))),n.join(`

`)+`
`}Xa.genDts=_P;function gP(e){var t=mP(e),n=yP(e);return[t,n]}function mP(e){var t=vc(e.name),n=To(e.name);return"export interface ".concat(t,` extends CstNode {
  name: "`).concat(e.name,`";
  children: `).concat(n,`;
}`)}function yP(e){var t=To(e.name);return"export type ".concat(t,` = {
  `).concat((0,qa.default)(e.properties,function(n){return EP(n)}).join(`
  `),`
};`)}function EP(e){var t=bP(e.type);return"".concat(e.name).concat(e.optional?"?":"",": ").concat(t,"[];")}function TP(e,t){return"export interface ".concat(e,`<IN, OUT> extends ICstVisitor<IN, OUT> {
  `).concat((0,qa.default)(t,function(n){return AP(n)}).join(`
  `),`
}`)}function AP(e){var t=To(e.name);return"".concat(e.name,"(children: ").concat(t,", param?: IN): OUT;")}function bP(e){if((0,hP.default)(e)){var t=(0,vP.default)((0,qa.default)(e,function(r){return Hs(r)})),n=(0,pP.default)(t,function(r,a){return r+" | "+a});return"("+n+")"}else return Hs(e)}function Hs(e){return e.kind==="token"?"IToken":vc(e.name)}function vc(e){return(0,pc.default)(e)+"CstNode"}function To(e){return(0,pc.default)(e)+"CstChildren"}var oa=k&&k.__assign||function(){return oa=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},oa.apply(this,arguments)};Object.defineProperty(Ha,"__esModule",{value:!0});Ha.generateCstDts=void 0;var OP=Ya,RP=Xa,IP={includeVisitorInterface:!0,visitorInterfaceName:"ICstNodeVisitor"};function SP(e,t){var n=oa(oa({},IP),t),r=(0,OP.buildModel)(e);return(0,RP.genDts)(r,n)}Ha.generateCstDts=SP;var Za={};Object.defineProperty(Za,"__esModule",{value:!0});Za.createSyntaxDiagramsCode=void 0;var Ys=Er;function NP(e,t){var n=t===void 0?{}:t,r=n.resourceBase,a=r===void 0?"https://unpkg.com/chevrotain@".concat(Ys.VERSION,"/diagrams/"):r,i=n.css,o=i===void 0?"https://unpkg.com/chevrotain@".concat(Ys.VERSION,"/diagrams/diagrams.css"):i,u=`
<!-- This is a generated file -->
<!DOCTYPE html>
<meta charset="utf-8">
<style>
  body {
    background-color: hsl(30, 20%, 95%)
  }
</style>

`,s=`
<link rel='stylesheet' href='`.concat(o,`'>
`),l=`
<script src='`.concat(a,`vendor/railroad-diagrams.js'><\/script>
<script src='`).concat(a,`src/diagrams_builder.js'><\/script>
<script src='`).concat(a,`src/diagrams_behavior.js'><\/script>
<script src='`).concat(a,`src/main.js'><\/script>
`),f=`
<div id="diagrams" align="center"></div>    
`,c=`
<script>
    window.serializedGrammar = `.concat(JSON.stringify(e,null,"  "),`;
<\/script>
`),v=`
<script>
    var diagramsDiv = document.getElementById("diagrams");
    main.drawDiagramsFromSerializedGrammar(serializedGrammar, diagramsDiv);
<\/script>
`;return u+s+l+f+c+v}Za.createSyntaxDiagramsCode=NP;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Parser=e.createSyntaxDiagramsCode=e.clearCache=e.generateCstDts=e.GAstVisitor=e.serializeProduction=e.serializeGrammar=e.Terminal=e.Rule=e.RepetitionWithSeparator=e.RepetitionMandatoryWithSeparator=e.RepetitionMandatory=e.Repetition=e.Option=e.NonTerminal=e.Alternative=e.Alternation=e.defaultLexerErrorProvider=e.NoViableAltException=e.NotAllInputParsedException=e.MismatchedTokenException=e.isRecognitionException=e.EarlyExitException=e.defaultParserErrorProvider=e.tokenName=e.tokenMatcher=e.tokenLabel=e.EOF=e.createTokenInstance=e.createToken=e.LexerDefinitionErrorType=e.Lexer=e.EMPTY_ALT=e.ParserDefinitionErrorType=e.EmbeddedActionsParser=e.CstParser=e.VERSION=void 0;var t=Er;Object.defineProperty(e,"VERSION",{enumerable:!0,get:function(){return t.VERSION}});var n=at;Object.defineProperty(e,"CstParser",{enumerable:!0,get:function(){return n.CstParser}}),Object.defineProperty(e,"EmbeddedActionsParser",{enumerable:!0,get:function(){return n.EmbeddedActionsParser}}),Object.defineProperty(e,"ParserDefinitionErrorType",{enumerable:!0,get:function(){return n.ParserDefinitionErrorType}}),Object.defineProperty(e,"EMPTY_ALT",{enumerable:!0,get:function(){return n.EMPTY_ALT}});var r=Lr;Object.defineProperty(e,"Lexer",{enumerable:!0,get:function(){return r.Lexer}}),Object.defineProperty(e,"LexerDefinitionErrorType",{enumerable:!0,get:function(){return r.LexerDefinitionErrorType}});var a=vn;Object.defineProperty(e,"createToken",{enumerable:!0,get:function(){return a.createToken}}),Object.defineProperty(e,"createTokenInstance",{enumerable:!0,get:function(){return a.createTokenInstance}}),Object.defineProperty(e,"EOF",{enumerable:!0,get:function(){return a.EOF}}),Object.defineProperty(e,"tokenLabel",{enumerable:!0,get:function(){return a.tokenLabel}}),Object.defineProperty(e,"tokenMatcher",{enumerable:!0,get:function(){return a.tokenMatcher}}),Object.defineProperty(e,"tokenName",{enumerable:!0,get:function(){return a.tokenName}});var i=wr;Object.defineProperty(e,"defaultParserErrorProvider",{enumerable:!0,get:function(){return i.defaultParserErrorProvider}});var o=We;Object.defineProperty(e,"EarlyExitException",{enumerable:!0,get:function(){return o.EarlyExitException}}),Object.defineProperty(e,"isRecognitionException",{enumerable:!0,get:function(){return o.isRecognitionException}}),Object.defineProperty(e,"MismatchedTokenException",{enumerable:!0,get:function(){return o.MismatchedTokenException}}),Object.defineProperty(e,"NotAllInputParsedException",{enumerable:!0,get:function(){return o.NotAllInputParsedException}}),Object.defineProperty(e,"NoViableAltException",{enumerable:!0,get:function(){return o.NoViableAltException}});var u=Mr;Object.defineProperty(e,"defaultLexerErrorProvider",{enumerable:!0,get:function(){return u.defaultLexerErrorProvider}});var s=Le;Object.defineProperty(e,"Alternation",{enumerable:!0,get:function(){return s.Alternation}}),Object.defineProperty(e,"Alternative",{enumerable:!0,get:function(){return s.Alternative}}),Object.defineProperty(e,"NonTerminal",{enumerable:!0,get:function(){return s.NonTerminal}}),Object.defineProperty(e,"Option",{enumerable:!0,get:function(){return s.Option}}),Object.defineProperty(e,"Repetition",{enumerable:!0,get:function(){return s.Repetition}}),Object.defineProperty(e,"RepetitionMandatory",{enumerable:!0,get:function(){return s.RepetitionMandatory}}),Object.defineProperty(e,"RepetitionMandatoryWithSeparator",{enumerable:!0,get:function(){return s.RepetitionMandatoryWithSeparator}}),Object.defineProperty(e,"RepetitionWithSeparator",{enumerable:!0,get:function(){return s.RepetitionWithSeparator}}),Object.defineProperty(e,"Rule",{enumerable:!0,get:function(){return s.Rule}}),Object.defineProperty(e,"Terminal",{enumerable:!0,get:function(){return s.Terminal}});var l=Le;Object.defineProperty(e,"serializeGrammar",{enumerable:!0,get:function(){return l.serializeGrammar}}),Object.defineProperty(e,"serializeProduction",{enumerable:!0,get:function(){return l.serializeProduction}}),Object.defineProperty(e,"GAstVisitor",{enumerable:!0,get:function(){return l.GAstVisitor}});var f=Ha;Object.defineProperty(e,"generateCstDts",{enumerable:!0,get:function(){return f.generateCstDts}});function c(){console.warn(`The clearCache function was 'soft' removed from the Chevrotain API.
	 It performs no action other than printing this message.
	 Please avoid using it as it will be completely removed in the future`)}e.clearCache=c;var v=Za;Object.defineProperty(e,"createSyntaxDiagramsCode",{enumerable:!0,get:function(){return v.createSyntaxDiagramsCode}});var p=function(){function _(){throw new Error(`The Parser class has been deprecated, use CstParser or EmbeddedActionsParser instead.	
See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_7-0-0`)}return _}();e.Parser=p})(Li);(function(e){e.__esModule=!0,e.ArnaLexer=e.languageTokens=void 0;var t=Li,n=t.createToken,r=t.Lexer,a=n({name:"WhiteSpace",pattern:/\s+/,group:t.Lexer.SKIPPED}),i=n({name:"Identifier",pattern:/[a-zA-Z0-9#]\w*/}),o=n({name:"Graph",pattern:/GRAPH/i,longer_alt:i}),u=n({name:"Bundle",pattern:/BUNDLE/i,longer_alt:i}),s=n({name:"Color",pattern:/COLOR/i,longer_alt:i}),l=n({name:"Label",pattern:/LABEL/i,longer_alt:i}),f=n({name:"LineWidth",pattern:/LINE-WIDTH/i,longer_alt:i}),c=n({name:"FontSize",pattern:/FONT-SIZE/i,longer_alt:i}),v=n({name:"Font",pattern:/PLONT/i,longer_alt:i}),p=n({name:"EdgeUndirected",pattern:/--/}),_=n({name:"EdgeDirected",pattern:/->/}),d=n({name:"OpenBracket",pattern:/\[/}),E=n({name:"CloseBracket",pattern:/\]/}),A=n({name:"Equal",pattern:/=/}),O=n({name:"Comma",pattern:/,/}),y=n({name:"DoubleQuotedString",pattern:/".*?"/}),b=n({name:"OpenCurlyBrace",pattern:/{/}),C=n({name:"CloseCurlyBrace",pattern:/}/}),m=n({name:"Variable",pattern:/[a-zA-Z]+/}),g=n({name:"SingleLineComment",pattern:/\/\/.+/,group:"comments"});e.languageTokens={WhiteSpace:a,Color:s,Label:l,LineWidth:f,FontSize:c,Font:v,Bundle:u,Graph:o,Identifier:i,EdgeUndirected:p,EdgeDirected:_,Equal:A,Comma:O,DoubleQuotedString:y,OpenBracket:d,CloseBracket:E,OpenCurlyBrace:b,CloseCurlyBrace:C,SingleLineComment:g,Variable:m};var T=new r(Object.values(e.languageTokens));e.ArnaLexer={languageTokens:e.languageTokens,tokenize:function(h){var S=T.tokenize(h);return S.errors.length>0&&console.error("Lexing errors detected."),S}}})($i);var cn={},PP=k&&k.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(r[i]=a[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();cn.__esModule=!0;cn.ArnaParser=cn.ArnaCstParser=void 0;var CP=Li,ve=$i,_c=function(e){PP(t,e);function t(){var n=e.call(this,ve.languageTokens)||this;return n.bundleKeyValue=n.RULE("bundleKeyValue",function(){n.CONSUME(ve.languageTokens.Bundle)}),n.colorKeyValue=n.RULE("colorKeyValue",function(){n.CONSUME(ve.languageTokens.Color),n.CONSUME(ve.languageTokens.Equal),n.OR([{ALT:function(){return n.CONSUME(ve.languageTokens.DoubleQuotedString)}},{ALT:function(){return n.CONSUME(ve.languageTokens.Identifier)}}])}),n.labelKeyValue=n.RULE("labelKeyValue",function(){n.CONSUME(ve.languageTokens.Label),n.CONSUME(ve.languageTokens.Equal),n.CONSUME(ve.languageTokens.DoubleQuotedString)}),n.lineWidthKeyValue=n.RULE("lineWidthKeyValue",function(){n.CONSUME(ve.languageTokens.LineWidth),n.CONSUME(ve.languageTokens.Equal),n.CONSUME(ve.languageTokens.Identifier)}),n.fontKeyValue=n.RULE("fontKeyValue",function(){n.CONSUME(ve.languageTokens.Font),n.CONSUME(ve.languageTokens.Equal),n.CONSUME(ve.languageTokens.DoubleQuotedString)}),n.fontSizeKeyValue=n.RULE("fontSizeKeyValue",function(){n.CONSUME(ve.languageTokens.FontSize),n.CONSUME(ve.languageTokens.Equal),n.CONSUME(ve.languageTokens.DoubleQuotedString)}),n.keyValuePair=n.RULE("keyValuePair",function(){n.OR([{ALT:function(){return n.SUBRULE(n.bundleKeyValue)}},{ALT:function(){return n.SUBRULE(n.colorKeyValue)}},{ALT:function(){return n.SUBRULE(n.labelKeyValue)}},{ALT:function(){return n.SUBRULE(n.lineWidthKeyValue)}},{ALT:function(){return n.SUBRULE(n.fontKeyValue)}},{ALT:function(){return n.SUBRULE(n.fontSizeKeyValue)}}])}),n.attribute=n.RULE("attribute",function(){n.CONSUME(ve.languageTokens.OpenBracket),n.OPTION(function(){n.MANY_SEP({SEP:ve.languageTokens.Comma,DEF:function(){n.SUBRULE(n.keyValuePair)}})}),n.CONSUME(ve.languageTokens.CloseBracket)}),n.nodeDeclaration=n.RULE("nodeDeclaration",function(){n.CONSUME(ve.languageTokens.Identifier),n.OPTION2(function(){n.SUBRULE(n.attribute)})}),n.edgeDeclaration=n.RULE("edgeDeclaration",function(){n.CONSUME(ve.languageTokens.Identifier),n.OR([{ALT:function(){return n.CONSUME(ve.languageTokens.EdgeUndirected)}},{ALT:function(){return n.CONSUME2(ve.languageTokens.EdgeDirected)}}]),n.CONSUME2(ve.languageTokens.Identifier),n.OPTION2(function(){n.SUBRULE(n.attribute)})}),n.document=n.RULE("document",function(){n.CONSUME(ve.languageTokens.Graph),n.CONSUME(ve.languageTokens.Identifier),n.OPTION1(function(){n.SUBRULE(n.attribute)}),n.CONSUME(ve.languageTokens.OpenCurlyBrace),n.OPTION2(function(){n.MANY(function(){n.OR([{ALT:function(){return n.SUBRULE(n.edgeDeclaration)}},{ALT:function(){return n.SUBRULE(n.nodeDeclaration)}}])})}),n.CONSUME(ve.languageTokens.CloseCurlyBrace)}),n.performSelfAnalysis(),n}return t}(CP.CstParser);cn.ArnaCstParser=_c;cn.ArnaParser=new _c;var Wt={},gc={},mc={},Ao={};(function(e){e.__esModule=!0;var t=function(){function n(){}return n.vectorDotProduct=function(r,a){return r.x*a.x+r.y+a.y},n.edgeToVector=function(r,a){return{x:a.x-r.x,y:a.y-r.y}},n.edgeLength=function(r,a,i){return Math.abs(r.x-a.x)<i&&Math.abs(r.y-a.y)<i?i:Math.sqrt(Math.pow(r.x-a.x,2)+Math.pow(r.y-a.y,2))},n.edgeMidpoint=function(r,a){return{x:(r.x+a.x)/2,y:(r.y+a.y)/2}},n.euclideanDistance=function(r,a){return Math.sqrt(Math.pow(r.x-a.x,2)+Math.pow(r.y-a.y,2))},n.dividedEdgeLength=function(r){return r.reduce(function(a,i,o){return o===0?0:a+n.euclideanDistance(r[o],r[o-1])},0)},n.projectPointOnLine=function(r,a,i){var o=Math.sqrt(Math.pow(i.x-a.x,2)+Math.pow(i.y-a.y,2)),u=((a.y-r.y)*(a.y-i.y)-(a.x-r.x)*(i.x-a.x))/Math.pow(o,2);return{x:a.x+u*(i.x-a.x),y:a.y+u*(i.y-a.y)}},n}();e.default=t})(Ao);var yc={};(function(e){e.__esModule=!0;var t=Ao,n=function(){function r(){}return r.applySpringForce=function(a,i,o){var u=a[i-1],s=a[i+1],l=a[i];return{x:o*(u.x-l.x+s.x-l.x),y:o*(u.y-l.y+s.y-l.y)}},r.applyElectrostaticForce=function(a,i,o,u,s){return i[o].reduce(function(l,f){var c={x:a[f][u].x-a[o][u].x,y:a[f][u].y-a[o][u].y};if(Math.abs(c.x)>s||Math.abs(c.y)>s){var v=a[f][u],p=a[o][u],_=1/t.default.edgeLength(v,p,-1/0);return{x:l.x+c.x*_,y:l.y+c.y*_}}return{x:l.x,y:l.y}},{x:0,y:0})},r.applyForcesOnEdgeSubdivisionPoints=function(a,i,o,u,s,l,f,c){for(var v=a[s],p=c.bundlingStiffness/(t.default.edgeLength(i[v.tail],i[v.head],c.error)*(l+1)),_=[{x:0,y:0}],d=1;d<l+1;d++){var E={x:0,y:0},A=r.applySpringForce(o[s],d,p),O=r.applyElectrostaticForce(o,u,s,d,f);E.x=f*(A.x+O.x),E.y=f*(A.y+O.y),_.push(E)}return _.push({x:0,y:0}),_},r}();e.default=n})(yc);(function(e){var t=k&&k.__assign||function(){return t=Object.assign||function(u){for(var s,l=1,f=arguments.length;l<f;l++){s=arguments[l];for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(u[c]=s[c])}return u},t.apply(this,arguments)},n=k&&k.__spreadArray||function(u,s,l){if(l||arguments.length===2)for(var f=0,c=s.length,v;f<c;f++)(v||!(f in s))&&(v||(v=Array.prototype.slice.call(s,0,f)),v[f]=s[f]);return u.concat(v||Array.prototype.slice.call(s))};e.__esModule=!0;var r=Ao,a=yc,i={bundlingStiffness:.1,initialStepSize:.1,initialSubdivision:1,subdivisionRate:2,cycleCount:6,initialIterationCount:90,iterationDecreaseRate:2/3,compatabilityThreshold:.6,error:1e-6},o=function(){function u(s,l,f){this.edgeSubdivisionPoints=[],this.edgeCompatabilityList=[],this.nodeData=s,this.edgeData=l,this.parameters=i,f!==void 0&&(this.parameters=t(t({},i),f)),this.filterInvalidEdges()}return u.prototype.initEdgeSubdivisionPoints=function(){var s=this;this.edgeData.forEach(function(l,f){s.parameters.initialSubdivision===1?s.edgeSubdivisionPoints[f]=[]:(s.edgeSubdivisionPoints[f]=[],s.edgeSubdivisionPoints[f].push(s.nodeData[l.tail]),s.edgeSubdivisionPoints[f].push(s.nodeData[l.head]))})},u.prototype.initEdgeCompatabilityList=function(){var s=this;this.edgeData.forEach(function(l,f){s.edgeCompatabilityList[f]=[]})},u.prototype.filterInvalidEdges=function(){var s=this;return this.edgeData.filter(function(l){return s.nodeData[l.tail].x!==s.nodeData[l.head].x||s.nodeData[l.tail].y!==s.nodeData[l.head].y})},u.prototype.updateEdgeSubdivisions=function(s){var l=this;this.edgeData.forEach(function(f,c){if(s===1)l.edgeSubdivisionPoints[c].push(l.nodeData[f.tail]),l.edgeSubdivisionPoints[c].push(r.default.edgeMidpoint(l.nodeData[f.tail],l.nodeData[f.head])),l.edgeSubdivisionPoints[c].push(l.nodeData[f.head]);else{for(var v=r.default.dividedEdgeLength(l.edgeSubdivisionPoints[c]),p=v/(s+1),_=[l.nodeData[f.tail]],d=p,E=l.edgeSubdivisionPoints[c],A=1;A<E.length;A++){for(var O=E[A],y=r.default.euclideanDistance(O,l.edgeSubdivisionPoints[c][A-1]);y>d;){var b=d/y,C=l.edgeSubdivisionPoints[c][A-1],m={x:C.x+b*(O.x-C.x),y:C.y+b*(O.y-C.y)};_.push(m),y-=d,d=p}d-=y}_.push(l.nodeData[l.edgeData[c].head]),l.edgeSubdivisionPoints[c]=_}})},u.prototype.angleCompatibility=function(s,l){var f=this.nodeData[s.tail],c=this.nodeData[s.head],v=this.nodeData[l.tail],p=this.nodeData[l.head],_=this.parameters.error,d=r.default.edgeLength(f,c,_)*r.default.edgeLength(v,p,_),E=r.default.vectorDotProduct(r.default.edgeToVector(f,c),r.default.edgeToVector(v,p));return Math.abs(E/d)},u.prototype.scaleCompatability=function(s,l){var f=this.nodeData[s.tail],c=this.nodeData[s.head],v=this.nodeData[l.tail],p=this.nodeData[l.head],_=this.parameters.error,d=r.default.edgeLength(f,c,_),E=r.default.edgeLength(v,p,_),A=(d+E)/2;return 2/(A/Math.min(d,E)+Math.max(d,E)/A)},u.prototype.positionCompatibility=function(s,l){var f=this.nodeData[s.tail],c=this.nodeData[s.head],v=this.nodeData[l.tail],p=this.nodeData[l.head],_=this.parameters.error,d=r.default.edgeLength(f,c,_),E=r.default.edgeLength(v,p,_),A=(d+E)/2,O=r.default.edgeMidpoint(f,c),y=r.default.edgeMidpoint(v,p),b=r.default.euclideanDistance(O,y);return A/(A+b)},u.prototype.edgeVisibility=function(s,l){var f=this.nodeData[s.tail],c=this.nodeData[s.head],v=this.nodeData[l.tail],p=this.nodeData[l.head],_=r.default.projectPointOnLine(v,f,c),d=r.default.projectPointOnLine(p,f,c),E=r.default.edgeMidpoint(_,d),A=r.default.edgeMidpoint(f,c),O=r.default.euclideanDistance(A,E),y=r.default.euclideanDistance(_,d);return Math.max(0,1-2*O/y)},u.prototype.visibilityCompatibility=function(s,l){return Math.min(this.edgeVisibility(s,l),this.edgeVisibility(l,s))},u.prototype.compatibilityScore=function(s,l){return this.angleCompatibility(s,l)*this.scaleCompatability(s,l)*this.positionCompatibility(s,l)*this.visibilityCompatibility(s,l)},u.prototype.isCompatible=function(s,l){return this.compatibilityScore(s,l)>=this.parameters.compatabilityThreshold},u.prototype.updateCompatibilityList=function(){for(var s=0;s<this.edgeData.length-1;s++)for(var l=s+1;l<this.edgeData.length;l++)this.isCompatible(this.edgeData[s],this.edgeData[l])&&(this.edgeCompatabilityList[s].push(l),this.edgeCompatabilityList[l].push(s))},u.prototype.bundle=function(){var s=this,l=this.parameters.initialStepSize,f=this.parameters.initialIterationCount,c=this.parameters.initialSubdivision;return this.initEdgeSubdivisionPoints(),this.initEdgeCompatabilityList(),this.updateEdgeSubdivisions(c),this.updateCompatibilityList(),n([],Array(this.parameters.cycleCount),!0).forEach(function(){n([],Array(Math.round(f)),!0).forEach(function(){var v=s.edgeData.map(function(p,_){return a.default.applyForcesOnEdgeSubdivisionPoints(s.edgeData,s.nodeData,s.edgeSubdivisionPoints,s.edgeCompatabilityList,_,c,l,s.parameters)});s.edgeData.forEach(function(p,_){n([],Array(c+1),!0).forEach(function(d,E){var A=v[_][E].x,O=v[_][E].y;s.edgeSubdivisionPoints[_][E].x+=A,s.edgeSubdivisionPoints[_][E].y+=O})})}),l/=2,c*=s.parameters.subdivisionRate,f*=s.parameters.iterationDecreaseRate,s.updateEdgeSubdivisions(c)}),this.edgeSubdivisionPoints},u}();e.default=o})(mc);(function(e){e.__esModule=!0;var t=mc;e.default=t.default})(gc);var fn={},sa=k&&k.__assign||function(){return sa=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},sa.apply(this,arguments)};fn.__esModule=!0;fn.ConcreteSyntaxTree=fn.Graph=void 0;var $P=500,LP=6,kP=2,MP=.01,wP=.5,Xs={bundle:!1,maxTicks:$P,maxRepulsiveDistance:LP,optimalDistance:kP,c:MP,maxVertexDisplacement:wP},xP=function(){function e(t,n,r){this.nodes=t,this.edges=n,this.parameters=Xs,r!==void 0&&(this.parameters=e.buildParameters(r))}return e.buildParameters=function(t){return sa(sa({},Xs),t)},e}();fn.Graph=xP;var DP=function(){function e(t){this.rootNode=t}return e}();fn.ConcreteSyntaxTree=DP;var FP=k&&k.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(r[i]=a[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Wt.__esModule=!0;Wt.ArnaGraph=Wt.ArnaEdge=Wt.ArnaNode=void 0;var UP=gc,GP=fn,jP=function(){function e(t,n,r,a){this.identifier=t,this.positionX=e.getRandomFloatBounded(-1*n,r),this.positionY=e.getRandomFloatBounded(-1*n,r),this.forceX=0,this.forceY=0,this.options=a}return e.getRandomFloatBounded=function(t,n){return Math.random()*(t-n)+n},e}();Wt.ArnaNode=jP;var BP=function(){function e(t,n,r){this.tail=t,this.head=n,this.attraction=1,this.options=r}return e}();Wt.ArnaEdge=BP;var WP=function(e){FP(t,e);function t(n,r,a){var i=e.call(this,n,r,a)||this;return i.xLayoutMin=1/0,i.xLayoutMax=-1/0,i.yLayoutMin=1/0,i.yLayoutMax=-1/0,i}return t.prototype.setEdgeSubdivisions=function(n){this.edgeSubdivisions=n},t.prototype.calculateRepulsion=function(){var n=this,r=[];this.nodes.forEach(function(a){r.forEach(function(i){if(!(!a||!i)){var o=i.positionX-a.positionX,u=i.positionY-a.positionY,s=Math.pow(o,2)+Math.pow(u,2);s<.01&&(o=.1*Math.random()+.1,u=.1*Math.random()+.1,s=Math.pow(o,2)+Math.pow(u,2));var l=Math.sqrt(s);if(l<n.parameters.maxRepulsiveDistance){var f=Math.pow(n.parameters.optimalDistance,2)/l;i.forceX+=f*o/l,i.forceY+=f*u/l,a.forceX-=f*o/l,a.forceY-=f*u/l}}}),r.push(a)})},t.prototype.calculateAttraction=function(){var n=this;this.edges.forEach(function(r){var a=r.tail,i=r.head,o=i.positionX-a.positionX,u=i.positionY-a.positionY,s=Math.pow(o,2)+Math.pow(u,2);s<.01&&(o=.1*Math.random()+.1,u=.1*Math.random()+.1,s=Math.pow(o,2)+Math.pow(u,2));var l=Math.sqrt(s);l>n.parameters.maxRepulsiveDistance&&(l=n.parameters.maxRepulsiveDistance,s=Math.pow(l,2));var f=(s-Math.pow(n.parameters.optimalDistance,2))/n.parameters.optimalDistance;r.attraction||(r.attraction=1),f*=Math.log(r.attraction)*.5+1,i.forceX-=f*o/l,i.forceY-=f*u/l,a.forceX+=f*o/l,a.forceY+=f*u/l})},t.prototype.bundleEdges=function(n){var r={};this.nodes.forEach(function(u){r[u.identifier]={x:u.positionX,y:u.positionY}});var a=this.edges.map(function(u){return{tail:u.tail.identifier,head:u.head.identifier}}),i=new UP.default(r,a,n),o=i.bundle();this.setEdgeSubdivisions(o)},t.prototype.nodeMappings=function(){var n=this,r={};return this.edges.forEach(function(a,i){var o=a.tail,u=a.head,s=n.edgeSubdivisions&&n.parameters.bundle?n.edgeSubdivisions[i]:[];s.length<0&&s.push({x:o.positionX,y:o.positionY},{x:u.positionX,y:u.positionY});var l={tail:a.tail,head:a.head,edge:s,edgeOptions:a.options};o.identifier in r?r[o.identifier].push(l):r[o.identifier]=[l],u.identifier in r?r[u.identifier].push({tail:a.head,head:a.tail,edge:s,edgeOptions:a.options}):r[u.identifier]=[{tail:a.head,head:a.tail,edge:s,edgeOptions:a.options}]}),r},t.prototype.commitChanges=function(){var n=this,r=this.parameters.c,a=this.parameters.maxVertexDisplacement;this.nodes.forEach(function(i){var o=r*i.forceX,u=r*i.forceY;o>a&&(o=a),o<-1*a&&(o=-1*a),u>a&&(u=a),u<-1*a&&(u=-1*a),i.positionX+=o,i.positionY+=u,n.xLayoutMin=i.positionX<n.xLayoutMin?i.positionX:n.xLayoutMin,n.xLayoutMax=i.positionX>n.xLayoutMax?i.positionX:n.xLayoutMax,n.yLayoutMin=i.positionY<n.yLayoutMin?i.positionY:n.yLayoutMin,n.yLayoutMax=i.positionY>n.yLayoutMax?i.positionY:n.yLayoutMax,i.forceX=0,i.forceY=0})},t.prototype.tick=function(){this.calculateRepulsion(),this.calculateAttraction(),this.commitChanges()},t.prototype.computeLayout=function(){for(var n=0;n<this.parameters.maxTicks;n++)this.tick()},t}(GP.Graph);Wt.ArnaGraph=WP;var Qa={},VP=k&&k.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(r[i]=a[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Qa.__esModule=!0;Qa.ArnaAstVisitor=void 0;var KP=cn,zP=KP.ArnaParser.getBaseCstVisitorConstructor(),HP=function(e){VP(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.bundleKeyValue=function(n,r){return{bundle:!0}},t.prototype.colorKeyValue=function(n,r){if(n.DoubleQuotedString!==void 0)return{color:n.DoubleQuotedString[0].image.slice(1,-1)};if(n.Identifier!==void 0)return{color:n.Identifier[0].image}},t.prototype.labelKeyValue=function(n,r){return{label:n.DoubleQuotedString[0].image.slice(1,-1)}},t.prototype.lineWidthKeyValue=function(n,r){return{lineWidth:n.Identifier[0].image}},t.prototype.fontKeyValue=function(n,r){return{font:n.DoubleQuotedString[0].image.slice(1,-1)}},t.prototype.fontSizeKeyValue=function(n,r){return{fontSize:n.DoubleQuotedString[0].image.slice(1,-1)}},t.prototype.keyValuePair=function(n,r){var a=this;return{type:"KEY_VALUE_PAIR",children:Object.values(n).map(function(i){return a.visit(i)})}},t.prototype.attribute=function(n,r){var a=this,i=n!=null&&n.keyValuePair?n.keyValuePair.map(function(u){return a.visit(u)}):[],o=i.map(function(u){return u.children[0]}).reduce(function(u,s){return Object.assign(u,s)},{});return{type:"ATTRIBUTES",keyValuePairs:o}},t.prototype.nodeDeclaration=function(n,r){var a=n!=null&&n.attribute?this.visit(n.attribute[0]):void 0;return{type:"NODE_DECLARATION",identifier:n.Identifier[0].image,attributes:a}},t.prototype.edgeDeclaration=function(n,r){var a=n!=null&&n.attribute?this.visit(n.attribute[0]):void 0;return{type:"EDGE_DECLARATION",directed:!!(n!=null&&n.EdgeDirected),tail:n.Identifier[0].image,head:n.Identifier[1].image,attributes:a}},t.prototype.document=function(n,r){var a=this,i=n!=null&&n.nodeDeclaration?n.nodeDeclaration.map(function(l){return a.visit(l)}):[],o=n!=null&&n.edgeDeclaration?n.edgeDeclaration.map(function(l){return a.visit(l)}):[],u=n!=null&&n.attribute?this.visit(n.attribute):!1,s=u!=null&&u.keyValuePairs?{keyValuePairs:u.keyValuePairs}:{keyValuePairs:{}};return{type:"DOCUMENT",graphType:n.Graph[0].image,graphName:n.Identifier[0].image,graphAttributes:s,nodeDeclarations:i,edgeDeclarations:o}},t}(zP);Qa.ArnaAstVisitor=new HP;var Ja={};Ja.__esModule=!0;Ja.GraphSemanticAnalyzer=void 0;var di=Wt,YP=fn,XP=function(){function e(t){this.graphParameters=YP.Graph.buildParameters(t)}return e.prototype.buildNode=function(t){var n,r=((n=t.attributes)===null||n===void 0?void 0:n.keyValuePairs)||{};return new di.ArnaNode(t.identifier,this.graphParameters.maxRepulsiveDistance,this.graphParameters.maxVertexDisplacement,r)},e.prototype.buildEdge=function(t,n,r){var a,i=((a=r.attributes)===null||a===void 0?void 0:a.keyValuePairs)||{};return new di.ArnaEdge(t,n,i)},e.prototype.buildGraph=function(t,n){var r=this,a=new Map;t.forEach(function(l){var f;if(!a.has(l.identifier)){var c=r.buildNode(l);c.options.label=((f=l.attributes)===null||f===void 0?void 0:f.keyValuePairs.label)||void 0,a.set(l.identifier,c)}});var i=Array.from(a.values()),o=new Set,u=n.filter(function(l){var f="".concat(l.tail,"--").concat(l.head);return f in o?!1:(o.add(f),!0)}),s=u.map(function(l){var f=a.get(l.tail),c=a.get(l.head);if(f===void 0)throw new Error("Invalid edge declaration. No node with identifier ".concat(l.tail," found."));if(c===void 0)throw new Error("Invalid edge declaration. No node with identifier ".concat(l.head," found."));return r.buildEdge(f,c,l)});return new di.ArnaGraph(i,s,this.graphParameters)},e.prototype.analyze=function(t){var n;this.graphParameters.bundle=((n=t.graphAttributes.keyValuePairs)===null||n===void 0?void 0:n.bundle)||!1;var r=this.buildGraph(t.nodeDeclarations,t.edgeDeclarations);return r.computeLayout(),r},e}();Ja.GraphSemanticAnalyzer=XP;(function(e){var t=k&&k.__createBinding||(Object.create?function(u,s,l,f){f===void 0&&(f=l);var c=Object.getOwnPropertyDescriptor(s,l);(!c||("get"in c?!s.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return s[l]}}),Object.defineProperty(u,f,c)}:function(u,s,l,f){f===void 0&&(f=l),u[f]=s[l]});e.__esModule=!0,e.ArnaAstSemanticAnalyzer=e.ArnaAstVisitor=e.ArnaGraph=e.ArnaParser=e.ArnaLexer=void 0;var n=$i;t(e,n,"ArnaLexer");var r=cn;t(e,r,"ArnaParser");var a=Wt;t(e,a,"ArnaGraph");var i=Qa;t(e,i,"ArnaAstVisitor");var o=Ja;t(e,o,"GraphSemanticAnalyzer","ArnaAstSemanticAnalyzer")})(Qt);var Ec={},ei={},Gr={};Gr.__esModule=!0;Gr.ArnaPreRenderer=void 0;var qP=function(){function e(t,n,r){this.RADIUS=12,this.graph=t,this.width=n,this.height=r,this.xScale=(this.width-2*this.RADIUS)/(this.graph.xLayoutMax-this.graph.xLayoutMin),this.yScale=(this.height-2*this.RADIUS)/(this.graph.yLayoutMax-this.graph.yLayoutMin)}return e.prototype.translate=function(t,n){return{x:Math.round((t-this.graph.xLayoutMin)*this.xScale+this.RADIUS),y:Math.round((n-this.graph.yLayoutMin)*this.yScale+this.RADIUS)}},e.prototype.centerGraph=function(){var t=1/0,n=-1/0,r=1/0,a=-1/0,i=Math.round(this.width/2)-Math.round((this.graph.xLayoutMin+this.graph.xLayoutMax)/2),o=Math.round(this.height/2)-Math.round((this.graph.yLayoutMin+this.graph.yLayoutMax)/2);this.graph.nodes.forEach(function(u){u.positionX+=i,u.positionY+=o,t=u.positionX<t?u.positionX:t,n=u.positionX>n?u.positionX:n,r=u.positionY<r?u.positionY:r,a=u.positionY>a?u.positionY:a}),this.graph.xLayoutMin=t,this.graph.xLayoutMax=n,this.graph.yLayoutMin=r,this.graph.yLayoutMax=a},e.prototype.translateNodePositions=function(){var t=this,n=1/0,r=-1/0,a=1/0,i=-1/0;this.graph.nodes.forEach(function(o){var u=t.translate(o.positionX,o.positionY);o.positionX=u.x,o.positionY=u.y,n=o.positionX<n?o.positionX:n,r=o.positionX>r?o.positionX:r,a=o.positionY<a?o.positionY:a,i=o.positionY>i?o.positionY:i}),this.graph.xLayoutMin=n,this.graph.xLayoutMax=r,this.graph.yLayoutMin=a,this.graph.yLayoutMax=i},e.prototype.runCalculations=function(t){return this.translateNodePositions(),this.centerGraph(),this.graph.parameters.bundle&&this.graph.bundleEdges(t||{}),{radius:this.RADIUS}},e}();Gr.ArnaPreRenderer=qP;ei.__esModule=!0;ei.ArnaRenderer=void 0;var ZP=Gr,QP=function(){function e(t){this.canvas=t}return e.prototype.prerender=function(t){var n=new ZP.ArnaPreRenderer(t,this.canvas.getCanvasWidth(),this.canvas.getCanvasHeight());return n.runCalculations()},e.prototype.drawBundledEdges=function(t){var n=this,r=t.edgeSubdivisions||[];r.forEach(function(a,i){var o=t.edges[i].options;n.canvas.drawLineGroup(a,o)})},e.prototype.drawNodes=function(t,n){var r=this;t.nodes.forEach(function(a){r.canvas.drawCircle(a.positionX,a.positionY,n.radius,a.options)})},e.prototype.draw=function(t){var n=this,r,a=this.prerender(t),i=new Set,o=new Set,u=t.parameters.bundle&&t.edgeSubdivisions?t.edgeSubdivisions:[];u.forEach(function(s,l){var f=s.map(function(c){return{x:Math.round(c.x),y:Math.round(c.y)}});n.canvas.drawLineGroup(f,t.edges[l].options)}),t.parameters.bundle&&(this.drawBundledEdges(t),this.drawNodes(t,a)),t.parameters.bundle||t.edges.forEach(function(s){var l=s.tail,f=s.head;i.has(l.identifier)||(n.canvas.drawCircle(l.positionX,l.positionY,a.radius,l.options),i.add(l.identifier)),i.has(f.identifier)||(n.canvas.drawCircle(f.positionX,f.positionY,a.radius,f.options),i.add(f.identifier));var c="".concat(l.identifier,"-").concat(f.identifier);if(!t.parameters.bundle&&!o.has(c)){var v=qs(f.positionX,f.positionY,l.positionX,l.positionY,a.radius),p=qs(l.positionX,l.positionY,f.positionX,f.positionY,a.radius);n.canvas.drawLine(p.x,p.y,v.x,v.y,s.options),o.add(c)}}),!((r=this.canvas)===null||r===void 0)&&r.finalize&&this.canvas.finalize()},e}();ei.ArnaRenderer=QP;function qs(e,t,n,r,a){var i=a/Math.sqrt(Math.pow(n-e,2)+Math.pow(r-t,2)),o=e+i*(n-e),u=t+i*(r-t);return{x:Math.round(o),y:Math.round(u)}}(function(e){var t=k&&k.__createBinding||(Object.create?function(a,i,o,u){u===void 0&&(u=o);var s=Object.getOwnPropertyDescriptor(i,o);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(a,u,s)}:function(a,i,o,u){u===void 0&&(u=o),a[u]=i[o]});e.__esModule=!0,e.ArnaPreRenderer=e.ArnaRenderer=void 0;var n=ei;t(e,n,"ArnaRenderer");var r=Gr;t(e,r,"ArnaPreRenderer")})(Ec);class or{constructor(t,n,r,a){He(this,"graph");He(this,"stage");He(this,"mainLayer");He(this,"staticGroup");He(this,"labels");He(this,"transformer");He(this,"stageConfig");He(this,"stageParent");He(this,"prerenderer");He(this,"bundlerParameters");He(this,"graphLayoutParameters");He(this,"renderParameters");He(this,"nodeMappings");He(this,"virtualWidth");this.graph=t,this.stageConfig=n,this.virtualWidth=n.width,this.stageParent=document.getElementById("stage-parent"),this.stage=new Je.Stage(this.stageConfig),this.mainLayer=new Je.Layer,this.staticGroup=new Je.Group,this.transformer=new Je.Transformer,this.labels=new Map,this.graphLayoutParameters=a,this.bundlerParameters=r,this.prerenderer=new Ec.ArnaPreRenderer(this.graph,this.getCanvasWidth(),this.getCanvasHeight()),this.renderParameters=this.prerenderer.runCalculations(this.bundlerParameters),this.nodeMappings=this.graph.nodeMappings()}getCanvasWidth(){return this.stage.width()}getCanvasHeight(){return this.stage.height()}getResponsiveFontSize(){return this.stageParent.offsetWidth<600?40:24}static circle(t,n,r,a){const i=new Je.Group,o=new Je.Circle({x:t,y:n,radius:r,fill:a==null?void 0:a.color,hitStrokeWidth:r+10}),u=new Je.Circle({x:t,y:n,radius:r,fill:sn.theme.extend.colors.override.bg,hitStrokeWidth:r+10});return i.add(u),i.add(o),i}static lineGroup(t,n){const r=new Je.Group;for(let a=0;a<t.length-1;a++){const i=t[a],o=t[a+1],u=n!=null&&n.lineWidth?+n.lineWidth:2,s=new Je.Line({points:[i.x,i.y,o.x,o.y],stroke:(n==null?void 0:n.color)||sn.theme.extend.colors.override.fg,strokeWidth:u});r.add(s)}return r}positionLabel(t,n,r){r.fontSize(this.getResponsiveFontSize());const a=this.stage.scaleX(),i=r.textWidth*this.stage.scaleX();let o=t*a;o+i>this.stageParent.offsetWidth&&(o-=i+22*this.stage.scaleX()),r.x(o/a),r.y(n)}label(t,n,r){const{radius:a}=this.renderParameters,i=r-a-20,o=new Je.Text({y:r-a-20,text:t,fontSize:this.getResponsiveFontSize(),fontStyle:"bold",fontFamily:"'Source Code Pro', monospace",fill:sn.theme.extend.colors.override.fg,align:"center"}),{textWidth:u}=o;let s=n-u/2;s+u>this.getCanvasWidth()&&(s-=s+u+12-this.getCanvasWidth()),s<0&&(s=0);let l=i;return i<0&&(l=r+a+20),o.x(s),o.y(l),o}registerHighlightEvent(t,n,r){const a=this.labels.get(t),i=n.children[1];n.addEventListener("mouseenter touchstart",()=>{const o=this.staticGroup.getRelativePointerPosition(),u=a;this.positionLabel(o.x,o.y,u),a.visible(!0),i.setAttr("previousFill",i.fill()),i.fill(an(i.fill()).alpha(1).hex("rgba")),r.forEach(s=>{s.children.forEach(l=>{if(l instanceof Je.Line){const f=l.stroke();l.setAttr("previousStroke",f),l.stroke(an(f).alpha(1).hex("rgba"))}if(l instanceof Je.Circle){const f=l.fill();l.setAttr("previousFill",f),l.fill(an(f).alpha(1).hex("rgba"))}})})}),n.addEventListener("mouseleave touchend",()=>{a.visible(!1),i.fill(i.getAttr("previousFill")),r.forEach(o=>{o.children.forEach(u=>{if(u instanceof Je.Line){const s=u.getAttr("previousStroke");u.stroke(s)}if(u instanceof Je.Circle){const s=u.getAttr("previousFill");u.fill(s)}})})})}registerScalingHandler(){const t=()=>{const r=this.stageParent.offsetWidth,a=r/this.virtualWidth;this.stage.width(this.virtualWidth*a),this.stage.height(this.virtualWidth*a),this.stage.scale({x:a,y:a});let i=24;r<600&&(i=40),r<400&&(i=52),[...Array.from(this.labels.values())].forEach(o=>{o.fontSize(i)})};new ResizeObserver(t).observe(this.stageParent)}draw(){const t=new Map,n=new Map;Object.keys(this.nodeMappings).forEach(r=>{var l;const a=this.nodeMappings[r],{tail:i}=a[0];let o;n.has(i.identifier)?o=n.get(i.identifier):(o=or.circle(i.positionX,i.positionY,this.renderParameters.radius,i.options),n.set(i.identifier,o));const u=this.label(((l=i.options)==null?void 0:l.label)||"",i.positionX,i.positionY);u.visible(!1),u.listening(!1),this.labels.set(i.identifier,u);let s=[];a.forEach(f=>{const{head:c}=f,v=`${i.identifier}--${c.identifier}`,p=`${c.identifier}--${i.identifier}`;let _;t.has(v)?_=t.get(v):t.has(p)?_=t.get(p):(_=or.lineGroup(f.edge,f.edgeOptions),t.set(v,_),t.set(p,_));let d;n.has(c.identifier)?d=n.get(c.identifier):(d=or.circle(c.positionX,c.positionY,this.renderParameters.radius,c.options),n.set(c.identifier,d)),s=[d,...s],s=[...s,_]}),this.registerHighlightEvent(i.identifier,o,s)}),this.staticGroup.add(...Array.from(t.values())),this.staticGroup.add(...Array.from(n.values())),this.staticGroup.add(...Array.from(this.labels.values())),this.mainLayer.add(this.transformer),this.transformer.add(this.staticGroup),this.mainLayer.add(this.staticGroup),this.stage.add(this.mainLayer),this.registerScalingHandler()}}function JP(e){let t;return{c(){t=Z("div"),G(t,"id","stage-parent"),G(t,"class","outline-thin w-full mx-auto mb-4 flex items-center space-x-4 bg-override-neutral-900/30")},m(n,r){te(n,t,r),e[1](t)},p:be,i:be,o:be,d(n){n&&Q(t),e[1](null)}}}function eC(e,t,n){let r,a,i,o,u,s,l,f,c,v,p;ye(e,fr,y=>n(4,r=y)),ye(e,cr,y=>n(5,a=y)),ye(e,On,y=>n(6,i=y)),ye(e,lr,y=>n(7,o=y)),ye(e,rn,y=>n(8,u=y)),ye(e,gr,y=>n(9,s=y)),ye(e,_r,y=>n(10,l=y)),ye(e,vr,y=>n(11,f=y)),ye(e,pr,y=>n(12,c=y)),ye(e,dr,y=>n(13,v=y)),ye(e,hr,y=>n(14,p=y));let _,d;const E=()=>{const y=hr.choices[p],b=dr.choices[v],C=pr.choices[c],m=vr.choices[f],g=_r.choices[l],T=gr.choices[s];return{compatabilityThreshold:y,initialStepSize:b,bundlingStiffness:C,subdivisionRate:m,initialIterationCount:g,iterationDecreaseRate:T}},A=()=>{if(!u)return;const y=Qt.ArnaLexer.tokenize(u);Qt.ArnaParser.input=y.tokens;const b=Qt.ArnaParser.document();Qt.ArnaParser.errors.length>0&&(console.error("Encountered errors during parsing"),Qt.ArnaParser.errors.forEach(x=>{console.error(x)}));const C=Qt.ArnaAstVisitor.visit(b),m={maxTicks:lr.choices[o],maxRepulsiveDistance:On.choices[i],optimalDistance:cr.choices[a],c:fr.choices[r],bundle:C.graphAttributes.keyValuePairs.bundle},T=new Qt.ArnaAstSemanticAnalyzer(m).analyze(C),U={container:_,height:1200,width:1200},K=E();new or(T,U,K,m).draw()};kn(()=>{d=rn.subscribe(()=>{A()})}),Cc(()=>d());function O(y){Tt[y?"unshift":"push"](()=>{_=y,n(0,_)})}return[_,O]}class tC extends je{constructor(t){super();Ge(this,t,eC,JP,De,{})}}function nC(e){let t,n;const r=e[1].default,a=ua(r,e,e[0],null);return{c(){t=Z("span"),a&&a.c(),G(t,"class","bg-gray-200 text-black px-1 pb-1 mx-1 font-thin font-mono")},m(i,o){te(i,t,o),a&&a.m(t,null),n=!0},p(i,[o]){a&&a.p&&(!n||o&1)&&ca(a,r,i,i[0],n?la(r,i[0],o,null):fa(i[0]),null)},i(i){n||(z(a,i),n=!0)},o(i){Y(a,i),n=!1},d(i){i&&Q(t),a&&a.d(i)}}}function rC(e,t,n){let{$$slots:r={},$$scope:a}=t;return e.$$set=i=>{"$$scope"in i&&n(0,a=i.$$scope)},[a,r]}class Xe extends je{constructor(t){super();Ge(this,t,rC,nC,De,{})}}function aC(e){let t;return{c(){t=ie("graph")},m(n,r){te(n,t,r)},d(n){n&&Q(t)}}}function iC(e){let t;return{c(){t=ie("[bundle]")},m(n,r){te(n,t,r)},d(n){n&&Q(t)}}}function oC(e){let t;return{c(){t=ie("N0")},m(n,r){te(n,t,r)},d(n){n&&Q(t)}}}function sC(e){let t;return{c(){t=ie("color")},m(n,r){te(n,t,r)},d(n){n&&Q(t)}}}function uC(e){let t;return{c(){t=ie("label")},m(n,r){te(n,t,r)},d(n){n&&Q(t)}}}function lC(e){let t;return{c(){t=ie("N0--N5")},m(n,r){te(n,t,r)},d(n){n&&Q(t)}}}function cC(e){let t;return{c(){t=ie("N0")},m(n,r){te(n,t,r)},d(n){n&&Q(t)}}}function fC(e){let t;return{c(){t=ie("N5")},m(n,r){te(n,t,r)},d(n){n&&Q(t)}}}function dC(e){let t;return{c(){t=ie("N0")},m(n,r){te(n,t,r)},d(n){n&&Q(t)}}}function hC(e){let t;return{c(){t=ie("N5")},m(n,r){te(n,t,r)},d(n){n&&Q(t)}}}function pC(e){let t;return{c(){t=ie("line-width")},m(n,r){te(n,t,r)},d(n){n&&Q(t)}}}function vC(e){let t;return{c(){t=ie("color")},m(n,r){te(n,t,r)},d(n){n&&Q(t)}}}function _C(e){let t;return{c(){t=ie("line-width")},m(n,r){te(n,t,r)},d(n){n&&Q(t)}}}function gC(e){let t;return{c(){t=ie("color")},m(n,r){te(n,t,r)},d(n){n&&Q(t)}}}function mC(e){let t;return{c(){t=ie("}")},m(n,r){te(n,t,r)},d(n){n&&Q(t)}}}function yC(e){let t,n,r,a,i,o,u,s,l,f,c,v,p,_,d,E,A,O,y,b,C,m,g,T,h,S,U,K,w,x,W,R,P,N,j,B,V,ue,de,ae,re,le,q,he,Pe,Ee,xe,Re,Me,Se,it,Be,dt,ke,Qe,Ke,Yt,ht,Xt,Ut,pt,Gt,Ce,L,M,F;return o=new Xe({props:{$$slots:{default:[aC]},$$scope:{ctx:e}}}),s=new Xe({props:{$$slots:{default:[iC]},$$scope:{ctx:e}}}),A=new Xe({props:{$$slots:{default:[oC]},$$scope:{ctx:e}}}),T=new Xe({props:{$$slots:{default:[sC]},$$scope:{ctx:e}}}),S=new Xe({props:{$$slots:{default:[uC]},$$scope:{ctx:e}}}),j=new Xe({props:{$$slots:{default:[lC]},$$scope:{ctx:e}}}),V=new Xe({props:{$$slots:{default:[cC]},$$scope:{ctx:e}}}),de=new Xe({props:{$$slots:{default:[fC]},$$scope:{ctx:e}}}),re=new Xe({props:{$$slots:{default:[dC]},$$scope:{ctx:e}}}),q=new Xe({props:{$$slots:{default:[hC]},$$scope:{ctx:e}}}),Se=new Xe({props:{$$slots:{default:[pC]},$$scope:{ctx:e}}}),Be=new Xe({props:{$$slots:{default:[vC]},$$scope:{ctx:e}}}),ke=new Xe({props:{$$slots:{default:[_C]},$$scope:{ctx:e}}}),Ke=new Xe({props:{$$slots:{default:[gC]},$$scope:{ctx:e}}}),Ce=new Xe({props:{$$slots:{default:[mC]},$$scope:{ctx:e}}}),{c(){t=Z("div"),n=Z("textarea"),r=oe(),a=Z("span"),i=ie("To begin defining a graph, use the "),ne(o.$$.fragment),u=ie(` keyword followed by the name
    of the graph. Following the name of the graph, you may choose to include the
    `),ne(s.$$.fragment),l=ie(" attribute. Including this will enable edge bundling."),f=oe(),c=Z("br"),v=oe(),p=Z("textarea"),_=oe(),d=Z("span"),E=ie(`After defining the graph name, node and edge declarations are required. In
    this example, `),ne(A.$$.fragment),O=ie(` is the node identifier. Within the square brackets, attributes
    of the node can be defined.`),y=oe(),b=Z("br"),C=oe(),m=Z("span"),g=ie("The "),ne(T.$$.fragment),h=ie(` attribute specifies the color of the graph vertex when drawn.
    You may use RGB, RGBA, Hex, or other color formats supported by CSS3. The `),ne(S.$$.fragment),U=ie(` attribute defines a string that will be displayed when the vertex is hovered
    over.`),K=oe(),w=Z("br"),x=oe(),W=Z("textarea"),R=oe(),P=Z("span"),N=ie(`Edge declarations define an edge between two defined nodes. The nodes must
    be defined somewhere in the program or a compiler error will be thrown. In
    this example, `),ne(j.$$.fragment),B=ie(` defines an edge between the nodes with the identifiers
    `),ne(V.$$.fragment),ue=ie(" and "),ne(de.$$.fragment),ae=ie(". Even though this is an undirected edge, "),ne(re.$$.fragment),le=ie(` is
    treated as the tail of the edge. While `),ne(q.$$.fragment),he=ie(" is treated as the head."),Pe=oe(),Ee=Z("br"),xe=oe(),Re=Z("span"),Me=ie("The current supported attributes for edge declarations include "),ne(Se.$$.fragment),it=ie(" and "),ne(Be.$$.fragment),dt=ie(". "),ne(ke.$$.fragment),Qe=ie(` defines the width of the rendered edge
    on the canvas. The `),ne(Ke.$$.fragment),Yt=ie(` attribute defines the color of the rendered edge
    on the canvas. The same color formats accepted for node declarations are supported
    for edge declarations.`),ht=oe(),Xt=Z("br"),Ut=oe(),pt=Z("span"),Gt=ie("Finally, don't forget to end the graph declaration with a "),ne(Ce.$$.fragment),G(a,"class","my-2"),G(d,"class","mt-2"),G(m,"class","my-2"),G(P,"class","mt-2"),G(Re,"class","my-2"),G(t,"class","rounded flex flex-col w-full p-4 mb-2 bg-override-neutral-900/30 leading-7 outline-thin")},m(I,$){te(I,t,$),D(t,n),D(t,r),D(t,a),D(a,i),J(o,a,null),D(a,u),J(s,a,null),D(a,l),D(t,f),D(t,c),D(t,v),D(t,p),D(t,_),D(t,d),D(d,E),J(A,d,null),D(d,O),D(t,y),D(t,b),D(t,C),D(t,m),D(m,g),J(T,m,null),D(m,h),J(S,m,null),D(m,U),D(t,K),D(t,w),D(t,x),D(t,W),D(t,R),D(t,P),D(P,N),J(j,P,null),D(P,B),J(V,P,null),D(P,ue),J(de,P,null),D(P,ae),J(re,P,null),D(P,le),J(q,P,null),D(P,he),D(t,Pe),D(t,Ee),D(t,xe),D(t,Re),D(Re,Me),J(Se,Re,null),D(Re,it),J(Be,Re,null),D(Re,dt),J(ke,Re,null),D(Re,Qe),J(Ke,Re,null),D(Re,Yt),D(t,ht),D(t,Xt),D(t,Ut),D(t,pt),D(pt,Gt),J(Ce,pt,null),e[2](t),L=!0,M||(F=[ni(e[1].call(null,n,"graph Name [bundle] {")),ni(e[1].call(null,p,'N0 [color="rgba(164,6,6,0.6)",label="A message to show."]')),ni(e[1].call(null,W,'N0--N5  [line-width=3,color="rgba(164,6,6,0.2)"]'))],M=!0)},p(I,[$]){const X={};$&16&&(X.$$scope={dirty:$,ctx:I}),o.$set(X);const se={};$&16&&(se.$$scope={dirty:$,ctx:I}),s.$set(se);const pe={};$&16&&(pe.$$scope={dirty:$,ctx:I}),A.$set(pe);const Te={};$&16&&(Te.$$scope={dirty:$,ctx:I}),T.$set(Te);const ze={};$&16&&(ze.$$scope={dirty:$,ctx:I}),S.$set(ze);const vt={};$&16&&(vt.$$scope={dirty:$,ctx:I}),j.$set(vt);const ot={};$&16&&(ot.$$scope={dirty:$,ctx:I}),V.$set(ot);const qt={};$&16&&(qt.$$scope={dirty:$,ctx:I}),de.$set(qt);const Zt={};$&16&&(Zt.$$scope={dirty:$,ctx:I}),re.$set(Zt);const _t={};$&16&&(_t.$$scope={dirty:$,ctx:I}),q.$set(_t);const st={};$&16&&(st.$$scope={dirty:$,ctx:I}),Se.$set(st);const $e={};$&16&&($e.$$scope={dirty:$,ctx:I}),Be.$set($e);const gt={};$&16&&(gt.$$scope={dirty:$,ctx:I}),ke.$set(gt);const fe={};$&16&&(fe.$$scope={dirty:$,ctx:I}),Ke.$set(fe);const H={};$&16&&(H.$$scope={dirty:$,ctx:I}),Ce.$set(H)},i(I){L||(z(o.$$.fragment,I),z(s.$$.fragment,I),z(A.$$.fragment,I),z(T.$$.fragment,I),z(S.$$.fragment,I),z(j.$$.fragment,I),z(V.$$.fragment,I),z(de.$$.fragment,I),z(re.$$.fragment,I),z(q.$$.fragment,I),z(Se.$$.fragment,I),z(Be.$$.fragment,I),z(ke.$$.fragment,I),z(Ke.$$.fragment,I),z(Ce.$$.fragment,I),L=!0)},o(I){Y(o.$$.fragment,I),Y(s.$$.fragment,I),Y(A.$$.fragment,I),Y(T.$$.fragment,I),Y(S.$$.fragment,I),Y(j.$$.fragment,I),Y(V.$$.fragment,I),Y(de.$$.fragment,I),Y(re.$$.fragment,I),Y(q.$$.fragment,I),Y(Se.$$.fragment,I),Y(Be.$$.fragment,I),Y(ke.$$.fragment,I),Y(Ke.$$.fragment,I),Y(Ce.$$.fragment,I),L=!1},d(I){I&&Q(t),ee(o),ee(s),ee(A),ee(T),ee(S),ee(j),ee(V),ee(de),ee(re),ee(q),ee(Se),ee(Be),ee(ke),ee(Ke),ee(Ce),e[2](null),M=!1,Ln(F)}}}function EC(e,t,n){let r;const a=()=>{const u=r.getElementsByClassName("CodeMirror");[...Array(u.length)].forEach((s,l)=>{console.log(l);const f=u.item(l);f.classList.add("!font-mono"),f.classList.add("!h-auto")})},i=(u,s)=>{try{Jr.fromTextArea(u,{readOnly:!0,mode:"arna",theme:"midnight",cursorHeight:0}).setValue(s)}catch{console.error("Expected node to be of type HTMLTextAreaElement")}};kn(()=>{fu(),a()});function o(u){Tt[u?"unshift":"push"](()=>{r=u,n(0,r)})}return[r,i,o]}class TC extends je{constructor(t){super();Ge(this,t,EC,yC,De,{})}}function AC(e){let t,n,r,a;return{c(){t=Z("div"),n=Z("div"),r=Z("span"),a=ie(e[0]),G(r,"class","text-lg font-center font-mono font-semibold"),G(n,"class","min-w-full cursor-pointer rounded shadow-[0_0_2pt_1px] shadow-override-bg/30 px-2 bg-override-neutral-500/50"),G(t,"class","flex items-center min-w-full text-center")},m(i,o){te(i,t,o),D(t,n),D(n,r),D(r,a),e[4](n)},p(i,[o]){o&1&&Pi(a,i[0])},i:be,o:be,d(i){i&&Q(t),e[4](null)}}}function bC(e,t,n){let{label:r}=t,{onSelect:a}=t,{isChecked:i=!1}=t,o;const u=["!bg-override-yellow","text-override-neutral-900"],s=()=>{u.forEach(c=>{o.classList.add(c)})},l=()=>{u.forEach(c=>{o.classList.remove(c)})};kn(()=>{i&&s(),o.addEventListener("click",()=>{a(),s()})});function f(c){Tt[c?"unshift":"push"](()=>{o=c,n(1,o)})}return e.$$set=c=>{"label"in c&&n(0,r=c.label),"onSelect"in c&&n(2,a=c.onSelect),"isChecked"in c&&n(3,i=c.isChecked)},e.$$.update=()=>{e.$$.dirty&10&&(i||o&&l())},[r,o,a,i,f]}class OC extends je{constructor(t){super();Ge(this,t,bC,AC,De,{label:0,onSelect:2,isChecked:3})}}function Zs(e,t,n){const r=e.slice();return r[7]=t[n],r[9]=n,r}function Qs(e,t){let n,r,a;return r=new OC({props:{label:t[7]+"",onSelect:t[3](t[9]),isChecked:t[2]===t[9]}}),{key:e,first:null,c(){n=Ic(),ne(r.$$.fragment),this.first=n},m(i,o){te(i,n,o),J(r,i,o),a=!0},p(i,o){t=i;const u={};o&2&&(u.label=t[7]+""),o&2&&(u.onSelect=t[3](t[9])),o&6&&(u.isChecked=t[2]===t[9]),r.$set(u)},i(i){a||(z(r.$$.fragment,i),a=!0)},o(i){Y(r.$$.fragment,i),a=!1},d(i){i&&Q(n),ee(r,i)}}}function RC(e){let t,n,r,a,i,o=[],u=new Map,s,l,f=e[1];const c=v=>v[9];for(let v=0;v<f.length;v+=1){let p=Zs(e,f,v),_=c(p);u.set(_,o[v]=Qs(_,p))}return{c(){t=Z("div"),n=Z("span"),r=ie(e[0]),a=oe(),i=Z("div");for(let v=0;v<o.length;v+=1)o[v].c();G(n,"class","mb-4 text-center italic text-override-yellow"),G(i,"class","grid grid-cols-custom gap-y-6 gap-x-4 px-1 justify-items-center"),G(t,"class",s=`flex flex-col ${e[4].class}`)},m(v,p){te(v,t,p),D(t,n),D(n,r),D(t,a),D(t,i);for(let _=0;_<o.length;_+=1)o[_].m(i,null);l=!0},p(v,[p]){(!l||p&1)&&Pi(r,v[0]),p&14&&(f=v[1],ea(),o=wc(o,p,c,1,v,f,u,i,Mc,Qs,null,Zs),ta()),(!l||p&16&&s!==(s=`flex flex-col ${v[4].class}`))&&G(t,"class",s)},i(v){if(!l){for(let p=0;p<f.length;p+=1)z(o[p]);l=!0}},o(v){for(let p=0;p<o.length;p+=1)Y(o[p]);l=!1},d(v){v&&Q(t);for(let p=0;p<o.length;p+=1)o[p].d()}}}function IC(e,t,n){let{label:r}=t,{values:a}=t,{onIndexChange:i}=t,{defaultIndex:o}=t,u=o;function s(l){return()=>{n(2,u=l),i(l)}}return e.$$set=l=>{n(4,t=Ze(Ze({},t),tt(l))),"label"in l&&n(0,r=l.label),"values"in l&&n(1,a=l.values),"onIndexChange"in l&&n(5,i=l.onIndexChange),"defaultIndex"in l&&n(6,o=l.defaultIndex)},t=tt(t),[r,a,u,s,t,i,o]}class yt extends je{constructor(t){super();Ge(this,t,IC,RC,De,{label:0,values:1,onIndexChange:5,defaultIndex:6})}}const SC=e=>({}),Js=e=>({}),NC=e=>({}),eu=e=>({});function tu(e){let t,n;const r=e[4].content,a=ua(r,e,e[3],Js);return{c(){t=Z("div"),a&&a.c(),G(t,"class","py-4 px-2")},m(i,o){te(i,t,o),a&&a.m(t,null),n=!0},p(i,o){a&&a.p&&(!n||o&8)&&ca(a,r,i,i[3],n?la(r,i[3],o,SC):fa(i[3]),Js)},i(i){n||(z(a,i),n=!0)},o(i){Y(a,i),n=!1},d(i){i&&Q(t),a&&a.d(i)}}}function PC(e){let t,n,r,a,i,o,u,s,l;const f=e[4].label,c=ua(f,e,e[3],eu);function v(d){e[5](d)}let p={class:"fill-override-neutral-50 justify-self-end transition"};e[2]!==void 0&&(p.svgElement=e[2]),i=new du({props:p}),Tt.push(()=>cu(i,"svgElement",v));let _=e[0]&&tu(e);return{c(){t=Z("div"),n=Z("div"),r=Z("div"),c&&c.c(),a=oe(),ne(i.$$.fragment),s=oe(),_&&_.c(),G(r,"class","flex justify-between px-2"),G(n,"class",u=`py-3 cursor-pointer ${e[0]?nu:""}`),G(t,"class",`${CC}`)},m(d,E){te(d,t,E),D(t,n),D(n,r),c&&c.m(r,null),D(r,a),J(i,r,null),e[6](n),D(t,s),_&&_.m(t,null),l=!0},p(d,[E]){c&&c.p&&(!l||E&8)&&ca(c,f,d,d[3],l?la(f,d[3],E,NC):fa(d[3]),eu);const A={};!o&&E&4&&(o=!0,A.svgElement=d[2],uu(()=>o=!1)),i.$set(A),(!l||E&1&&u!==(u=`py-3 cursor-pointer ${d[0]?nu:""}`))&&G(n,"class",u),d[0]?_?(_.p(d,E),E&1&&z(_,1)):(_=tu(d),_.c(),z(_,1),_.m(t,null)):_&&(ea(),Y(_,1,1,()=>{_=null}),ta())},i(d){l||(z(c,d),z(i.$$.fragment,d),z(_),l=!0)},o(d){Y(c,d),Y(i.$$.fragment,d),Y(_),l=!1},d(d){d&&Q(t),c&&c.d(d),ee(i),e[6](null),_&&_.d()}}}const nu="border-b-[1px] border-override-blue",CC="border-b-[1px] last:border-b-0 border-override-neutral-50/25";function $C(e,t,n){let{$$slots:r={},$$scope:a}=t,i=!1,o,u;const s=()=>{n(0,i=!i),i?u.classList.add("-rotate-90"):u.classList.remove("-rotate-90")};kn(()=>{o.addEventListener("click",()=>{s()}),o.addEventListener("mouseover",()=>{u.classList.add("!fill-override-blue"),o.classList.add("!text-override-blue")}),o.addEventListener("mouseleave",()=>{u.classList.remove("!fill-override-blue"),o.classList.remove("!text-override-blue")})});function l(c){u=c,n(2,u)}function f(c){Tt[c?"unshift":"push"](()=>{o=c,n(1,o)})}return e.$$set=c=>{"$$scope"in c&&n(3,a=c.$$scope)},[i,o,u,a,r,l,f]}class hi extends je{constructor(t){super();Ge(this,t,$C,PC,De,{})}}function LC(e){let t;return{c(){t=Z("span"),t.textContent="Graph Layout Algorithm",G(t,"slot","label")},m(n,r){te(n,t,r)},d(n){n&&Q(t)}}}function kC(e){let t,n,r,a,i,o,u,s;return t=new yt({props:{label:"Iterations",values:lr.choices,defaultIndex:e[0],onIndexChange:e[11],class:"mb-4"}}),r=new yt({props:{label:"Force Coefficient",values:fr.choices,defaultIndex:e[1],onIndexChange:e[12],class:"mb-4"}}),i=new yt({props:{label:"Max Repulsive Force Distance",values:On.choices,defaultIndex:e[2],onIndexChange:e[13],class:"mb-4"}}),u=new yt({props:{label:"Optimal Node Distance",values:cr.choices,defaultIndex:e[3],onIndexChange:e[14]}}),{c(){ne(t.$$.fragment),n=oe(),ne(r.$$.fragment),a=oe(),ne(i.$$.fragment),o=oe(),ne(u.$$.fragment)},m(l,f){J(t,l,f),te(l,n,f),J(r,l,f),te(l,a,f),J(i,l,f),te(l,o,f),J(u,l,f),s=!0},p(l,f){const c={};f&1&&(c.defaultIndex=l[0]),f&1&&(c.onIndexChange=l[11]),t.$set(c);const v={};f&2&&(v.defaultIndex=l[1]),f&2&&(v.onIndexChange=l[12]),r.$set(v);const p={};f&4&&(p.defaultIndex=l[2]),f&4&&(p.onIndexChange=l[13]),i.$set(p);const _={};f&8&&(_.defaultIndex=l[3]),f&8&&(_.onIndexChange=l[14]),u.$set(_)},i(l){s||(z(t.$$.fragment,l),z(r.$$.fragment,l),z(i.$$.fragment,l),z(u.$$.fragment,l),s=!0)},o(l){Y(t.$$.fragment,l),Y(r.$$.fragment,l),Y(i.$$.fragment,l),Y(u.$$.fragment,l),s=!1},d(l){ee(t,l),l&&Q(n),ee(r,l),l&&Q(a),ee(i,l),l&&Q(o),ee(u,l)}}}function MC(e){let t;return{c(){t=Z("span"),t.textContent="Edge Bundling",G(t,"slot","label")},m(n,r){te(n,t,r)},d(n){n&&Q(t)}}}function wC(e){let t,n,r,a,i,o,u,s,l,f,c,v;return t=new yt({props:{label:"Compatability Threshold",values:hr.choices,defaultIndex:e[4],onIndexChange:e[15],class:"mb-4"}}),r=new yt({props:{label:"Initial Step Size",values:dr.choices,defaultIndex:e[5],onIndexChange:e[16],class:"mb-4"}}),i=new yt({props:{label:"Bundling Stiffness Coefficient",values:pr.choices,defaultIndex:e[6],onIndexChange:e[17],class:"mb-4"}}),u=new yt({props:{label:"Initial Subdivision Rate",values:vr.choices,defaultIndex:e[7],onIndexChange:e[18],class:"mb-4"}}),l=new yt({props:{label:"Initial Bundling Iterations",values:_r.choices,defaultIndex:e[8],onIndexChange:e[19],class:"mb-4"}}),c=new yt({props:{label:"Bundling Iteration Depreciation Rate",values:gr.choices,defaultIndex:e[9],onIndexChange:e[20]}}),{c(){ne(t.$$.fragment),n=oe(),ne(r.$$.fragment),a=oe(),ne(i.$$.fragment),o=oe(),ne(u.$$.fragment),s=oe(),ne(l.$$.fragment),f=oe(),ne(c.$$.fragment)},m(p,_){J(t,p,_),te(p,n,_),J(r,p,_),te(p,a,_),J(i,p,_),te(p,o,_),J(u,p,_),te(p,s,_),J(l,p,_),te(p,f,_),J(c,p,_),v=!0},p(p,_){const d={};_&16&&(d.defaultIndex=p[4]),_&16&&(d.onIndexChange=p[15]),t.$set(d);const E={};_&32&&(E.defaultIndex=p[5]),_&32&&(E.onIndexChange=p[16]),r.$set(E);const A={};_&64&&(A.defaultIndex=p[6]),_&64&&(A.onIndexChange=p[17]),i.$set(A);const O={};_&128&&(O.defaultIndex=p[7]),_&128&&(O.onIndexChange=p[18]),u.$set(O);const y={};_&256&&(y.defaultIndex=p[8]),_&256&&(y.onIndexChange=p[19]),l.$set(y);const b={};_&512&&(b.defaultIndex=p[9]),_&512&&(b.onIndexChange=p[20]),c.$set(b)},i(p){v||(z(t.$$.fragment,p),z(r.$$.fragment,p),z(i.$$.fragment,p),z(u.$$.fragment,p),z(l.$$.fragment,p),z(c.$$.fragment,p),v=!0)},o(p){Y(t.$$.fragment,p),Y(r.$$.fragment,p),Y(i.$$.fragment,p),Y(u.$$.fragment,p),Y(l.$$.fragment,p),Y(c.$$.fragment,p),v=!1},d(p){ee(t,p),p&&Q(n),ee(r,p),p&&Q(a),ee(i,p),p&&Q(o),ee(u,p),p&&Q(s),ee(l,p),p&&Q(f),ee(c,p)}}}function xC(e){let t;return{c(){t=Z("span"),t.textContent="Randomization",G(t,"slot","label")},m(n,r){te(n,t,r)},d(n){n&&Q(t)}}}function DC(e){let t,n;return t=new yt({props:{label:"Edge Count (random graphs only)",values:ur.choices,defaultIndex:e[10],onIndexChange:e[21]}}),{c(){ne(t.$$.fragment)},m(r,a){J(t,r,a),n=!0},p(r,a){const i={};a&1024&&(i.defaultIndex=r[10]),a&1024&&(i.onIndexChange=r[21]),t.$set(i)},i(r){n||(z(t.$$.fragment,r),n=!0)},o(r){Y(t.$$.fragment,r),n=!1},d(r){ee(t,r)}}}function FC(e){let t,n,r,a,i,o,u;return n=new hi({props:{$$slots:{content:[kC],label:[LC]},$$scope:{ctx:e}}}),a=new hi({props:{$$slots:{content:[wC],label:[MC]},$$scope:{ctx:e}}}),o=new hi({props:{$$slots:{content:[DC],label:[xC]},$$scope:{ctx:e}}}),{c(){t=Z("div"),ne(n.$$.fragment),r=oe(),ne(a.$$.fragment),i=oe(),ne(o.$$.fragment),G(t,"class","mb-2 rounded flex flex-col w-full text-neutral-200 font-mono bg-override-neutral-900/30 outline-thin")},m(s,l){te(s,t,l),J(n,t,null),D(t,r),J(a,t,null),D(t,i),J(o,t,null),u=!0},p(s,[l]){const f={};l&4194319&&(f.$$scope={dirty:l,ctx:s}),n.$set(f);const c={};l&4195312&&(c.$$scope={dirty:l,ctx:s}),a.$set(c);const v={};l&4195328&&(v.$$scope={dirty:l,ctx:s}),o.$set(v)},i(s){u||(z(n.$$.fragment,s),z(a.$$.fragment,s),z(o.$$.fragment,s),u=!0)},o(s){Y(n.$$.fragment,s),Y(a.$$.fragment,s),Y(o.$$.fragment,s),u=!1},d(s){s&&Q(t),ee(n),ee(a),ee(o)}}}function UC(e,t,n){let r,a,i,o,u,s,l,f,c,v,p;return ye(e,lr,h=>n(0,r=h)),ye(e,fr,h=>n(1,a=h)),ye(e,On,h=>n(2,i=h)),ye(e,cr,h=>n(3,o=h)),ye(e,hr,h=>n(4,u=h)),ye(e,dr,h=>n(5,s=h)),ye(e,pr,h=>n(6,l=h)),ye(e,vr,h=>n(7,f=h)),ye(e,_r,h=>n(8,c=h)),ye(e,gr,h=>n(9,v=h)),ye(e,ur,h=>n(10,p=h)),[r,a,i,o,u,s,l,f,c,v,p,h=>{Ue(lr,r=h,r)},h=>{Ue(fr,a=h,a)},h=>{Ue(On,i=h,i)},h=>{Ue(cr,o=h,o)},h=>{Ue(hr,u=h,u)},h=>{Ue(dr,s=h,s)},h=>{Ue(pr,l=h,l)},h=>{Ue(vr,f=h,f)},h=>{Ue(_r,c=h,c)},h=>{Ue(gr,v=h,v)},h=>{Ue(ur,p=h,p)}]}class GC extends je{constructor(t){super();Ge(this,t,UC,FC,De,{})}}function jC(e){let t,n,r,a;return{c(){t=lt("svg"),n=lt("path"),r=lt("path"),G(n,"d","M0 0h24v24H0z"),G(n,"fill","none"),G(r,"d","M6.76 4.84l-1.8-1.79-1.41 1.41 1.79 1.79 1.42-1.41zM4 10.5H1v2h3v-2zm9-9.95h-2V3.5h2V.55zm7.45 3.91l-1.41-1.41-1.79 1.79 1.41 1.41 1.79-1.79zm-3.21 13.7l1.79 1.8 1.41-1.41-1.8-1.79-1.4 1.4zM20 10.5v2h3v-2h-3zm-8-5c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6-2.69-6-6-6zm-1 16.95h2V19.5h-2v2.95zm-7.45-3.91l1.41 1.41 1.79-1.8-1.41-1.41-1.79 1.8z"),G(t,"class",a=e[0].class),G(t,"xmlns","http://www.w3.org/2000/svg"),G(t,"height","24px"),G(t,"viewBox","0 0 24 24"),G(t,"width","24px"),G(t,"fill","#000000")},m(i,o){te(i,t,o),D(t,n),D(t,r)},p(i,[o]){o&1&&a!==(a=i[0].class)&&G(t,"class",a)},i:be,o:be,d(i){i&&Q(t)}}}function BC(e,t,n){return e.$$set=r=>{n(0,t=Ze(Ze({},t),tt(r)))},t=tt(t),[t]}class WC extends je{constructor(t){super();Ge(this,t,BC,jC,De,{})}}function VC(e){let t,n,r;return{c(){t=lt("svg"),n=lt("path"),G(n,"d","M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"),G(t,"xmlns","http://www.w3.org/2000/svg"),G(t,"width","24"),G(t,"height","24"),G(t,"viewBox","0 0 24 24"),G(t,"class",r=e[0].class)},m(a,i){te(a,t,i),D(t,n)},p(a,[i]){i&1&&r!==(r=a[0].class)&&G(t,"class",r)},i:be,o:be,d(a){a&&Q(t)}}}function KC(e,t,n){return e.$$set=r=>{n(0,t=Ze(Ze({},t),tt(r)))},t=tt(t),[t]}class zC extends je{constructor(t){super();Ge(this,t,KC,VC,De,{})}}function HC(e){let t,n,r,a,i,o,u,s;return u=new zC({props:{class:"!fill-override-bg/80 hover:!fill-override-blue w-auto h-7"}}),{c(){t=Z("div"),n=Z("div"),r=Z("div"),r.innerHTML='<span class="font-semibold">\u043A\u04AF\u043D\u0456\u043C</span>',a=oe(),i=Z("div"),o=Z("a"),ne(u.$$.fragment),G(r,"class","flex-grow"),G(o,"href","https://github.com/jackhenry/arna"),G(i,"class",""),G(n,"class","w-full flex"),G(t,"class","text-override-bg overflow-hidden bg-override-yellow relative p-1")},m(l,f){te(l,t,f),D(t,n),D(n,r),D(n,a),D(n,i),D(i,o),J(u,o,null),s=!0},p:be,i(l){s||(z(u.$$.fragment,l),s=!0)},o(l){Y(u.$$.fragment,l),s=!1},d(l){l&&Q(t),ee(u)}}}class YC extends je{constructor(t){super();Ge(this,t,null,HC,De,{})}}function XC(e){let t;return{c(){t=Z("footer"),t.innerHTML=`<div class="flex text-override-blue font-medium text-xs md:text-sm font-sans"><span class="">m\u0131rzam</span> 
    <a href="https://jackhenry.github.io/" class="flex-grow text-override-yellow text-center"><span class="hover:text-override-blue">by jack henry</span></a> 
    <a href="https://jackhenry.github.io/" class="hover:text-override-yellow"><span>hire me</span></a></div>`,G(t,"class","w-full mb-2")},m(n,r){te(n,t,r)},p:be,i:be,o:be,d(n){n&&Q(t)}}}class qC extends je{constructor(t){super();Ge(this,t,null,XC,De,{})}}function ru(e){let t,n;return t=new GC({}),{c(){ne(t.$$.fragment)},m(r,a){J(t,r,a),n=!0},i(r){n||(z(t.$$.fragment,r),n=!0)},o(r){Y(t.$$.fragment,r),n=!1},d(r){ee(t,r)}}}function au(e){let t,n;return t=new TC({}),{c(){ne(t.$$.fragment)},m(r,a){J(t,r,a),n=!0},i(r){n||(z(t.$$.fragment,r),n=!0)},o(r){Y(t.$$.fragment,r),n=!1},d(r){ee(t,r)}}}function ZC(e){let t,n,r,a,i,o,u,s,l,f,c,v,p,_,d,E,A;n=new YC({}),o=new WC({props:{class:"!fill-override-yellow mt-1 mr-2 animate-spin-slow"}}),f=new rf({});let O=e[0]&&ru(),y=e[1]&&au();return _=new tC({}),E=new qC({}),{c(){t=Z("main"),ne(n.$$.fragment),r=oe(),a=Z("div"),i=Z("div"),ne(o.$$.fragment),u=oe(),s=Z("span"),s.innerHTML=`<span class="font-serif text-3xl text-override-blue font-semibold">\u0410\u0440\u043D\u0430</span> 
        <span class="text-3xl text-override-yellow font-semibold">Graph DSL</span>`,l=oe(),ne(f.$$.fragment),c=oe(),O&&O.c(),v=oe(),y&&y.c(),p=oe(),ne(_.$$.fragment),d=oe(),ne(E.$$.fragment),G(s,"class","font-sans"),G(i,"class","flex items-center mb-4"),G(a,"class","flex flex-col max-w-4xl items-center mx-auto pt-4 px-4")},m(b,C){te(b,t,C),J(n,t,null),D(t,r),D(t,a),D(a,i),J(o,i,null),D(i,u),D(i,s),D(a,l),J(f,a,null),D(a,c),O&&O.m(a,null),D(a,v),y&&y.m(a,null),D(a,p),J(_,a,null),D(a,d),J(E,a,null),A=!0},p(b,[C]){b[0]?O?C&1&&z(O,1):(O=ru(),O.c(),z(O,1),O.m(a,v)):O&&(ea(),Y(O,1,1,()=>{O=null}),ta()),b[1]?y?C&2&&z(y,1):(y=au(),y.c(),z(y,1),y.m(a,p)):y&&(ea(),Y(y,1,1,()=>{y=null}),ta())},i(b){A||(z(n.$$.fragment,b),z(o.$$.fragment,b),z(f.$$.fragment,b),z(O),z(y),z(_.$$.fragment,b),z(E.$$.fragment,b),A=!0)},o(b){Y(n.$$.fragment,b),Y(o.$$.fragment,b),Y(f.$$.fragment,b),Y(O),Y(y),Y(_.$$.fragment,b),Y(E.$$.fragment,b),A=!1},d(b){b&&Q(t),ee(n),ee(o),ee(f),O&&O.d(),y&&y.d(),ee(_),ee(E)}}}function QC(e,t,n){let r,a;return ye(e,_u,i=>n(0,r=i)),ye(e,vu,i=>n(1,a=i)),[r,a]}class JC extends je{constructor(t){super();Ge(this,t,QC,ZC,De,{})}}new JC({target:document.getElementById("root")});
