var mn=Object.defineProperty;var vn=(i,t,e)=>t in i?mn(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e;var X=(i,t,e)=>(vn(i,typeof t!="symbol"?t+"":t,e),e);import{C as Ye,S as F,i as W,s as j,e as S,t as P,a as b,b as D,c as g,l as an,d as Se,n as U,f as k,g as Q,h as Z,j as bn,k as T,m as _n,o as V,p as be,w as Re,q as L,r as x,u as y,v as $,x as A,y as R,z as Ne,A as yn,B as we,D as rn,E as G,K as q,F as $n,G as rt,H as it,I as ot,J as st,L as et,M as wn,N as En,O as Fe,P as Cn,Q as We,R as Sn,T as oe,U as Mn,V as Ln}from"./vendor.e13bc48d.js";const xn=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function e(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerpolicy&&(r.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?r.credentials="include":a.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(a){if(a.ep)return;a.ep=!0;const r=e(a);fetch(a.href,r)}};xn();const An=/[a-zA-Z0-9#]\w*/;function Dn(){return{startState:()=>({inAttributes:!1,inString:!1}),token:(i,t)=>{if(i.match(/GRAPH/i,!0))return"def";if(i.match(/{/)||i.match(/}/))return"bracket";if(!t.inAttributes&&i.match(An,!0))return"variable";if(t.inAttributes){if(i.match(/,/))return null;if(i.match(/".*?"/))return"property";if(i.match(/[0-9]/))return"def";if(i.match(/=/,!0))return"atom";if(i.match(/BUNDLE/i)||i.match(/COLOR/i)||i.match(/LABEL/i)||i.match(/LINE-WIDTH/i))return"keyword"}return i.match(/\[/)?(t.inAttributes=!0,null):i.match(/\]/)?(t.inAttributes=!1,null):(i.next(),null)}}}function on(){"arna"in Ye.modes||Ye.defineMode("arna",Dn)}function kn(i){let t,e,n,a,r;return{c(){t=S("button"),e=P(i[0]),b(t,"class",n=`rounded px-2 py-1 mx-1 text-override-fg text-sm font-semibold ${i[2].class}`)},m(s,l){D(s,t,l),g(t,e),a||(r=an(t,"click",function(){bn(i[1])&&i[1].apply(this,arguments)}),a=!0)},p(s,[l]){i=s,l&1&&Se(e,i[0]),l&4&&n!==(n=`rounded px-2 py-1 mx-1 text-override-fg text-sm font-semibold ${i[2].class}`)&&b(t,"class",n)},i:U,o:U,d(s){s&&k(t),a=!1,r()}}}function Pn(i,t,e){let{label:n}=t,{onClick:a}=t;return i.$$set=r=>{e(2,t=Q(Q({},t),Z(r))),"label"in r&&e(0,n=r.label),"onClick"in r&&e(1,a=r.onClick)},t=Z(t),[n,a,t]}class tt extends F{constructor(t){super();W(this,t,Pn,kn,j,{label:0,onClick:1})}}function Tn(i){let t,e,n,a,r,s=i[2]?"\u25BC":"\u25BA",l,u,o,c;return{c(){t=S("div"),e=S("span"),n=P(i[0]),a=T(),r=S("span"),l=P(s),b(e,"class","underline hover:text-override-fg focus:text-override-neutral-200"),b(r,"class","text-override-yellow"),b(t,"class",u=`${i[3].class}`)},m(f,h){D(f,t,h),g(t,e),g(e,n),g(t,a),g(t,r),g(r,l),o||(c=an(t,"click",i[4]),o=!0)},p(f,[h]){h&1&&Se(n,f[0]),h&4&&s!==(s=f[2]?"\u25BC":"\u25BA")&&Se(l,s),h&8&&u!==(u=`${f[3].class}`)&&b(t,"class",u)},i:U,o:U,d(f){f&&k(t),o=!1,c()}}}function In(i,t,e){let n,a=U,r=()=>(a(),a=_n(l,o=>e(2,n=o)),l);i.$$.on_destroy.push(()=>a());let{text:s}=t,{show:l}=t;r();const u=()=>{V(l,n=!n,n)};return i.$$set=o=>{e(3,t=Q(Q({},t),Z(o))),"text"in o&&e(0,s=o.text),"show"in o&&r(e(1,l=o.show))},t=Z(t),[s,l,n,t,u]}class Ft extends F{constructor(t){super();W(this,t,In,Tn,j,{text:0,show:1})}}const On={purple:"#A21CAF",green:"#22C55E",blue:"#00AFCA",yellow:"#FEC604",red:"#BE123C",fg:"#F7F7F7",bg:"#121212",neutral:{50:"#F7F7F7",100:"#E1E1E1",200:"#CFCFCF",300:"#B1B1B1",400:"#9E9E9E",500:"#7E7E7E",600:"#626262",700:"#515151",800:"#3B3B3B",900:"#222222"}},Rn={extend:{animation:{"spin-slow":"spin 4s linear infinite"},gridTemplateColumns:{custom:"repeat(auto-fit, minmax(70px, 1fr))"},colors:{override:On}},fontFamily:{sans:["Inter","sans-serif"],mono:"'Source Code Pro', monospace",serif:"'Roboto Slab', serif"}},_e={content:["./index.html","./src/**/*.{svelte,ts}"],theme:Rn,plugins:[]};class sn{static randomRGBA(t){const e=t||.2,n=[be(_e.theme.extend.colors.override.blue).alpha(e).hex("rgba"),be(_e.theme.extend.colors.override.yellow).alpha(e).hex("rgba"),be(_e.theme.extend.colors.override.red).alpha(e).hex("rgba"),be(_e.theme.extend.colors.override.purple).alpha(e).hex("rgba")],a=Math.floor(Math.random()*n.length);return n[a]}static generate(t){let e="";const n=new Set,a=new Set;return[...Array(t)].forEach(()=>{let r=!1;for(;!r;){const s=Math.floor(Math.random()*(t-2)),l=Math.floor(Math.random()*(t-1)),u=`N${s}--N${l}`;s!==l&&!a.has(u)&&(n.add(s),n.add(l),a.add(u),e+=`${u}  [line-width=3,color="${this.randomRGBA()}"]
`,r=!0)}}),n.forEach((r,s)=>{const l=`label="Node with identifier: N${s}"`,u=`color="${this.randomRGBA(.6)}"`;e=`N${s} [${u},${l}]
${e}`}),e=`graph RandomGraph [bundle] {
${e}`,e+="}",{edgeCount:t,nodeCount:n.size,code:e}}}const Nn=50,ln=sn.generate(Nn);function ne(i,t){const{subscribe:e,update:n}=Re(t>i.length?0:t);return{subscribe:e,choices:i,set:a=>n(r=>a>i.length?r:a)}}const ve=Re(ln.code),Wt=Re(ln),un=Re(!1),cn=Re(!0),Me=ne([10,20,30,50,75,100,200],3),Le=ne([300,500,700,900,1100,1500],3),Ee=ne([2,4,6,8,10,12,16,20,30],4),xe=ne(Ee.choices,3),Ae=ne([.001,.005,.01,.05,.1,.2],3),De=ne([.1,.2,.4,.6,.8,.99],0),ke=ne([.01,.1,.2,.4,.6,.8,.99],1),Pe=ne([.1,.2,.3,.5,.8,.99],0),Te=ne([2,3,4,5,6],0),Ie=ne([40,50,70,90,110,130],3),Oe=ne([.3,.4,.667,.7,.8],3);function Un(i){let t,e,n,a,r,s,l,u,o,c,f,h,d,p,m,_;return s=new tt({props:{onClick:i[1],label:"Random",type:"primary",class:"bg-override-blue hover:bg-override-blue/75 text-override-bg"}}),u=new tt({props:{onClick:i[2],label:"Refresh",class:"bg-override-yellow hover:bg-override-yellow/75 text-override-bg"}}),c=new tt({props:{onClick:i[3],label:"Submit",class:"bg-override-green hover:bg-override-green/75 text-override-bg"}}),d=new Ft({props:{show:un,text:"syntax help"}}),m=new Ft({props:{show:cn,text:"adjust parameters",class:"ml-2"}}),{c(){t=S("div"),e=S("textarea"),n=T(),a=S("div"),r=S("div"),L(s.$$.fragment),l=T(),L(u.$$.fragment),o=T(),L(c.$$.fragment),f=T(),h=S("div"),L(d.$$.fragment),p=T(),L(m.$$.fragment),b(e,"id","editor"),b(r,"class","flex"),b(h,"class","flex flex-grow mt-2 cursor-pointer text-override-blue text-xs font-semibold"),b(a,"class","flex flex-col items-center pt-2"),b(t,"class","w-full h-22 mb-2")},m(v,M){D(v,t,M),g(t,e),i[4](e),g(t,n),g(t,a),g(a,r),x(s,r,null),g(r,l),x(u,r,null),g(r,o),x(c,r,null),g(a,f),g(a,h),x(d,h,null),g(h,p),x(m,h,null),_=!0},p:U,i(v){_||(y(s.$$.fragment,v),y(u.$$.fragment,v),y(c.$$.fragment,v),y(d.$$.fragment,v),y(m.$$.fragment,v),_=!0)},o(v){$(s.$$.fragment,v),$(u.$$.fragment,v),$(c.$$.fragment,v),$(d.$$.fragment,v),$(m.$$.fragment,v),_=!1},d(v){v&&k(t),i[4](null),A(s),A(u),A(c),A(d),A(m)}}}function Bn(i,t,e){let n,a,r;R(i,ve,h=>e(6,n=h)),R(i,Wt,h=>e(7,a=h)),R(i,Me,h=>e(8,r=h));let s,l;const u=()=>{const h=Me.choices[r],d=sn.generate(h);V(ve,n=d.code,n),V(Wt,a=d,a)},o=()=>{const h=n;V(ve,n=void 0,n),V(ve,n=h,n)},c=()=>{V(ve,n=l.getValue(),n)};Ne(()=>{on(),l=Ye.fromTextArea(s,{theme:"midnight",mode:"arna",value:n,lineNumbers:!0,tabSize:2});try{const h=document.getElementsByClassName("CodeMirror").item(0);h.classList.add("!font-mono"),h.classList.add("!text-sm"),h.classList.add("!font-semibold")}catch{console.warn("Failed to changed editor font. Unable to retrieve CodeMirror editor element.")}}),yn(()=>{l.getValue()!==n&&l.setValue(n)});function f(h){we[h?"unshift":"push"](()=>{s=h,e(0,s)})}return[s,u,o,c,f]}class Vn extends F{constructor(t){super();W(this,t,Bn,Un,j,{})}}var ie={},lt={};(function(i){i.__esModule=!0,i.ArnaLexer=i.languageTokens=void 0;var t=rn,e=t.createToken,n=t.Lexer,a=e({name:"WhiteSpace",pattern:/\s+/,group:t.Lexer.SKIPPED}),r=e({name:"Identifier",pattern:/[a-zA-Z0-9#]\w*/}),s=e({name:"Graph",pattern:/GRAPH/i,longer_alt:r}),l=e({name:"Bundle",pattern:/BUNDLE/i,longer_alt:r}),u=e({name:"Color",pattern:/COLOR/i,longer_alt:r}),o=e({name:"Label",pattern:/LABEL/i,longer_alt:r}),c=e({name:"LineWidth",pattern:/LINE-WIDTH/i,longer_alt:r}),f=e({name:"FontSize",pattern:/FONT-SIZE/i,longer_alt:r}),h=e({name:"Font",pattern:/PLONT/i,longer_alt:r}),d=e({name:"EdgeUndirected",pattern:/--/}),p=e({name:"EdgeDirected",pattern:/->/}),m=e({name:"OpenBracket",pattern:/\[/}),_=e({name:"CloseBracket",pattern:/\]/}),v=e({name:"Equal",pattern:/=/}),M=e({name:"Comma",pattern:/,/}),w=e({name:"DoubleQuotedString",pattern:/".*?"/}),N=e({name:"OpenCurlyBrace",pattern:/{/}),z=e({name:"CloseCurlyBrace",pattern:/}/}),B=e({name:"Variable",pattern:/[a-zA-Z]+/}),re=e({name:"SingleLineComment",pattern:/\/\/.+/,group:"comments"});i.languageTokens={WhiteSpace:a,Color:u,Label:o,LineWidth:c,FontSize:f,Font:h,Bundle:l,Graph:s,Identifier:r,EdgeUndirected:d,EdgeDirected:p,Equal:v,Comma:M,DoubleQuotedString:w,OpenBracket:m,CloseBracket:_,OpenCurlyBrace:N,CloseCurlyBrace:z,SingleLineComment:re,Variable:B};var H=new n(Object.values(i.languageTokens));i.ArnaLexer={languageTokens:i.languageTokens,tokenize:function(C){var J=H.tokenize(C);return J.errors.length>0&&console.error("Lexing errors detected."),J}}})(lt);var ye={},Gn=G&&G.__extends||function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(n[r]=a[r])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();ye.__esModule=!0;ye.ArnaParser=ye.ArnaCstParser=void 0;var zn=rn,O=lt,fn=function(i){Gn(t,i);function t(){var e=i.call(this,O.languageTokens)||this;return e.bundleKeyValue=e.RULE("bundleKeyValue",function(){e.CONSUME(O.languageTokens.Bundle)}),e.colorKeyValue=e.RULE("colorKeyValue",function(){e.CONSUME(O.languageTokens.Color),e.CONSUME(O.languageTokens.Equal),e.OR([{ALT:function(){return e.CONSUME(O.languageTokens.DoubleQuotedString)}},{ALT:function(){return e.CONSUME(O.languageTokens.Identifier)}}])}),e.labelKeyValue=e.RULE("labelKeyValue",function(){e.CONSUME(O.languageTokens.Label),e.CONSUME(O.languageTokens.Equal),e.CONSUME(O.languageTokens.DoubleQuotedString)}),e.lineWidthKeyValue=e.RULE("lineWidthKeyValue",function(){e.CONSUME(O.languageTokens.LineWidth),e.CONSUME(O.languageTokens.Equal),e.CONSUME(O.languageTokens.Identifier)}),e.fontKeyValue=e.RULE("fontKeyValue",function(){e.CONSUME(O.languageTokens.Font),e.CONSUME(O.languageTokens.Equal),e.CONSUME(O.languageTokens.DoubleQuotedString)}),e.fontSizeKeyValue=e.RULE("fontSizeKeyValue",function(){e.CONSUME(O.languageTokens.FontSize),e.CONSUME(O.languageTokens.Equal),e.CONSUME(O.languageTokens.DoubleQuotedString)}),e.keyValuePair=e.RULE("keyValuePair",function(){e.OR([{ALT:function(){return e.SUBRULE(e.bundleKeyValue)}},{ALT:function(){return e.SUBRULE(e.colorKeyValue)}},{ALT:function(){return e.SUBRULE(e.labelKeyValue)}},{ALT:function(){return e.SUBRULE(e.lineWidthKeyValue)}},{ALT:function(){return e.SUBRULE(e.fontKeyValue)}},{ALT:function(){return e.SUBRULE(e.fontSizeKeyValue)}}])}),e.attribute=e.RULE("attribute",function(){e.CONSUME(O.languageTokens.OpenBracket),e.OPTION(function(){e.MANY_SEP({SEP:O.languageTokens.Comma,DEF:function(){e.SUBRULE(e.keyValuePair)}})}),e.CONSUME(O.languageTokens.CloseBracket)}),e.nodeDeclaration=e.RULE("nodeDeclaration",function(){e.CONSUME(O.languageTokens.Identifier),e.OPTION2(function(){e.SUBRULE(e.attribute)})}),e.edgeDeclaration=e.RULE("edgeDeclaration",function(){e.CONSUME(O.languageTokens.Identifier),e.OR([{ALT:function(){return e.CONSUME(O.languageTokens.EdgeUndirected)}},{ALT:function(){return e.CONSUME2(O.languageTokens.EdgeDirected)}}]),e.CONSUME2(O.languageTokens.Identifier),e.OPTION2(function(){e.SUBRULE(e.attribute)})}),e.document=e.RULE("document",function(){e.CONSUME(O.languageTokens.Graph),e.CONSUME(O.languageTokens.Identifier),e.OPTION1(function(){e.SUBRULE(e.attribute)}),e.CONSUME(O.languageTokens.OpenCurlyBrace),e.OPTION2(function(){e.MANY(function(){e.OR([{ALT:function(){return e.SUBRULE(e.edgeDeclaration)}},{ALT:function(){return e.SUBRULE(e.nodeDeclaration)}}])})}),e.CONSUME(O.languageTokens.CloseCurlyBrace)}),e.performSelfAnalysis(),e}return t}(zn.CstParser);ye.ArnaCstParser=fn;ye.ArnaParser=new fn;var ae={},dn={},hn={},ut={};(function(i){i.__esModule=!0;var t=function(){function e(){}return e.vectorDotProduct=function(n,a){return n.x*a.x+n.y+a.y},e.edgeToVector=function(n,a){return{x:a.x-n.x,y:a.y-n.y}},e.edgeLength=function(n,a,r){return Math.abs(n.x-a.x)<r&&Math.abs(n.y-a.y)<r?r:Math.sqrt(Math.pow(n.x-a.x,2)+Math.pow(n.y-a.y,2))},e.edgeMidpoint=function(n,a){return{x:(n.x+a.x)/2,y:(n.y+a.y)/2}},e.euclideanDistance=function(n,a){return Math.sqrt(Math.pow(n.x-a.x,2)+Math.pow(n.y-a.y,2))},e.dividedEdgeLength=function(n){return n.reduce(function(a,r,s){return s===0?0:a+e.euclideanDistance(n[s],n[s-1])},0)},e.projectPointOnLine=function(n,a,r){var s=Math.sqrt(Math.pow(r.x-a.x,2)+Math.pow(r.y-a.y,2)),l=((a.y-n.y)*(a.y-r.y)-(a.x-n.x)*(r.x-a.x))/Math.pow(s,2);return{x:a.x+l*(r.x-a.x),y:a.y+l*(r.y-a.y)}},e}();i.default=t})(ut);var pn={};(function(i){i.__esModule=!0;var t=ut,e=function(){function n(){}return n.applySpringForce=function(a,r,s){var l=a[r-1],u=a[r+1],o=a[r];return{x:s*(l.x-o.x+u.x-o.x),y:s*(l.y-o.y+u.y-o.y)}},n.applyElectrostaticForce=function(a,r,s,l,u){return r[s].reduce(function(o,c){var f={x:a[c][l].x-a[s][l].x,y:a[c][l].y-a[s][l].y};if(Math.abs(f.x)>u||Math.abs(f.y)>u){var h=a[c][l],d=a[s][l],p=1/t.default.edgeLength(h,d,-1/0);return{x:o.x+f.x*p,y:o.y+f.y*p}}return{x:o.x,y:o.y}},{x:0,y:0})},n.applyForcesOnEdgeSubdivisionPoints=function(a,r,s,l,u,o,c,f){for(var h=a[u],d=f.bundlingStiffness/(t.default.edgeLength(r[h.tail],r[h.head],f.error)*(o+1)),p=[{x:0,y:0}],m=1;m<o+1;m++){var _={x:0,y:0},v=n.applySpringForce(s[u],m,d),M=n.applyElectrostaticForce(s,l,u,m,c);_.x=c*(v.x+M.x),_.y=c*(v.y+M.y),p.push(_)}return p.push({x:0,y:0}),p},n}();i.default=e})(pn);(function(i){var t=G&&G.__assign||function(){return t=Object.assign||function(l){for(var u,o=1,c=arguments.length;o<c;o++){u=arguments[o];for(var f in u)Object.prototype.hasOwnProperty.call(u,f)&&(l[f]=u[f])}return l},t.apply(this,arguments)},e=G&&G.__spreadArray||function(l,u,o){if(o||arguments.length===2)for(var c=0,f=u.length,h;c<f;c++)(h||!(c in u))&&(h||(h=Array.prototype.slice.call(u,0,c)),h[c]=u[c]);return l.concat(h||Array.prototype.slice.call(u))};i.__esModule=!0;var n=ut,a=pn,r={bundlingStiffness:.1,initialStepSize:.1,initialSubdivision:1,subdivisionRate:2,cycleCount:6,initialIterationCount:90,iterationDecreaseRate:2/3,compatabilityThreshold:.6,error:1e-6},s=function(){function l(u,o,c){this.edgeSubdivisionPoints=[],this.edgeCompatabilityList=[],this.nodeData=u,this.edgeData=o,this.parameters=r,c!==void 0&&(this.parameters=t(t({},r),c)),this.filterInvalidEdges()}return l.prototype.initEdgeSubdivisionPoints=function(){var u=this;this.edgeData.forEach(function(o,c){u.parameters.initialSubdivision===1?u.edgeSubdivisionPoints[c]=[]:(u.edgeSubdivisionPoints[c]=[],u.edgeSubdivisionPoints[c].push(u.nodeData[o.tail]),u.edgeSubdivisionPoints[c].push(u.nodeData[o.head]))})},l.prototype.initEdgeCompatabilityList=function(){var u=this;this.edgeData.forEach(function(o,c){u.edgeCompatabilityList[c]=[]})},l.prototype.filterInvalidEdges=function(){var u=this;return this.edgeData.filter(function(o){return u.nodeData[o.tail].x!==u.nodeData[o.head].x||u.nodeData[o.tail].y!==u.nodeData[o.head].y})},l.prototype.updateEdgeSubdivisions=function(u){var o=this;this.edgeData.forEach(function(c,f){if(u===1)o.edgeSubdivisionPoints[f].push(o.nodeData[c.tail]),o.edgeSubdivisionPoints[f].push(n.default.edgeMidpoint(o.nodeData[c.tail],o.nodeData[c.head])),o.edgeSubdivisionPoints[f].push(o.nodeData[c.head]);else{for(var h=n.default.dividedEdgeLength(o.edgeSubdivisionPoints[f]),d=h/(u+1),p=[o.nodeData[c.tail]],m=d,_=o.edgeSubdivisionPoints[f],v=1;v<_.length;v++){for(var M=_[v],w=n.default.euclideanDistance(M,o.edgeSubdivisionPoints[f][v-1]);w>m;){var N=m/w,z=o.edgeSubdivisionPoints[f][v-1],B={x:z.x+N*(M.x-z.x),y:z.y+N*(M.y-z.y)};p.push(B),w-=m,m=d}m-=w}p.push(o.nodeData[o.edgeData[f].head]),o.edgeSubdivisionPoints[f]=p}})},l.prototype.angleCompatibility=function(u,o){var c=this.nodeData[u.tail],f=this.nodeData[u.head],h=this.nodeData[o.tail],d=this.nodeData[o.head],p=this.parameters.error,m=n.default.edgeLength(c,f,p)*n.default.edgeLength(h,d,p),_=n.default.vectorDotProduct(n.default.edgeToVector(c,f),n.default.edgeToVector(h,d));return Math.abs(_/m)},l.prototype.scaleCompatability=function(u,o){var c=this.nodeData[u.tail],f=this.nodeData[u.head],h=this.nodeData[o.tail],d=this.nodeData[o.head],p=this.parameters.error,m=n.default.edgeLength(c,f,p),_=n.default.edgeLength(h,d,p),v=(m+_)/2;return 2/(v/Math.min(m,_)+Math.max(m,_)/v)},l.prototype.positionCompatibility=function(u,o){var c=this.nodeData[u.tail],f=this.nodeData[u.head],h=this.nodeData[o.tail],d=this.nodeData[o.head],p=this.parameters.error,m=n.default.edgeLength(c,f,p),_=n.default.edgeLength(h,d,p),v=(m+_)/2,M=n.default.edgeMidpoint(c,f),w=n.default.edgeMidpoint(h,d),N=n.default.euclideanDistance(M,w);return v/(v+N)},l.prototype.edgeVisibility=function(u,o){var c=this.nodeData[u.tail],f=this.nodeData[u.head],h=this.nodeData[o.tail],d=this.nodeData[o.head],p=n.default.projectPointOnLine(h,c,f),m=n.default.projectPointOnLine(d,c,f),_=n.default.edgeMidpoint(p,m),v=n.default.edgeMidpoint(c,f),M=n.default.euclideanDistance(v,_),w=n.default.euclideanDistance(p,m);return Math.max(0,1-2*M/w)},l.prototype.visibilityCompatibility=function(u,o){return Math.min(this.edgeVisibility(u,o),this.edgeVisibility(o,u))},l.prototype.compatibilityScore=function(u,o){return this.angleCompatibility(u,o)*this.scaleCompatability(u,o)*this.positionCompatibility(u,o)*this.visibilityCompatibility(u,o)},l.prototype.isCompatible=function(u,o){return this.compatibilityScore(u,o)>=this.parameters.compatabilityThreshold},l.prototype.updateCompatibilityList=function(){for(var u=0;u<this.edgeData.length-1;u++)for(var o=u+1;o<this.edgeData.length;o++)this.isCompatible(this.edgeData[u],this.edgeData[o])&&(this.edgeCompatabilityList[u].push(o),this.edgeCompatabilityList[o].push(u))},l.prototype.bundle=function(){var u=this,o=this.parameters.initialStepSize,c=this.parameters.initialIterationCount,f=this.parameters.initialSubdivision;return this.initEdgeSubdivisionPoints(),this.initEdgeCompatabilityList(),this.updateEdgeSubdivisions(f),this.updateCompatibilityList(),e([],Array(this.parameters.cycleCount),!0).forEach(function(){e([],Array(Math.round(c)),!0).forEach(function(){var h=u.edgeData.map(function(d,p){return a.default.applyForcesOnEdgeSubdivisionPoints(u.edgeData,u.nodeData,u.edgeSubdivisionPoints,u.edgeCompatabilityList,p,f,o,u.parameters)});u.edgeData.forEach(function(d,p){e([],Array(f+1),!0).forEach(function(m,_){var v=h[p][_].x,M=h[p][_].y;u.edgeSubdivisionPoints[p][_].x+=v,u.edgeSubdivisionPoints[p][_].y+=M})})}),o/=2,f*=u.parameters.subdivisionRate,c*=u.parameters.iterationDecreaseRate,u.updateEdgeSubdivisions(f)}),this.edgeSubdivisionPoints},l}();i.default=s})(hn);(function(i){i.__esModule=!0;var t=hn;i.default=t.default})(dn);var $e={},je=G&&G.__assign||function(){return je=Object.assign||function(i){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(i[a]=t[a])}return i},je.apply(this,arguments)};$e.__esModule=!0;$e.ConcreteSyntaxTree=$e.Graph=void 0;var Xn=500,Yn=6,Fn=2,Wn=.01,jn=.5,jt={bundle:!1,maxTicks:Xn,maxRepulsiveDistance:Yn,optimalDistance:Fn,c:Wn,maxVertexDisplacement:jn},Hn=function(){function i(t,e,n){this.nodes=t,this.edges=e,this.parameters=jt,n!==void 0&&(this.parameters=i.buildParameters(n))}return i.buildParameters=function(t){return je(je({},jt),t)},i}();$e.Graph=Hn;var Kn=function(){function i(t){this.rootNode=t}return i}();$e.ConcreteSyntaxTree=Kn;var qn=G&&G.__extends||function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(n[r]=a[r])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();ae.__esModule=!0;ae.ArnaGraph=ae.ArnaEdge=ae.ArnaNode=void 0;var Qn=dn,Zn=$e,Jn=function(){function i(t,e,n,a){this.identifier=t,this.positionX=i.getRandomFloatBounded(-1*e,n),this.positionY=i.getRandomFloatBounded(-1*e,n),this.forceX=0,this.forceY=0,this.options=a}return i.getRandomFloatBounded=function(t,e){return Math.random()*(t-e)+e},i}();ae.ArnaNode=Jn;var ea=function(){function i(t,e,n){this.tail=t,this.head=e,this.attraction=1,this.options=n}return i}();ae.ArnaEdge=ea;var ta=function(i){qn(t,i);function t(e,n,a){var r=i.call(this,e,n,a)||this;return r.xLayoutMin=1/0,r.xLayoutMax=-1/0,r.yLayoutMin=1/0,r.yLayoutMax=-1/0,r}return t.prototype.setEdgeSubdivisions=function(e){this.edgeSubdivisions=e},t.prototype.calculateRepulsion=function(){var e=this,n=[];this.nodes.forEach(function(a){n.forEach(function(r){if(!(!a||!r)){var s=r.positionX-a.positionX,l=r.positionY-a.positionY,u=Math.pow(s,2)+Math.pow(l,2);u<.01&&(s=.1*Math.random()+.1,l=.1*Math.random()+.1,u=Math.pow(s,2)+Math.pow(l,2));var o=Math.sqrt(u);if(o<e.parameters.maxRepulsiveDistance){var c=Math.pow(e.parameters.optimalDistance,2)/o;r.forceX+=c*s/o,r.forceY+=c*l/o,a.forceX-=c*s/o,a.forceY-=c*l/o}}}),n.push(a)})},t.prototype.calculateAttraction=function(){var e=this;this.edges.forEach(function(n){var a=n.tail,r=n.head,s=r.positionX-a.positionX,l=r.positionY-a.positionY,u=Math.pow(s,2)+Math.pow(l,2);u<.01&&(s=.1*Math.random()+.1,l=.1*Math.random()+.1,u=Math.pow(s,2)+Math.pow(l,2));var o=Math.sqrt(u);o>e.parameters.maxRepulsiveDistance&&(o=e.parameters.maxRepulsiveDistance,u=Math.pow(o,2));var c=(u-Math.pow(e.parameters.optimalDistance,2))/e.parameters.optimalDistance;n.attraction||(n.attraction=1),c*=Math.log(n.attraction)*.5+1,r.forceX-=c*s/o,r.forceY-=c*l/o,a.forceX+=c*s/o,a.forceY+=c*l/o})},t.prototype.bundleEdges=function(e){var n={};this.nodes.forEach(function(l){n[l.identifier]={x:l.positionX,y:l.positionY}});var a=this.edges.map(function(l){return{tail:l.tail.identifier,head:l.head.identifier}}),r=new Qn.default(n,a,e),s=r.bundle();this.setEdgeSubdivisions(s)},t.prototype.nodeMappings=function(){var e=this,n={};return this.edges.forEach(function(a,r){var s=a.tail,l=a.head,u=e.edgeSubdivisions&&e.parameters.bundle?e.edgeSubdivisions[r]:[];u.length<0&&u.push({x:s.positionX,y:s.positionY},{x:l.positionX,y:l.positionY});var o={tail:a.tail,head:a.head,edge:u,edgeOptions:a.options};s.identifier in n?n[s.identifier].push(o):n[s.identifier]=[o],l.identifier in n?n[l.identifier].push({tail:a.head,head:a.tail,edge:u,edgeOptions:a.options}):n[l.identifier]=[{tail:a.head,head:a.tail,edge:u,edgeOptions:a.options}]}),n},t.prototype.commitChanges=function(){var e=this,n=this.parameters.c,a=this.parameters.maxVertexDisplacement;this.nodes.forEach(function(r){var s=n*r.forceX,l=n*r.forceY;s>a&&(s=a),s<-1*a&&(s=-1*a),l>a&&(l=a),l<-1*a&&(l=-1*a),r.positionX+=s,r.positionY+=l,e.xLayoutMin=r.positionX<e.xLayoutMin?r.positionX:e.xLayoutMin,e.xLayoutMax=r.positionX>e.xLayoutMax?r.positionX:e.xLayoutMax,e.yLayoutMin=r.positionY<e.yLayoutMin?r.positionY:e.yLayoutMin,e.yLayoutMax=r.positionY>e.yLayoutMax?r.positionY:e.yLayoutMax,r.forceX=0,r.forceY=0})},t.prototype.tick=function(){this.calculateRepulsion(),this.calculateAttraction(),this.commitChanges()},t.prototype.computeLayout=function(){for(var e=0;e<this.parameters.maxTicks;e++)this.tick()},t}(Zn.Graph);ae.ArnaGraph=ta;var He={},na=G&&G.__extends||function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(n[r]=a[r])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();He.__esModule=!0;He.ArnaAstVisitor=void 0;var aa=ye,ra=aa.ArnaParser.getBaseCstVisitorConstructor(),ia=function(i){na(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.bundleKeyValue=function(e,n){return{bundle:!0}},t.prototype.colorKeyValue=function(e,n){if(e.DoubleQuotedString!==void 0)return{color:e.DoubleQuotedString[0].image.slice(1,-1)};if(e.Identifier!==void 0)return{color:e.Identifier[0].image}},t.prototype.labelKeyValue=function(e,n){return{label:e.DoubleQuotedString[0].image.slice(1,-1)}},t.prototype.lineWidthKeyValue=function(e,n){return{lineWidth:e.Identifier[0].image}},t.prototype.fontKeyValue=function(e,n){return{font:e.DoubleQuotedString[0].image.slice(1,-1)}},t.prototype.fontSizeKeyValue=function(e,n){return{fontSize:e.DoubleQuotedString[0].image.slice(1,-1)}},t.prototype.keyValuePair=function(e,n){var a=this;return{type:"KEY_VALUE_PAIR",children:Object.values(e).map(function(r){return a.visit(r)})}},t.prototype.attribute=function(e,n){var a=this,r=e!=null&&e.keyValuePair?e.keyValuePair.map(function(l){return a.visit(l)}):[],s=r.map(function(l){return l.children[0]}).reduce(function(l,u){return Object.assign(l,u)},{});return{type:"ATTRIBUTES",keyValuePairs:s}},t.prototype.nodeDeclaration=function(e,n){var a=e!=null&&e.attribute?this.visit(e.attribute[0]):void 0;return{type:"NODE_DECLARATION",identifier:e.Identifier[0].image,attributes:a}},t.prototype.edgeDeclaration=function(e,n){var a=e!=null&&e.attribute?this.visit(e.attribute[0]):void 0;return{type:"EDGE_DECLARATION",directed:!!(e!=null&&e.EdgeDirected),tail:e.Identifier[0].image,head:e.Identifier[1].image,attributes:a}},t.prototype.document=function(e,n){var a=this,r=e!=null&&e.nodeDeclaration?e.nodeDeclaration.map(function(o){return a.visit(o)}):[],s=e!=null&&e.edgeDeclaration?e.edgeDeclaration.map(function(o){return a.visit(o)}):[],l=e!=null&&e.attribute?this.visit(e.attribute):!1,u=l!=null&&l.keyValuePairs?{keyValuePairs:l.keyValuePairs}:{keyValuePairs:{}};return{type:"DOCUMENT",graphType:e.Graph[0].image,graphName:e.Identifier[0].image,graphAttributes:u,nodeDeclarations:r,edgeDeclarations:s}},t}(ra);He.ArnaAstVisitor=new ia;var Ke={};Ke.__esModule=!0;Ke.GraphSemanticAnalyzer=void 0;var nt=ae,oa=$e,sa=function(){function i(t){this.graphParameters=oa.Graph.buildParameters(t)}return i.prototype.buildNode=function(t){var e,n=((e=t.attributes)===null||e===void 0?void 0:e.keyValuePairs)||{};return new nt.ArnaNode(t.identifier,this.graphParameters.maxRepulsiveDistance,this.graphParameters.maxVertexDisplacement,n)},i.prototype.buildEdge=function(t,e,n){var a,r=((a=n.attributes)===null||a===void 0?void 0:a.keyValuePairs)||{};return new nt.ArnaEdge(t,e,r)},i.prototype.buildGraph=function(t,e){var n=this,a=new Map;t.forEach(function(o){var c;if(!a.has(o.identifier)){var f=n.buildNode(o);f.options.label=((c=o.attributes)===null||c===void 0?void 0:c.keyValuePairs.label)||void 0,a.set(o.identifier,f)}});var r=Array.from(a.values()),s=new Set,l=e.filter(function(o){var c="".concat(o.tail,"--").concat(o.head);return c in s?!1:(s.add(c),!0)}),u=l.map(function(o){var c=a.get(o.tail),f=a.get(o.head);if(c===void 0)throw new Error("Invalid edge declaration. No node with identifier ".concat(o.tail," found."));if(f===void 0)throw new Error("Invalid edge declaration. No node with identifier ".concat(o.head," found."));return n.buildEdge(c,f,o)});return new nt.ArnaGraph(r,u,this.graphParameters)},i.prototype.analyze=function(t){var e;this.graphParameters.bundle=((e=t.graphAttributes.keyValuePairs)===null||e===void 0?void 0:e.bundle)||!1;var n=this.buildGraph(t.nodeDeclarations,t.edgeDeclarations);return n.computeLayout(),n},i}();Ke.GraphSemanticAnalyzer=sa;(function(i){var t=G&&G.__createBinding||(Object.create?function(l,u,o,c){c===void 0&&(c=o);var f=Object.getOwnPropertyDescriptor(u,o);(!f||("get"in f?!u.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return u[o]}}),Object.defineProperty(l,c,f)}:function(l,u,o,c){c===void 0&&(c=o),l[c]=u[o]});i.__esModule=!0,i.ArnaAstSemanticAnalyzer=i.ArnaAstVisitor=i.ArnaGraph=i.ArnaParser=i.ArnaLexer=void 0;var e=lt;t(i,e,"ArnaLexer");var n=ye;t(i,n,"ArnaParser");var a=ae;t(i,a,"ArnaGraph");var r=He;t(i,r,"ArnaAstVisitor");var s=Ke;t(i,s,"GraphSemanticAnalyzer","ArnaAstSemanticAnalyzer")})(ie);var gn={},qe={},Ue={};Ue.__esModule=!0;Ue.ArnaPreRenderer=void 0;var la=function(){function i(t,e,n){this.RADIUS=12,this.graph=t,this.width=e,this.height=n,this.xScale=(this.width-2*this.RADIUS)/(this.graph.xLayoutMax-this.graph.xLayoutMin),this.yScale=(this.height-2*this.RADIUS)/(this.graph.yLayoutMax-this.graph.yLayoutMin)}return i.prototype.translate=function(t,e){return{x:Math.round((t-this.graph.xLayoutMin)*this.xScale+this.RADIUS),y:Math.round((e-this.graph.yLayoutMin)*this.yScale+this.RADIUS)}},i.prototype.centerGraph=function(){var t=1/0,e=-1/0,n=1/0,a=-1/0,r=Math.round(this.width/2)-Math.round((this.graph.xLayoutMin+this.graph.xLayoutMax)/2),s=Math.round(this.height/2)-Math.round((this.graph.yLayoutMin+this.graph.yLayoutMax)/2);this.graph.nodes.forEach(function(l){l.positionX+=r,l.positionY+=s,t=l.positionX<t?l.positionX:t,e=l.positionX>e?l.positionX:e,n=l.positionY<n?l.positionY:n,a=l.positionY>a?l.positionY:a}),this.graph.xLayoutMin=t,this.graph.xLayoutMax=e,this.graph.yLayoutMin=n,this.graph.yLayoutMax=a},i.prototype.translateNodePositions=function(){var t=this,e=1/0,n=-1/0,a=1/0,r=-1/0;this.graph.nodes.forEach(function(s){var l=t.translate(s.positionX,s.positionY);s.positionX=l.x,s.positionY=l.y,e=s.positionX<e?s.positionX:e,n=s.positionX>n?s.positionX:n,a=s.positionY<a?s.positionY:a,r=s.positionY>r?s.positionY:r}),this.graph.xLayoutMin=e,this.graph.xLayoutMax=n,this.graph.yLayoutMin=a,this.graph.yLayoutMax=r},i.prototype.runCalculations=function(t){return this.translateNodePositions(),this.centerGraph(),this.graph.parameters.bundle&&this.graph.bundleEdges(t||{}),{radius:this.RADIUS}},i}();Ue.ArnaPreRenderer=la;qe.__esModule=!0;qe.ArnaRenderer=void 0;var ua=Ue,ca=function(){function i(t){this.canvas=t}return i.prototype.prerender=function(t){var e=new ua.ArnaPreRenderer(t,this.canvas.getCanvasWidth(),this.canvas.getCanvasHeight());return e.runCalculations()},i.prototype.drawBundledEdges=function(t){var e=this,n=t.edgeSubdivisions||[];n.forEach(function(a,r){var s=t.edges[r].options;e.canvas.drawLineGroup(a,s)})},i.prototype.drawNodes=function(t,e){var n=this;t.nodes.forEach(function(a){n.canvas.drawCircle(a.positionX,a.positionY,e.radius,a.options)})},i.prototype.draw=function(t){var e=this,n,a=this.prerender(t),r=new Set,s=new Set,l=t.parameters.bundle&&t.edgeSubdivisions?t.edgeSubdivisions:[];l.forEach(function(u,o){var c=u.map(function(f){return{x:Math.round(f.x),y:Math.round(f.y)}});e.canvas.drawLineGroup(c,t.edges[o].options)}),t.parameters.bundle&&(this.drawBundledEdges(t),this.drawNodes(t,a)),t.parameters.bundle||t.edges.forEach(function(u){var o=u.tail,c=u.head;r.has(o.identifier)||(e.canvas.drawCircle(o.positionX,o.positionY,a.radius,o.options),r.add(o.identifier)),r.has(c.identifier)||(e.canvas.drawCircle(c.positionX,c.positionY,a.radius,c.options),r.add(c.identifier));var f="".concat(o.identifier,"-").concat(c.identifier);if(!t.parameters.bundle&&!s.has(f)){var h=Ht(c.positionX,c.positionY,o.positionX,o.positionY,a.radius),d=Ht(o.positionX,o.positionY,c.positionX,c.positionY,a.radius);e.canvas.drawLine(d.x,d.y,h.x,h.y,u.options),s.add(f)}}),!((n=this.canvas)===null||n===void 0)&&n.finalize&&this.canvas.finalize()},i}();qe.ArnaRenderer=ca;function Ht(i,t,e,n,a){var r=a/Math.sqrt(Math.pow(e-i,2)+Math.pow(n-t,2)),s=i+r*(e-i),l=t+r*(n-t);return{x:Math.round(s),y:Math.round(l)}}(function(i){var t=G&&G.__createBinding||(Object.create?function(a,r,s,l){l===void 0&&(l=s);var u=Object.getOwnPropertyDescriptor(r,s);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[s]}}),Object.defineProperty(a,l,u)}:function(a,r,s,l){l===void 0&&(l=s),a[l]=r[s]});i.__esModule=!0,i.ArnaPreRenderer=i.ArnaRenderer=void 0;var e=qe;t(i,e,"ArnaRenderer");var n=Ue;t(i,n,"ArnaPreRenderer")})(gn);class Ce{constructor(t,e,n,a){X(this,"graph");X(this,"stage");X(this,"mainLayer");X(this,"staticGroup");X(this,"labels");X(this,"transformer");X(this,"stageConfig");X(this,"stageParent");X(this,"prerenderer");X(this,"bundlerParameters");X(this,"graphLayoutParameters");X(this,"renderParameters");X(this,"nodeMappings");X(this,"virtualWidth");this.graph=t,this.stageConfig=e,this.virtualWidth=e.width,this.stageParent=document.getElementById("stage-parent"),this.stage=new q.Stage(this.stageConfig),this.mainLayer=new q.Layer,this.staticGroup=new q.Group,this.transformer=new q.Transformer,this.labels=new Map,this.graphLayoutParameters=a,this.bundlerParameters=n,this.prerenderer=new gn.ArnaPreRenderer(this.graph,this.getCanvasWidth(),this.getCanvasHeight()),this.renderParameters=this.prerenderer.runCalculations(this.bundlerParameters),this.nodeMappings=this.graph.nodeMappings()}getCanvasWidth(){return this.stage.width()}getCanvasHeight(){return this.stage.height()}getResponsiveFontSize(){return this.stageParent.offsetWidth<600?40:24}static circle(t,e,n,a){const r=new q.Group,s=new q.Circle({x:t,y:e,radius:n,fill:a==null?void 0:a.color,hitStrokeWidth:n+10}),l=new q.Circle({x:t,y:e,radius:n,fill:_e.theme.extend.colors.override.bg,hitStrokeWidth:n+10});return r.add(l),r.add(s),r}static lineGroup(t,e){const n=new q.Group;for(let a=0;a<t.length-1;a++){const r=t[a],s=t[a+1],l=e!=null&&e.lineWidth?+e.lineWidth:2,u=new q.Line({points:[r.x,r.y,s.x,s.y],stroke:(e==null?void 0:e.color)||_e.theme.extend.colors.override.fg,strokeWidth:l});n.add(u)}return n}positionLabel(t,e,n){n.fontSize(this.getResponsiveFontSize());const a=this.stage.scaleX(),r=n.textWidth*this.stage.scaleX();let s=t*a;s+r>this.stageParent.offsetWidth&&(s-=r+22*this.stage.scaleX()),n.x(s/a),n.y(e)}label(t,e,n){const{radius:a}=this.renderParameters,r=n-a-20,s=new q.Text({y:n-a-20,text:t,fontSize:this.getResponsiveFontSize(),fontStyle:"bold",fontFamily:"'Source Code Pro', monospace",fill:_e.theme.extend.colors.override.fg,align:"center"}),{textWidth:l}=s;let u=e-l/2;u+l>this.getCanvasWidth()&&(u-=u+l+12-this.getCanvasWidth()),u<0&&(u=0);let o=r;return r<0&&(o=n+a+20),s.x(u),s.y(o),s}registerHighlightEvent(t,e,n){const a=this.labels.get(t),r=e.children[1];e.addEventListener("mouseenter touchstart",()=>{const s=this.staticGroup.getRelativePointerPosition(),l=a;this.positionLabel(s.x,s.y,l),a.visible(!0),r.setAttr("previousFill",r.fill()),r.fill(be(r.fill()).alpha(1).hex("rgba")),n.forEach(u=>{u.children.forEach(o=>{if(o instanceof q.Line){const c=o.stroke();o.setAttr("previousStroke",c),o.stroke(be(c).alpha(1).hex("rgba"))}if(o instanceof q.Circle){const c=o.fill();o.setAttr("previousFill",c),o.fill(be(c).alpha(1).hex("rgba"))}})})}),e.addEventListener("mouseleave touchend",()=>{a.visible(!1),r.fill(r.getAttr("previousFill")),n.forEach(s=>{s.children.forEach(l=>{if(l instanceof q.Line){const u=l.getAttr("previousStroke");l.stroke(u)}if(l instanceof q.Circle){const u=l.getAttr("previousFill");l.fill(u)}})})})}registerScalingHandler(){const t=()=>{const n=this.stageParent.offsetWidth,a=n/this.virtualWidth;this.stage.width(this.virtualWidth*a),this.stage.height(this.virtualWidth*a),this.stage.scale({x:a,y:a});let r=24;n<600&&(r=40),n<400&&(r=52),[...Array.from(this.labels.values())].forEach(s=>{s.fontSize(r)})};new ResizeObserver(t).observe(this.stageParent)}draw(){const t=new Map,e=new Map;Object.keys(this.nodeMappings).forEach(n=>{var o;const a=this.nodeMappings[n],{tail:r}=a[0];let s;e.has(r.identifier)?s=e.get(r.identifier):(s=Ce.circle(r.positionX,r.positionY,this.renderParameters.radius,r.options),e.set(r.identifier,s));const l=this.label(((o=r.options)==null?void 0:o.label)||"",r.positionX,r.positionY);l.visible(!1),l.listening(!1),this.labels.set(r.identifier,l);let u=[];a.forEach(c=>{const{head:f}=c,h=`${r.identifier}--${f.identifier}`,d=`${f.identifier}--${r.identifier}`;let p;t.has(h)?p=t.get(h):t.has(d)?p=t.get(d):(p=Ce.lineGroup(c.edge,c.edgeOptions),t.set(h,p),t.set(d,p));let m;e.has(f.identifier)?m=e.get(f.identifier):(m=Ce.circle(f.positionX,f.positionY,this.renderParameters.radius,f.options),e.set(f.identifier,m)),u=[m,...u],u=[...u,p]}),this.registerHighlightEvent(r.identifier,s,u)}),this.staticGroup.add(...Array.from(t.values())),this.staticGroup.add(...Array.from(e.values())),this.staticGroup.add(...Array.from(this.labels.values())),this.mainLayer.add(this.transformer),this.transformer.add(this.staticGroup),this.mainLayer.add(this.staticGroup),this.stage.add(this.mainLayer),this.registerScalingHandler()}}function fa(i){let t;return{c(){t=S("div"),b(t,"id","stage-parent"),b(t,"class","outline-thin w-full mx-auto mb-4 flex items-center space-x-4 bg-override-neutral-900/30")},m(e,n){D(e,t,n),i[1](t)},p:U,i:U,o:U,d(e){e&&k(t),i[1](null)}}}function da(i,t,e){let n,a,r,s,l,u,o,c,f,h,d;R(i,Ae,w=>e(4,n=w)),R(i,xe,w=>e(5,a=w)),R(i,Ee,w=>e(6,r=w)),R(i,Le,w=>e(7,s=w)),R(i,ve,w=>e(8,l=w)),R(i,Oe,w=>e(9,u=w)),R(i,Ie,w=>e(10,o=w)),R(i,Te,w=>e(11,c=w)),R(i,Pe,w=>e(12,f=w)),R(i,De,w=>e(13,h=w)),R(i,ke,w=>e(14,d=w));let p,m;const _=()=>{const w=ke.choices[d],N=De.choices[h],z=Pe.choices[f],B=Te.choices[c],re=Ie.choices[o],H=Oe.choices[u];return{compatabilityThreshold:w,initialStepSize:N,bundlingStiffness:z,subdivisionRate:B,initialIterationCount:re,iterationDecreaseRate:H}},v=()=>{if(!l)return;const w=ie.ArnaLexer.tokenize(l);ie.ArnaParser.input=w.tokens;const N=ie.ArnaParser.document();ie.ArnaParser.errors.length>0&&(console.error("Encountered errors during parsing"),ie.ArnaParser.errors.forEach(Ge=>{console.error(Ge)}));const z=ie.ArnaAstVisitor.visit(N),B={maxTicks:Le.choices[s],maxRepulsiveDistance:Ee.choices[r],optimalDistance:xe.choices[a],c:Ae.choices[n],bundle:z.graphAttributes.keyValuePairs.bundle},H=new ie.ArnaAstSemanticAnalyzer(B).analyze(z),Be={container:p,height:1400,width:1400},Ve=_();new Ce(H,Be,Ve,B).draw()};Ne(()=>{m=ve.subscribe(()=>{v()})}),$n(()=>m());function M(w){we[w?"unshift":"push"](()=>{p=w,e(0,p)})}return[p,M]}class ha extends F{constructor(t){super();W(this,t,da,fa,j,{})}}function pa(i){let t,e;const n=i[1].default,a=rt(n,i,i[0],null);return{c(){t=S("span"),a&&a.c(),b(t,"class","bg-gray-200 text-black px-1 pb-1 mx-1 font-thin font-mono")},m(r,s){D(r,t,s),a&&a.m(t,null),e=!0},p(r,[s]){a&&a.p&&(!e||s&1)&&it(a,n,r,r[0],e?st(n,r[0],s,null):ot(r[0]),null)},i(r){e||(y(a,r),e=!0)},o(r){$(a,r),e=!1},d(r){r&&k(t),a&&a.d(r)}}}function ga(i,t,e){let{$$slots:n={},$$scope:a}=t;return i.$$set=r=>{"$$scope"in r&&e(0,a=r.$$scope)},[a,n]}class Y extends F{constructor(t){super();W(this,t,ga,pa,j,{})}}function ma(i){let t;return{c(){t=P("graph")},m(e,n){D(e,t,n)},d(e){e&&k(t)}}}function va(i){let t;return{c(){t=P("[bundle]")},m(e,n){D(e,t,n)},d(e){e&&k(t)}}}function ba(i){let t;return{c(){t=P("N0")},m(e,n){D(e,t,n)},d(e){e&&k(t)}}}function _a(i){let t;return{c(){t=P("color")},m(e,n){D(e,t,n)},d(e){e&&k(t)}}}function ya(i){let t;return{c(){t=P("label")},m(e,n){D(e,t,n)},d(e){e&&k(t)}}}function $a(i){let t;return{c(){t=P("N0--N5")},m(e,n){D(e,t,n)},d(e){e&&k(t)}}}function wa(i){let t;return{c(){t=P("N0")},m(e,n){D(e,t,n)},d(e){e&&k(t)}}}function Ea(i){let t;return{c(){t=P("N5")},m(e,n){D(e,t,n)},d(e){e&&k(t)}}}function Ca(i){let t;return{c(){t=P("N0")},m(e,n){D(e,t,n)},d(e){e&&k(t)}}}function Sa(i){let t;return{c(){t=P("N5")},m(e,n){D(e,t,n)},d(e){e&&k(t)}}}function Ma(i){let t;return{c(){t=P("line-width")},m(e,n){D(e,t,n)},d(e){e&&k(t)}}}function La(i){let t;return{c(){t=P("color")},m(e,n){D(e,t,n)},d(e){e&&k(t)}}}function xa(i){let t;return{c(){t=P("line-width")},m(e,n){D(e,t,n)},d(e){e&&k(t)}}}function Aa(i){let t;return{c(){t=P("color")},m(e,n){D(e,t,n)},d(e){e&&k(t)}}}function Da(i){let t;return{c(){t=P("}")},m(e,n){D(e,t,n)},d(e){e&&k(t)}}}function ka(i){let t,e,n,a,r,s,l,u,o,c,f,h,d,p,m,_,v,M,w,N,z,B,re,H,C,J,Be,Ve,Qe,Ge,Ze,ct,K,ft,se,dt,le,ht,ue,pt,ce,gt,fe,mt,vt,bt,_t,ee,yt,de,$t,he,wt,pe,Et,ge,Ct,St,Mt,Lt,ze,xt,me,Xe,Je,At;return s=new Y({props:{$$slots:{default:[ma]},$$scope:{ctx:i}}}),u=new Y({props:{$$slots:{default:[va]},$$scope:{ctx:i}}}),v=new Y({props:{$$slots:{default:[ba]},$$scope:{ctx:i}}}),H=new Y({props:{$$slots:{default:[_a]},$$scope:{ctx:i}}}),J=new Y({props:{$$slots:{default:[ya]},$$scope:{ctx:i}}}),se=new Y({props:{$$slots:{default:[$a]},$$scope:{ctx:i}}}),le=new Y({props:{$$slots:{default:[wa]},$$scope:{ctx:i}}}),ue=new Y({props:{$$slots:{default:[Ea]},$$scope:{ctx:i}}}),ce=new Y({props:{$$slots:{default:[Ca]},$$scope:{ctx:i}}}),fe=new Y({props:{$$slots:{default:[Sa]},$$scope:{ctx:i}}}),de=new Y({props:{$$slots:{default:[Ma]},$$scope:{ctx:i}}}),he=new Y({props:{$$slots:{default:[La]},$$scope:{ctx:i}}}),pe=new Y({props:{$$slots:{default:[xa]},$$scope:{ctx:i}}}),ge=new Y({props:{$$slots:{default:[Aa]},$$scope:{ctx:i}}}),me=new Y({props:{$$slots:{default:[Da]},$$scope:{ctx:i}}}),{c(){t=S("div"),e=S("textarea"),n=T(),a=S("span"),r=P("To begin defining a graph, use the "),L(s.$$.fragment),l=P(` keyword followed by the name
    of the graph. Following the name of the graph, you may choose to include the
    `),L(u.$$.fragment),o=P(" attribute. Including this will enable edge bundling."),c=T(),f=S("br"),h=T(),d=S("textarea"),p=T(),m=S("span"),_=P(`After defining the graph name, node and edge declarations are required. In
    this example, `),L(v.$$.fragment),M=P(` is the node identifier. Within the square brackets, attributes
    of the node can be defined.`),w=T(),N=S("br"),z=T(),B=S("span"),re=P("The "),L(H.$$.fragment),C=P(` attribute specifies the color of the graph vertex when drawn.
    You may use RGB, RGBA, Hex, or other color formats supported by CSS3. The `),L(J.$$.fragment),Be=P(` attribute defines a string that will be displayed when the vertex is hovered
    over.`),Ve=T(),Qe=S("br"),Ge=T(),Ze=S("textarea"),ct=T(),K=S("span"),ft=P(`Edge declarations define an edge between two defined nodes. The nodes must
    be defined somewhere in the program or a compiler error will be thrown. In
    this example, `),L(se.$$.fragment),dt=P(` defines an edge between the nodes with the identifiers
    `),L(le.$$.fragment),ht=P(" and "),L(ue.$$.fragment),pt=P(". Even though this is an undirected edge, "),L(ce.$$.fragment),gt=P(` is
    treated as the tail of the edge. While `),L(fe.$$.fragment),mt=P(" is treated as the head."),vt=T(),bt=S("br"),_t=T(),ee=S("span"),yt=P("The current supported attributes for edge declarations include "),L(de.$$.fragment),$t=P(" and "),L(he.$$.fragment),wt=P(". "),L(pe.$$.fragment),Et=P(` defines the width of the rendered edge
    on the canvas. The `),L(ge.$$.fragment),Ct=P(` attribute defines the color of the rendered edge
    on the canvas. The same color formats accepted for node declarations are supported
    for edge declarations.`),St=T(),Mt=S("br"),Lt=T(),ze=S("span"),xt=P("Finally, don't forget to end the graph declaration with a "),L(me.$$.fragment),b(a,"class","mt-2"),b(m,"class","mt-2"),b(K,"class","mt-2"),b(t,"class","rounded flex flex-col w-full p-4 mb-2 bg-override-neutral-800/30 outline-thin")},m(E,I){D(E,t,I),g(t,e),g(t,n),g(t,a),g(a,r),x(s,a,null),g(a,l),x(u,a,null),g(a,o),g(t,c),g(t,f),g(t,h),g(t,d),g(t,p),g(t,m),g(m,_),x(v,m,null),g(m,M),g(t,w),g(t,N),g(t,z),g(t,B),g(B,re),x(H,B,null),g(B,C),x(J,B,null),g(B,Be),g(t,Ve),g(t,Qe),g(t,Ge),g(t,Ze),g(t,ct),g(t,K),g(K,ft),x(se,K,null),g(K,dt),x(le,K,null),g(K,ht),x(ue,K,null),g(K,pt),x(ce,K,null),g(K,gt),x(fe,K,null),g(K,mt),g(t,vt),g(t,bt),g(t,_t),g(t,ee),g(ee,yt),x(de,ee,null),g(ee,$t),x(he,ee,null),g(ee,wt),x(pe,ee,null),g(ee,Et),x(ge,ee,null),g(ee,Ct),g(t,St),g(t,Mt),g(t,Lt),g(t,ze),g(ze,xt),x(me,ze,null),i[2](t),Xe=!0,Je||(At=[et(i[1].call(null,e,"graph Name [bundle] {")),et(i[1].call(null,d,'N0 [color="rgba(164,6,6,0.6)",label="A message to show."]')),et(i[1].call(null,Ze,'N0--N5  [line-width=3,color="rgba(164,6,6,0.2)"]'))],Je=!0)},p(E,[I]){const Dt={};I&16&&(Dt.$$scope={dirty:I,ctx:E}),s.$set(Dt);const kt={};I&16&&(kt.$$scope={dirty:I,ctx:E}),u.$set(kt);const Pt={};I&16&&(Pt.$$scope={dirty:I,ctx:E}),v.$set(Pt);const Tt={};I&16&&(Tt.$$scope={dirty:I,ctx:E}),H.$set(Tt);const It={};I&16&&(It.$$scope={dirty:I,ctx:E}),J.$set(It);const Ot={};I&16&&(Ot.$$scope={dirty:I,ctx:E}),se.$set(Ot);const Rt={};I&16&&(Rt.$$scope={dirty:I,ctx:E}),le.$set(Rt);const Nt={};I&16&&(Nt.$$scope={dirty:I,ctx:E}),ue.$set(Nt);const Ut={};I&16&&(Ut.$$scope={dirty:I,ctx:E}),ce.$set(Ut);const Bt={};I&16&&(Bt.$$scope={dirty:I,ctx:E}),fe.$set(Bt);const Vt={};I&16&&(Vt.$$scope={dirty:I,ctx:E}),de.$set(Vt);const Gt={};I&16&&(Gt.$$scope={dirty:I,ctx:E}),he.$set(Gt);const zt={};I&16&&(zt.$$scope={dirty:I,ctx:E}),pe.$set(zt);const Xt={};I&16&&(Xt.$$scope={dirty:I,ctx:E}),ge.$set(Xt);const Yt={};I&16&&(Yt.$$scope={dirty:I,ctx:E}),me.$set(Yt)},i(E){Xe||(y(s.$$.fragment,E),y(u.$$.fragment,E),y(v.$$.fragment,E),y(H.$$.fragment,E),y(J.$$.fragment,E),y(se.$$.fragment,E),y(le.$$.fragment,E),y(ue.$$.fragment,E),y(ce.$$.fragment,E),y(fe.$$.fragment,E),y(de.$$.fragment,E),y(he.$$.fragment,E),y(pe.$$.fragment,E),y(ge.$$.fragment,E),y(me.$$.fragment,E),Xe=!0)},o(E){$(s.$$.fragment,E),$(u.$$.fragment,E),$(v.$$.fragment,E),$(H.$$.fragment,E),$(J.$$.fragment,E),$(se.$$.fragment,E),$(le.$$.fragment,E),$(ue.$$.fragment,E),$(ce.$$.fragment,E),$(fe.$$.fragment,E),$(de.$$.fragment,E),$(he.$$.fragment,E),$(pe.$$.fragment,E),$(ge.$$.fragment,E),$(me.$$.fragment,E),Xe=!1},d(E){E&&k(t),A(s),A(u),A(v),A(H),A(J),A(se),A(le),A(ue),A(ce),A(fe),A(de),A(he),A(pe),A(ge),A(me),i[2](null),Je=!1,wn(At)}}}function Pa(i,t,e){let n;const a=()=>{const l=n.getElementsByClassName("CodeMirror");[...Array(l.length)].forEach((u,o)=>{console.log(o);const c=l.item(o);c.classList.add("!font-mono"),c.classList.add("!h-auto")})},r=(l,u)=>{try{Ye.fromTextArea(l,{readOnly:!0,mode:"arna",theme:"midnight",cursorHeight:0}).setValue(u)}catch{console.error("Expected node to be of type HTMLTextAreaElement")}};Ne(()=>{on(),a()});function s(l){we[l?"unshift":"push"](()=>{n=l,e(0,n)})}return[n,r,s]}class Ta extends F{constructor(t){super();W(this,t,Pa,ka,j,{})}}function Ia(i){let t,e,n,a;return{c(){t=S("div"),e=S("div"),n=S("span"),a=P(i[0]),b(n,"class","text-lg font-center font-mono font-semibold"),b(e,"class","min-w-full cursor-pointer rounded shadow-[0_0_2pt_1px] shadow-override-bg/30 px-2 bg-override-neutral-500/50"),b(t,"class","flex items-center min-w-full text-center")},m(r,s){D(r,t,s),g(t,e),g(e,n),g(n,a),i[4](e)},p(r,[s]){s&1&&Se(a,r[0])},i:U,o:U,d(r){r&&k(t),i[4](null)}}}function Oa(i,t,e){let{label:n}=t,{onSelect:a}=t,{isChecked:r=!1}=t,s;const l=["!bg-override-yellow","text-override-neutral-900"],u=()=>{l.forEach(f=>{s.classList.add(f)})},o=()=>{l.forEach(f=>{s.classList.remove(f)})};Ne(()=>{r&&u(),s.addEventListener("click",()=>{a(),u()})});function c(f){we[f?"unshift":"push"](()=>{s=f,e(1,s)})}return i.$$set=f=>{"label"in f&&e(0,n=f.label),"onSelect"in f&&e(2,a=f.onSelect),"isChecked"in f&&e(3,r=f.isChecked)},i.$$.update=()=>{i.$$.dirty&10&&(r||s&&o())},[n,s,a,r,c]}class Ra extends F{constructor(t){super();W(this,t,Oa,Ia,j,{label:0,onSelect:2,isChecked:3})}}function Kt(i,t,e){const n=i.slice();return n[7]=t[e],n[9]=e,n}function qt(i,t){let e,n,a;return n=new Ra({props:{label:t[7]+"",onSelect:t[3](t[9]),isChecked:t[2]===t[9]}}),{key:i,first:null,c(){e=En(),L(n.$$.fragment),this.first=e},m(r,s){D(r,e,s),x(n,r,s),a=!0},p(r,s){t=r;const l={};s&2&&(l.label=t[7]+""),s&2&&(l.onSelect=t[3](t[9])),s&6&&(l.isChecked=t[2]===t[9]),n.$set(l)},i(r){a||(y(n.$$.fragment,r),a=!0)},o(r){$(n.$$.fragment,r),a=!1},d(r){r&&k(e),A(n,r)}}}function Na(i){let t,e,n,a,r,s=[],l=new Map,u,o,c=i[1];const f=h=>h[9];for(let h=0;h<c.length;h+=1){let d=Kt(i,c,h),p=f(d);l.set(p,s[h]=qt(p,d))}return{c(){t=S("div"),e=S("span"),n=P(i[0]),a=T(),r=S("div");for(let h=0;h<s.length;h+=1)s[h].c();b(e,"class","mb-4 text-center italic text-override-yellow"),b(r,"class","grid grid-cols-custom gap-y-6 gap-x-4 px-1 justify-items-center"),b(t,"class",u=`flex flex-col ${i[4].class}`)},m(h,d){D(h,t,d),g(t,e),g(e,n),g(t,a),g(t,r);for(let p=0;p<s.length;p+=1)s[p].m(r,null);o=!0},p(h,[d]){(!o||d&1)&&Se(n,h[0]),d&14&&(c=h[1],Fe(),s=Cn(s,d,f,1,h,c,l,r,Sn,qt,null,Kt),We()),(!o||d&16&&u!==(u=`flex flex-col ${h[4].class}`))&&b(t,"class",u)},i(h){if(!o){for(let d=0;d<c.length;d+=1)y(s[d]);o=!0}},o(h){for(let d=0;d<s.length;d+=1)$(s[d]);o=!1},d(h){h&&k(t);for(let d=0;d<s.length;d+=1)s[d].d()}}}function Ua(i,t,e){let{label:n}=t,{values:a}=t,{onIndexChange:r}=t,{defaultIndex:s}=t,l=s;function u(o){return()=>{e(2,l=o),r(o)}}return i.$$set=o=>{e(4,t=Q(Q({},t),Z(o))),"label"in o&&e(0,n=o.label),"values"in o&&e(1,a=o.values),"onIndexChange"in o&&e(5,r=o.onIndexChange),"defaultIndex"in o&&e(6,s=o.defaultIndex)},t=Z(t),[n,a,l,u,t,r,s]}class te extends F{constructor(t){super();W(this,t,Ua,Na,j,{label:0,values:1,onIndexChange:5,defaultIndex:6})}}function Ba(i){let t,e,n,a;return{c(){t=oe("svg"),e=oe("path"),n=oe("path"),b(e,"d","M0 0h24v24H0z"),b(e,"fill","none"),b(n,"d","M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"),b(t,"xmlns","http://www.w3.org/2000/svg"),b(t,"height","24px"),b(t,"viewBox","0 0 24 24"),b(t,"width","24px"),b(t,"class",a=i[1].class)},m(r,s){D(r,t,s),g(t,e),g(t,n),i[2](t)},p(r,[s]){s&2&&a!==(a=r[1].class)&&b(t,"class",a)},i:U,o:U,d(r){r&&k(t),i[2](null)}}}function Va(i,t,e){let{svgElement:n=null}=t;function a(r){we[r?"unshift":"push"](()=>{n=r,e(0,n)})}return i.$$set=r=>{e(1,t=Q(Q({},t),Z(r))),"svgElement"in r&&e(0,n=r.svgElement)},t=Z(t),[n,t,a]}class Ga extends F{constructor(t){super();W(this,t,Va,Ba,j,{svgElement:0})}}const za=i=>({}),Qt=i=>({}),Xa=i=>({}),Zt=i=>({});function Jt(i){let t,e;const n=i[4].content,a=rt(n,i,i[3],Qt);return{c(){t=S("div"),a&&a.c(),b(t,"class","py-4 px-2")},m(r,s){D(r,t,s),a&&a.m(t,null),e=!0},p(r,s){a&&a.p&&(!e||s&8)&&it(a,n,r,r[3],e?st(n,r[3],s,za):ot(r[3]),Qt)},i(r){e||(y(a,r),e=!0)},o(r){$(a,r),e=!1},d(r){r&&k(t),a&&a.d(r)}}}function Ya(i){let t,e,n,a,r,s,l,u,o;const c=i[4].label,f=rt(c,i,i[3],Zt);function h(m){i[5](m)}let d={class:"fill-override-neutral-50 justify-self-end transition"};i[2]!==void 0&&(d.svgElement=i[2]),r=new Ga({props:d}),we.push(()=>Mn(r,"svgElement",h));let p=i[0]&&Jt(i);return{c(){t=S("div"),e=S("div"),n=S("div"),f&&f.c(),a=T(),L(r.$$.fragment),u=T(),p&&p.c(),b(n,"class","flex justify-between px-2"),b(e,"class",l=`py-3 cursor-pointer ${i[0]?en:""}`),b(t,"class",`${Fa}`)},m(m,_){D(m,t,_),g(t,e),g(e,n),f&&f.m(n,null),g(n,a),x(r,n,null),i[6](e),g(t,u),p&&p.m(t,null),o=!0},p(m,[_]){f&&f.p&&(!o||_&8)&&it(f,c,m,m[3],o?st(c,m[3],_,Xa):ot(m[3]),Zt);const v={};!s&&_&4&&(s=!0,v.svgElement=m[2],Ln(()=>s=!1)),r.$set(v),(!o||_&1&&l!==(l=`py-3 cursor-pointer ${m[0]?en:""}`))&&b(e,"class",l),m[0]?p?(p.p(m,_),_&1&&y(p,1)):(p=Jt(m),p.c(),y(p,1),p.m(t,null)):p&&(Fe(),$(p,1,1,()=>{p=null}),We())},i(m){o||(y(f,m),y(r.$$.fragment,m),y(p),o=!0)},o(m){$(f,m),$(r.$$.fragment,m),$(p),o=!1},d(m){m&&k(t),f&&f.d(m),A(r),i[6](null),p&&p.d()}}}const en="border-b-[1px] border-override-blue",Fa="border-b-[1px] last:border-b-0 border-override-neutral-50/25";function Wa(i,t,e){let{$$slots:n={},$$scope:a}=t,r=!1,s,l;const u=()=>{e(0,r=!r),r?l.classList.add("-rotate-90"):l.classList.remove("-rotate-90")};Ne(()=>{s.addEventListener("click",()=>{u()}),s.addEventListener("mouseover",()=>{l.classList.add("!fill-override-blue"),s.classList.add("!text-override-blue")}),s.addEventListener("mouseleave",()=>{l.classList.remove("!fill-override-blue"),s.classList.remove("!text-override-blue")})});function o(f){l=f,e(2,l)}function c(f){we[f?"unshift":"push"](()=>{s=f,e(1,s)})}return i.$$set=f=>{"$$scope"in f&&e(3,a=f.$$scope)},[r,s,l,a,n,o,c]}class at extends F{constructor(t){super();W(this,t,Wa,Ya,j,{})}}function ja(i){let t;return{c(){t=S("span"),t.textContent="Graph Layout Algorithm",b(t,"slot","label")},m(e,n){D(e,t,n)},d(e){e&&k(t)}}}function Ha(i){let t,e,n,a,r,s,l,u;return t=new te({props:{label:"Iterations",values:Le.choices,defaultIndex:i[0],onIndexChange:i[11],class:"mb-4"}}),n=new te({props:{label:"Force Coefficient",values:Ae.choices,defaultIndex:i[1],onIndexChange:i[12],class:"mb-4"}}),r=new te({props:{label:"Max Repulsive Force Distance",values:Ee.choices,defaultIndex:i[2],onIndexChange:i[13],class:"mb-4"}}),l=new te({props:{label:"Optimal Node Distance",values:xe.choices,defaultIndex:i[3],onIndexChange:i[14]}}),{c(){L(t.$$.fragment),e=T(),L(n.$$.fragment),a=T(),L(r.$$.fragment),s=T(),L(l.$$.fragment)},m(o,c){x(t,o,c),D(o,e,c),x(n,o,c),D(o,a,c),x(r,o,c),D(o,s,c),x(l,o,c),u=!0},p(o,c){const f={};c&1&&(f.defaultIndex=o[0]),c&1&&(f.onIndexChange=o[11]),t.$set(f);const h={};c&2&&(h.defaultIndex=o[1]),c&2&&(h.onIndexChange=o[12]),n.$set(h);const d={};c&4&&(d.defaultIndex=o[2]),c&4&&(d.onIndexChange=o[13]),r.$set(d);const p={};c&8&&(p.defaultIndex=o[3]),c&8&&(p.onIndexChange=o[14]),l.$set(p)},i(o){u||(y(t.$$.fragment,o),y(n.$$.fragment,o),y(r.$$.fragment,o),y(l.$$.fragment,o),u=!0)},o(o){$(t.$$.fragment,o),$(n.$$.fragment,o),$(r.$$.fragment,o),$(l.$$.fragment,o),u=!1},d(o){A(t,o),o&&k(e),A(n,o),o&&k(a),A(r,o),o&&k(s),A(l,o)}}}function Ka(i){let t;return{c(){t=S("span"),t.textContent="Edge Bundling",b(t,"slot","label")},m(e,n){D(e,t,n)},d(e){e&&k(t)}}}function qa(i){let t,e,n,a,r,s,l,u,o,c,f,h;return t=new te({props:{label:"Compatability Threshold",values:ke.choices,defaultIndex:i[4],onIndexChange:i[15],class:"mb-4"}}),n=new te({props:{label:"Initial Step Size",values:De.choices,defaultIndex:i[5],onIndexChange:i[16],class:"mb-4"}}),r=new te({props:{label:"Bundling Stiffness Coefficient",values:Pe.choices,defaultIndex:i[6],onIndexChange:i[17],class:"mb-4"}}),l=new te({props:{label:"Initial Subdivision Rate",values:Te.choices,defaultIndex:i[7],onIndexChange:i[18],class:"mb-4"}}),o=new te({props:{label:"Initial Bundling Iterations",values:Ie.choices,defaultIndex:i[8],onIndexChange:i[19],class:"mb-4"}}),f=new te({props:{label:"Bundling Iteration Depreciation Rate",values:Oe.choices,defaultIndex:i[9],onIndexChange:i[20]}}),{c(){L(t.$$.fragment),e=T(),L(n.$$.fragment),a=T(),L(r.$$.fragment),s=T(),L(l.$$.fragment),u=T(),L(o.$$.fragment),c=T(),L(f.$$.fragment)},m(d,p){x(t,d,p),D(d,e,p),x(n,d,p),D(d,a,p),x(r,d,p),D(d,s,p),x(l,d,p),D(d,u,p),x(o,d,p),D(d,c,p),x(f,d,p),h=!0},p(d,p){const m={};p&16&&(m.defaultIndex=d[4]),p&16&&(m.onIndexChange=d[15]),t.$set(m);const _={};p&32&&(_.defaultIndex=d[5]),p&32&&(_.onIndexChange=d[16]),n.$set(_);const v={};p&64&&(v.defaultIndex=d[6]),p&64&&(v.onIndexChange=d[17]),r.$set(v);const M={};p&128&&(M.defaultIndex=d[7]),p&128&&(M.onIndexChange=d[18]),l.$set(M);const w={};p&256&&(w.defaultIndex=d[8]),p&256&&(w.onIndexChange=d[19]),o.$set(w);const N={};p&512&&(N.defaultIndex=d[9]),p&512&&(N.onIndexChange=d[20]),f.$set(N)},i(d){h||(y(t.$$.fragment,d),y(n.$$.fragment,d),y(r.$$.fragment,d),y(l.$$.fragment,d),y(o.$$.fragment,d),y(f.$$.fragment,d),h=!0)},o(d){$(t.$$.fragment,d),$(n.$$.fragment,d),$(r.$$.fragment,d),$(l.$$.fragment,d),$(o.$$.fragment,d),$(f.$$.fragment,d),h=!1},d(d){A(t,d),d&&k(e),A(n,d),d&&k(a),A(r,d),d&&k(s),A(l,d),d&&k(u),A(o,d),d&&k(c),A(f,d)}}}function Qa(i){let t;return{c(){t=S("span"),t.textContent="Randomization",b(t,"slot","label")},m(e,n){D(e,t,n)},d(e){e&&k(t)}}}function Za(i){let t,e;return t=new te({props:{label:"Edge Count (random graphs only)",values:Me.choices,defaultIndex:i[10],onIndexChange:i[21]}}),{c(){L(t.$$.fragment)},m(n,a){x(t,n,a),e=!0},p(n,a){const r={};a&1024&&(r.defaultIndex=n[10]),a&1024&&(r.onIndexChange=n[21]),t.$set(r)},i(n){e||(y(t.$$.fragment,n),e=!0)},o(n){$(t.$$.fragment,n),e=!1},d(n){A(t,n)}}}function Ja(i){let t,e,n,a,r,s,l;return e=new at({props:{$$slots:{content:[Ha],label:[ja]},$$scope:{ctx:i}}}),a=new at({props:{$$slots:{content:[qa],label:[Ka]},$$scope:{ctx:i}}}),s=new at({props:{$$slots:{content:[Za],label:[Qa]},$$scope:{ctx:i}}}),{c(){t=S("div"),L(e.$$.fragment),n=T(),L(a.$$.fragment),r=T(),L(s.$$.fragment),b(t,"class","mb-2 rounded flex flex-col w-full text-neutral-200 font-mono bg-override-neutral-900/30 outline-thin")},m(u,o){D(u,t,o),x(e,t,null),g(t,n),x(a,t,null),g(t,r),x(s,t,null),l=!0},p(u,[o]){const c={};o&4194319&&(c.$$scope={dirty:o,ctx:u}),e.$set(c);const f={};o&4195312&&(f.$$scope={dirty:o,ctx:u}),a.$set(f);const h={};o&4195328&&(h.$$scope={dirty:o,ctx:u}),s.$set(h)},i(u){l||(y(e.$$.fragment,u),y(a.$$.fragment,u),y(s.$$.fragment,u),l=!0)},o(u){$(e.$$.fragment,u),$(a.$$.fragment,u),$(s.$$.fragment,u),l=!1},d(u){u&&k(t),A(e),A(a),A(s)}}}function er(i,t,e){let n,a,r,s,l,u,o,c,f,h,d;return R(i,Le,C=>e(0,n=C)),R(i,Ae,C=>e(1,a=C)),R(i,Ee,C=>e(2,r=C)),R(i,xe,C=>e(3,s=C)),R(i,ke,C=>e(4,l=C)),R(i,De,C=>e(5,u=C)),R(i,Pe,C=>e(6,o=C)),R(i,Te,C=>e(7,c=C)),R(i,Ie,C=>e(8,f=C)),R(i,Oe,C=>e(9,h=C)),R(i,Me,C=>e(10,d=C)),[n,a,r,s,l,u,o,c,f,h,d,C=>{V(Le,n=C,n)},C=>{V(Ae,a=C,a)},C=>{V(Ee,r=C,r)},C=>{V(xe,s=C,s)},C=>{V(ke,l=C,l)},C=>{V(De,u=C,u)},C=>{V(Pe,o=C,o)},C=>{V(Te,c=C,c)},C=>{V(Ie,f=C,f)},C=>{V(Oe,h=C,h)},C=>{V(Me,d=C,d)}]}class tr extends F{constructor(t){super();W(this,t,er,Ja,j,{})}}function nr(i){let t,e,n,a;return{c(){t=oe("svg"),e=oe("path"),n=oe("path"),b(e,"d","M0 0h24v24H0z"),b(e,"fill","none"),b(n,"d","M6.76 4.84l-1.8-1.79-1.41 1.41 1.79 1.79 1.42-1.41zM4 10.5H1v2h3v-2zm9-9.95h-2V3.5h2V.55zm7.45 3.91l-1.41-1.41-1.79 1.79 1.41 1.41 1.79-1.79zm-3.21 13.7l1.79 1.8 1.41-1.41-1.8-1.79-1.4 1.4zM20 10.5v2h3v-2h-3zm-8-5c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6-2.69-6-6-6zm-1 16.95h2V19.5h-2v2.95zm-7.45-3.91l1.41 1.41 1.79-1.8-1.41-1.41-1.79 1.8z"),b(t,"class",a=i[0].class),b(t,"xmlns","http://www.w3.org/2000/svg"),b(t,"height","24px"),b(t,"viewBox","0 0 24 24"),b(t,"width","24px"),b(t,"fill","#000000")},m(r,s){D(r,t,s),g(t,e),g(t,n)},p(r,[s]){s&1&&a!==(a=r[0].class)&&b(t,"class",a)},i:U,o:U,d(r){r&&k(t)}}}function ar(i,t,e){return i.$$set=n=>{e(0,t=Q(Q({},t),Z(n)))},t=Z(t),[t]}class rr extends F{constructor(t){super();W(this,t,ar,nr,j,{})}}function ir(i){let t,e,n;return{c(){t=oe("svg"),e=oe("path"),b(e,"d","M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"),b(t,"xmlns","http://www.w3.org/2000/svg"),b(t,"width","24"),b(t,"height","24"),b(t,"viewBox","0 0 24 24"),b(t,"class",n=i[0].class)},m(a,r){D(a,t,r),g(t,e)},p(a,[r]){r&1&&n!==(n=a[0].class)&&b(t,"class",n)},i:U,o:U,d(a){a&&k(t)}}}function or(i,t,e){return i.$$set=n=>{e(0,t=Q(Q({},t),Z(n)))},t=Z(t),[t]}class sr extends F{constructor(t){super();W(this,t,or,ir,j,{})}}function lr(i){let t,e,n,a,r,s,l,u;return l=new sr({props:{class:"!fill-override-bg/80 hover:!fill-override-blue w-auto h-7"}}),{c(){t=S("div"),e=S("div"),n=S("div"),n.innerHTML='<span class="font-semibold">\u043A\u04AF\u043D\u0456\u043C - Jack Henry</span>',a=T(),r=S("div"),s=S("a"),L(l.$$.fragment),b(n,"class","flex-grow"),b(s,"href","https://github.com/jackhenry/arna"),b(r,"class",""),b(e,"class","w-full flex"),b(t,"class","text-override-bg overflow-hidden bg-override-yellow relative p-1")},m(o,c){D(o,t,c),g(t,e),g(e,n),g(e,a),g(e,r),g(r,s),x(l,s,null),u=!0},p:U,i(o){u||(y(l.$$.fragment,o),u=!0)},o(o){$(l.$$.fragment,o),u=!1},d(o){o&&k(t),A(l)}}}class ur extends F{constructor(t){super();W(this,t,null,lr,j,{})}}function tn(i){let t,e;return t=new tr({}),{c(){L(t.$$.fragment)},m(n,a){x(t,n,a),e=!0},i(n){e||(y(t.$$.fragment,n),e=!0)},o(n){$(t.$$.fragment,n),e=!1},d(n){A(t,n)}}}function nn(i){let t,e;return t=new Ta({}),{c(){L(t.$$.fragment)},m(n,a){x(t,n,a),e=!0},i(n){e||(y(t.$$.fragment,n),e=!0)},o(n){$(t.$$.fragment,n),e=!1},d(n){A(t,n)}}}function cr(i){let t,e,n,a,r,s,l,u,o,c,f,h,d,p,m;e=new ur({}),s=new rr({props:{class:"!fill-override-yellow mr-2 animate-spin-slow"}}),c=new Vn({});let _=i[0]&&tn(),v=i[1]&&nn();return p=new ha({}),{c(){t=S("main"),L(e.$$.fragment),n=T(),a=S("div"),r=S("div"),L(s.$$.fragment),l=T(),u=S("span"),u.innerHTML=`<span class="font-serif text-3xl text-override-blue font-semibold">\u0410\u0440\u043D\u0430</span> 
        <span class="text-3xl text-override-yellow font-semibold">Graph DSL</span>`,o=T(),L(c.$$.fragment),f=T(),_&&_.c(),h=T(),v&&v.c(),d=T(),L(p.$$.fragment),b(u,"class","font-sans"),b(r,"class","flex items-center mb-4"),b(a,"class","flex flex-col max-w-4xl items-center mx-auto pt-4 px-4")},m(M,w){D(M,t,w),x(e,t,null),g(t,n),g(t,a),g(a,r),x(s,r,null),g(r,l),g(r,u),g(a,o),x(c,a,null),g(a,f),_&&_.m(a,null),g(a,h),v&&v.m(a,null),g(a,d),x(p,a,null),m=!0},p(M,[w]){M[0]?_?w&1&&y(_,1):(_=tn(),_.c(),y(_,1),_.m(a,h)):_&&(Fe(),$(_,1,1,()=>{_=null}),We()),M[1]?v?w&2&&y(v,1):(v=nn(),v.c(),y(v,1),v.m(a,d)):v&&(Fe(),$(v,1,1,()=>{v=null}),We())},i(M){m||(y(e.$$.fragment,M),y(s.$$.fragment,M),y(c.$$.fragment,M),y(_),y(v),y(p.$$.fragment,M),m=!0)},o(M){$(e.$$.fragment,M),$(s.$$.fragment,M),$(c.$$.fragment,M),$(_),$(v),$(p.$$.fragment,M),m=!1},d(M){M&&k(t),A(e),A(s),A(c),_&&_.d(),v&&v.d(),A(p)}}}function fr(i,t,e){let n,a;return R(i,cn,r=>e(0,n=r)),R(i,un,r=>e(1,a=r)),[n,a]}class dr extends F{constructor(t){super();W(this,t,fr,cr,j,{})}}new dr({target:document.getElementById("root")});
